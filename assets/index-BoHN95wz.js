var Hv=a=>{throw TypeError(a)};var Wh=(a,t,e)=>t.has(a)||Hv("Cannot "+e);var te=(a,t,e)=>(Wh(a,t,"read from private field"),e?e.call(a):t.get(a)),ri=(a,t,e)=>t.has(a)?Hv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),dn=(a,t,e,i)=>(Wh(a,t,"write to private field"),i?i.call(a,e):t.set(a,e),e),oi=(a,t,e)=>(Wh(a,t,"access private method"),e);var jv=(a,t,e,i)=>({set _(r){dn(a,t,r,e)},get _(){return te(a,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function hp(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Kh={exports:{}},To={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function HS(){if(Uv)return To;Uv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:a,type:i,key:c,ref:r!==void 0?r:null,props:o}}return To.Fragment=t,To.jsx=e,To.jsxs=e,To}var Vv;function jS(){return Vv||(Vv=1,Kh.exports=HS()),Kh.exports}var L=jS(),Qh={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function US(){if(Gv)return Mt;Gv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function E(R,G,tt){this.props=R,this.context=G,this.refs=x,this.updater=tt||y}E.prototype.isReactComponent={},E.prototype.setState=function(R,G){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,G,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function S(){}S.prototype=E.prototype;function k(R,G,tt){this.props=R,this.context=G,this.refs=x,this.updater=tt||y}var M=k.prototype=new S;M.constructor=k,w(M,E.prototype),M.isPureReactComponent=!0;var N=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function B(R,G,tt,X,at,lt){return tt=lt.ref,{$$typeof:a,type:R,key:G,ref:tt!==void 0?tt:null,props:lt}}function U(R,G){return B(R.type,G,void 0,void 0,void 0,R.props)}function Q(R){return typeof R=="object"&&R!==null&&R.$$typeof===a}function it(R){var G={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(tt){return G[tt]})}var I=/\/+/g;function j(R,G){return typeof R=="object"&&R!==null&&R.key!=null?it(""+R.key):G.toString(36)}function Z(){}function $(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Z,Z):(R.status="pending",R.then(function(G){R.status==="pending"&&(R.status="fulfilled",R.value=G)},function(G){R.status==="pending"&&(R.status="rejected",R.reason=G)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function J(R,G,tt,X,at){var lt=typeof R;(lt==="undefined"||lt==="boolean")&&(R=null);var ot=!1;if(R===null)ot=!0;else switch(lt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(R.$$typeof){case a:case t:ot=!0;break;case p:return ot=R._init,J(ot(R._payload),G,tt,X,at)}}if(ot)return at=at(R),ot=X===""?"."+j(R,0):X,N(at)?(tt="",ot!=null&&(tt=ot.replace(I,"$&/")+"/"),J(at,G,tt,"",function(jt){return jt})):at!=null&&(Q(at)&&(at=U(at,tt+(at.key==null||R&&R.key===at.key?"":(""+at.key).replace(I,"$&/")+"/")+ot)),G.push(at)),1;ot=0;var ft=X===""?".":X+":";if(N(R))for(var Rt=0;Rt<R.length;Rt++)X=R[Rt],lt=ft+j(X,Rt),ot+=J(X,G,tt,lt,at);else if(Rt=v(R),typeof Rt=="function")for(R=Rt.call(R),Rt=0;!(X=R.next()).done;)X=X.value,lt=ft+j(X,Rt++),ot+=J(X,G,tt,lt,at);else if(lt==="object"){if(typeof R.then=="function")return J($(R),G,tt,X,at);throw G=String(R),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ot}function T(R,G,tt){if(R==null)return R;var X=[],at=0;return J(R,X,"","",function(lt){return G.call(tt,lt,at++)}),X}function P(R){if(R._status===-1){var G=R._result;G=G(),G.then(function(tt){(R._status===0||R._status===-1)&&(R._status=1,R._result=tt)},function(tt){(R._status===0||R._status===-1)&&(R._status=2,R._result=tt)}),R._status===-1&&(R._status=0,R._result=G)}if(R._status===1)return R._result.default;throw R._result}var H=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function rt(){}return Mt.Children={map:T,forEach:function(R,G,tt){T(R,function(){G.apply(this,arguments)},tt)},count:function(R){var G=0;return T(R,function(){G++}),G},toArray:function(R){return T(R,function(G){return G})||[]},only:function(R){if(!Q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Mt.Component=E,Mt.Fragment=e,Mt.Profiler=r,Mt.PureComponent=k,Mt.StrictMode=i,Mt.Suspense=h,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return D.H.useMemoCache(R)}},Mt.cache=function(R){return function(){return R.apply(null,arguments)}},Mt.cloneElement=function(R,G,tt){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var X=w({},R.props),at=R.key,lt=void 0;if(G!=null)for(ot in G.ref!==void 0&&(lt=void 0),G.key!==void 0&&(at=""+G.key),G)!z.call(G,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&G.ref===void 0||(X[ot]=G[ot]);var ot=arguments.length-2;if(ot===1)X.children=tt;else if(1<ot){for(var ft=Array(ot),Rt=0;Rt<ot;Rt++)ft[Rt]=arguments[Rt+2];X.children=ft}return B(R.type,at,void 0,void 0,lt,X)},Mt.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Mt.createElement=function(R,G,tt){var X,at={},lt=null;if(G!=null)for(X in G.key!==void 0&&(lt=""+G.key),G)z.call(G,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(at[X]=G[X]);var ot=arguments.length-2;if(ot===1)at.children=tt;else if(1<ot){for(var ft=Array(ot),Rt=0;Rt<ot;Rt++)ft[Rt]=arguments[Rt+2];at.children=ft}if(R&&R.defaultProps)for(X in ot=R.defaultProps,ot)at[X]===void 0&&(at[X]=ot[X]);return B(R,lt,void 0,void 0,null,at)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(R){return{$$typeof:u,render:R}},Mt.isValidElement=Q,Mt.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:P}},Mt.memo=function(R,G){return{$$typeof:f,type:R,compare:G===void 0?null:G}},Mt.startTransition=function(R){var G=D.T,tt={};D.T=tt;try{var X=R(),at=D.S;at!==null&&at(tt,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(rt,H)}catch(lt){H(lt)}finally{D.T=G}},Mt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Mt.use=function(R){return D.H.use(R)},Mt.useActionState=function(R,G,tt){return D.H.useActionState(R,G,tt)},Mt.useCallback=function(R,G){return D.H.useCallback(R,G)},Mt.useContext=function(R){return D.H.useContext(R)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(R,G){return D.H.useDeferredValue(R,G)},Mt.useEffect=function(R,G,tt){var X=D.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(R,G)},Mt.useId=function(){return D.H.useId()},Mt.useImperativeHandle=function(R,G,tt){return D.H.useImperativeHandle(R,G,tt)},Mt.useInsertionEffect=function(R,G){return D.H.useInsertionEffect(R,G)},Mt.useLayoutEffect=function(R,G){return D.H.useLayoutEffect(R,G)},Mt.useMemo=function(R,G){return D.H.useMemo(R,G)},Mt.useOptimistic=function(R,G){return D.H.useOptimistic(R,G)},Mt.useReducer=function(R,G,tt){return D.H.useReducer(R,G,tt)},Mt.useRef=function(R){return D.H.useRef(R)},Mt.useState=function(R){return D.H.useState(R)},Mt.useSyncExternalStore=function(R,G,tt){return D.H.useSyncExternalStore(R,G,tt)},Mt.useTransition=function(){return D.H.useTransition()},Mt.version="19.1.1",Mt}var qv;function fp(){return qv||(qv=1,Qh.exports=US()),Qh.exports}var _=fp();const Ft=hp(_);var Zh={exports:{}},Mo={},Jh={exports:{}},tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function VS(){return Yv||(Yv=1,(function(a){function t(T,P){var H=T.length;T.push(P);t:for(;0<H;){var rt=H-1>>>1,R=T[rt];if(0<r(R,P))T[rt]=P,T[H]=R,H=rt;else break t}}function e(T){return T.length===0?null:T[0]}function i(T){if(T.length===0)return null;var P=T[0],H=T.pop();if(H!==P){T[0]=H;t:for(var rt=0,R=T.length,G=R>>>1;rt<G;){var tt=2*(rt+1)-1,X=T[tt],at=tt+1,lt=T[at];if(0>r(X,H))at<R&&0>r(lt,X)?(T[rt]=lt,T[at]=H,rt=at):(T[rt]=X,T[tt]=H,rt=tt);else if(at<R&&0>r(lt,H))T[rt]=lt,T[at]=H,rt=at;else break t}}return P}function r(T,P){var H=T.sortIndex-P.sortIndex;return H!==0?H:T.id-P.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();a.unstable_now=function(){return c.now()-u}}var h=[],f=[],p=1,m=null,v=3,y=!1,w=!1,x=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function N(T){for(var P=e(f);P!==null;){if(P.callback===null)i(f);else if(P.startTime<=T)i(f),P.sortIndex=P.expirationTime,t(h,P);else break;P=e(f)}}function D(T){if(x=!1,N(T),!w)if(e(h)!==null)w=!0,z||(z=!0,j());else{var P=e(f);P!==null&&J(D,P.startTime-T)}}var z=!1,B=-1,U=5,Q=-1;function it(){return E?!0:!(a.unstable_now()-Q<U)}function I(){if(E=!1,z){var T=a.unstable_now();Q=T;var P=!0;try{t:{w=!1,x&&(x=!1,k(B),B=-1),y=!0;var H=v;try{e:{for(N(T),m=e(h);m!==null&&!(m.expirationTime>T&&it());){var rt=m.callback;if(typeof rt=="function"){m.callback=null,v=m.priorityLevel;var R=rt(m.expirationTime<=T);if(T=a.unstable_now(),typeof R=="function"){m.callback=R,N(T),P=!0;break e}m===e(h)&&i(h),N(T)}else i(h);m=e(h)}if(m!==null)P=!0;else{var G=e(f);G!==null&&J(D,G.startTime-T),P=!1}}break t}finally{m=null,v=H,y=!1}P=void 0}}finally{P?j():z=!1}}}var j;if(typeof M=="function")j=function(){M(I)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=I,j=function(){$.postMessage(null)}}else j=function(){S(I,0)};function J(T,P){B=S(function(){T(a.unstable_now())},P)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(T){T.callback=null},a.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<T?Math.floor(1e3/T):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(T){switch(v){case 1:case 2:case 3:var P=3;break;default:P=v}var H=v;v=P;try{return T()}finally{v=H}},a.unstable_requestPaint=function(){E=!0},a.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var H=v;v=T;try{return P()}finally{v=H}},a.unstable_scheduleCallback=function(T,P,H){var rt=a.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?rt+H:rt):H=rt,T){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=H+R,T={id:p++,callback:P,priorityLevel:T,startTime:H,expirationTime:R,sortIndex:-1},H>rt?(T.sortIndex=H,t(f,T),e(h)===null&&T===e(f)&&(x?(k(B),B=-1):x=!0,J(D,H-rt))):(T.sortIndex=R,t(h,T),w||y||(w=!0,z||(z=!0,j()))),T},a.unstable_shouldYield=it,a.unstable_wrapCallback=function(T){var P=v;return function(){var H=v;v=P;try{return T.apply(this,arguments)}finally{v=H}}}})(tf)),tf}var Xv;function GS(){return Xv||(Xv=1,Jh.exports=VS()),Jh.exports}var ef={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function qS(){if(Wv)return qe;Wv=1;var a=fp();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(h,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:h,containerInfo:f,implementation:p}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qe.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,p)},qe.flushSync=function(h){var f=c.T,p=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=f,i.p=p,i.d.f()}},qe.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},qe.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},qe.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:y}):p==="script"&&i.d.X(h,{crossOrigin:m,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qe.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},qe.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qe.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},qe.requestFormReset=function(h){i.d.r(h)},qe.unstable_batchedUpdates=function(h,f){return h(f)},qe.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},qe.useFormStatus=function(){return c.H.useHostTransitionStatus()},qe.version="19.1.1",qe}var Kv;function E0(){if(Kv)return ef.exports;Kv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ef.exports=qS(),ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function YS(){if(Qv)return Mo;Qv=1;var a=GS(),t=fp(),e=E0();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function u(n){if(o(n)!==n)throw Error(i(188))}function h(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,d=s;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return u(g),n;if(b===d)return u(g),s;b=b.sibling}throw Error(i(188))}if(l.return!==d.return)l=g,d=b;else{for(var A=!1,C=g.child;C;){if(C===l){A=!0,l=g,d=b;break}if(C===d){A=!0,d=g,l=b;break}C=C.sibling}if(!A){for(C=b.child;C;){if(C===l){A=!0,l=b,d=g;break}if(C===d){A=!0,d=b,l=g;break}C=C.sibling}if(!A)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function f(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=f(n),s!==null)return s;n=n.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),M=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var Z=Symbol.for("react.client.reference");function $(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case D:return"Suspense";case z:return"SuspenseList";case Q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case y:return"Portal";case M:return(n.displayName||"Context")+".Provider";case k:return(n._context.displayName||"Context")+".Consumer";case N:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case B:return s=n.displayName||null,s!==null?s:$(n.type)||"Memo";case U:s=n._payload,n=n._init;try{return $(n(s))}catch{}}return null}var J=Array.isArray,T=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},rt=[],R=-1;function G(n){return{current:n}}function tt(n){0>R||(n.current=rt[R],rt[R]=null,R--)}function X(n,s){R++,rt[R]=n.current,n.current=s}var at=G(null),lt=G(null),ot=G(null),ft=G(null);function Rt(n,s){switch(X(ot,s),X(lt,n),X(at,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?gv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=gv(s),n=mv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}tt(at),X(at,n)}function jt(){tt(at),tt(lt),tt(ot)}function fe(n){n.memoizedState!==null&&X(ft,n);var s=at.current,l=mv(s,n.type);s!==l&&(X(lt,n),X(at,l))}function Se(n){lt.current===n&&(tt(at),tt(lt)),ft.current===n&&(tt(ft),Ao._currentValue=H)}var pe=Object.prototype.hasOwnProperty,sn=a.unstable_scheduleCallback,Mn=a.unstable_cancelCallback,vi=a.unstable_shouldYield,Ct=a.unstable_requestPaint,Xe=a.unstable_now,_s=a.unstable_getCurrentPriorityLevel,ba=a.unstable_ImmediatePriority,va=a.unstable_UserBlockingPriority,yi=a.unstable_NormalPriority,an=a.unstable_LowPriority,Cs=a.unstable_IdlePriority,dl=a.log,ya=a.unstable_setDisableYieldValue,Ts=null,Ee=null;function Zn(n){if(typeof dl=="function"&&ya(n),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(Ts,n)}catch{}}var Ve=Math.clz32?Math.clz32:pl,hl=Math.log,fl=Math.LN2;function pl(n){return n>>>=0,n===0?32:31-(hl(n)/fl|0)|0}var Un=256,rn=4194304;function Vn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Jn(n,s,l){var d=n.pendingLanes;if(d===0)return 0;var g=0,b=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var C=d&134217727;return C!==0?(d=C&~b,d!==0?g=Vn(d):(A&=C,A!==0?g=Vn(A):l||(l=C&~n,l!==0&&(g=Vn(l))))):(C=d&~b,C!==0?g=Vn(C):A!==0?g=Vn(A):l||(l=d&~n,l!==0&&(g=Vn(l)))),g===0?0:s!==0&&s!==g&&(s&b)===0&&(b=g&-g,l=s&-s,b>=l||b===32&&(l&4194048)!==0)?s:g}function Gi(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function wi(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(){var n=Un;return Un<<=1,(Un&4194048)===0&&(Un=256),n}function wa(){var n=rn;return rn<<=1,(rn&62914560)===0&&(rn=4194304),n}function Ms(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function xi(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function gl(n,s,l,d,g,b){var A=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var C=n.entanglements,O=n.expirationTimes,Y=n.hiddenUpdates;for(l=A&~l;0<l;){var et=31-Ve(l),st=1<<et;C[et]=0,O[et]=-1;var W=Y[et];if(W!==null)for(Y[et]=null,et=0;et<W.length;et++){var K=W[et];K!==null&&(K.lane&=-536870913)}l&=~st}d!==0&&ml(n,d,0),b!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=b&~(A&~s))}function ml(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var d=31-Ve(s);n.entangledLanes|=s,n.entanglements[d]=n.entanglements[d]|1073741824|l&4194090}function Rs(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var d=31-Ve(l),g=1<<d;g&s|n[d]&s&&(n[d]|=s),l&=~g}}function vn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function kr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function bl(){var n=P.p;return n!==0?n:(n=window.event,n===void 0?32:Ov(n.type))}function ae(n,s){var l=P.p;try{return P.p=n,s()}finally{P.p=l}}var ti=Math.random().toString(36).slice(2),Me="__reactFiber$"+ti,Pe="__reactProps$"+ti,qi="__reactContainer$"+ti,Lr="__reactEvents$"+ti,Hu="__reactListeners$"+ti,ju="__reactHandles$"+ti,vl="__reactResources$"+ti,Ns="__reactMarker$"+ti;function Dr(n){delete n[Me],delete n[Pe],delete n[Lr],delete n[Hu],delete n[ju]}function Yi(n){var s=n[Me];if(s)return s;for(var l=n.parentNode;l;){if(s=l[qi]||l[Me]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=wv(n);n!==null;){if(l=n[Me])return l;n=wv(n)}return s}n=l,l=n.parentNode}return null}function xt(n){if(n=n[Me]||n[qi]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Gn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function xa(n){var s=n[vl];return s||(s=n[vl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Re(n){n[Ns]=!0}var sg=new Set,ag={};function ks(n,s){Aa(n,s),Aa(n+"Capture",s)}function Aa(n,s){for(ag[n]=s,n=0;n<s.length;n++)sg.add(s[n])}var Dx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rg={},og={};function Px(n){return pe.call(og,n)?!0:pe.call(rg,n)?!1:Dx.test(n)?og[n]=!0:(rg[n]=!0,!1)}function yl(n,s,l){if(Px(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function wl(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Ai(n,s,l,d){if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+d)}}var Uu,lg;function Sa(n){if(Uu===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Uu=s&&s[1]||"",lg=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uu+n+lg}var Vu=!1;function Gu(n,s){if(!n||Vu)return"";Vu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(K){var W=K}Reflect.construct(n,[],st)}else{try{st.call()}catch(K){W=K}n.call(st.prototype)}}else{try{throw Error()}catch(K){W=K}(st=n())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(K){if(K&&W&&typeof K.stack=="string")return[K.stack,W.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),A=b[0],C=b[1];if(A&&C){var O=A.split(`
`),Y=C.split(`
`);for(g=d=0;d<O.length&&!O[d].includes("DetermineComponentFrameRoot");)d++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(d===O.length||g===Y.length)for(d=O.length-1,g=Y.length-1;1<=d&&0<=g&&O[d]!==Y[g];)g--;for(;1<=d&&0<=g;d--,g--)if(O[d]!==Y[g]){if(d!==1||g!==1)do if(d--,g--,0>g||O[d]!==Y[g]){var et=`
`+O[d].replace(" at new "," at ");return n.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",n.displayName)),et}while(1<=d&&0<=g);break}}}finally{Vu=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Sa(l):""}function Ox(n){switch(n.tag){case 26:case 27:case 5:return Sa(n.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");case 0:case 15:return Gu(n.type,!1);case 11:return Gu(n.type.render,!1);case 1:return Gu(n.type,!0);case 31:return Sa("Activity");default:return""}}function cg(n){try{var s="";do s+=Ox(n),n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ug(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $x(n){var s=ug(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,b=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(A){d=""+A,b.call(this,A)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function xl(n){n._valueTracker||(n._valueTracker=$x(n))}function dg(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return n&&(d=ug(n)?n.checked?"true":"false":n.value),n=d,n!==l?(s.setValue(n),!0):!1}function Al(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ix=/[\n"\\]/g;function Nn(n){return n.replace(Ix,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qu(n,s,l,d,g,b,A,C){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),s!=null?A==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Rn(s)):n.value!==""+Rn(s)&&(n.value=""+Rn(s)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),s!=null?Yu(n,A,Rn(s)):l!=null?Yu(n,A,Rn(l)):d!=null&&n.removeAttribute("value"),g==null&&b!=null&&(n.defaultChecked=!!b),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Rn(C):n.removeAttribute("name")}function hg(n,s,l,d,g,b,A,C){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;l=l!=null?""+Rn(l):"",s=s!=null?""+Rn(s):l,C||s===n.value||(n.value=s),n.defaultValue=s}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=C?n.checked:!!d,n.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A)}function Yu(n,s,l){s==="number"&&Al(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ea(n,s,l,d){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&d&&(n[l].defaultSelected=!0)}else{for(l=""+Rn(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,d&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function fg(n,s,l){if(s!=null&&(s=""+Rn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Rn(l):""}function pg(n,s,l,d){if(s==null){if(d!=null){if(l!=null)throw Error(i(92));if(J(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),s=l}l=Rn(s),n.defaultValue=l,d=n.textContent,d===l&&d!==""&&d!==null&&(n.value=d)}function _a(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var zx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gg(n,s,l){var d=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":d?n.setProperty(s,l):typeof l!="number"||l===0||zx.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function mg(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var g in s)d=s[g],s.hasOwnProperty(g)&&l[g]!==d&&gg(n,g,d)}else for(var b in s)s.hasOwnProperty(b)&&gg(n,b,s[b])}function Xu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sl(n){return Bx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Wu=null;function Ku(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ca=null,Ta=null;function bg(n){var s=xt(n);if(s&&(n=s.stateNode)){var l=n[Pe]||null;t:switch(n=s.stateNode,s.type){case"input":if(qu(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Nn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==n&&d.form===n.form){var g=d[Pe]||null;if(!g)throw Error(i(90));qu(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)d=l[s],d.form===n.form&&dg(d)}break t;case"textarea":fg(n,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&Ea(n,!!l.multiple,s,!1)}}}var Qu=!1;function vg(n,s,l){if(Qu)return n(s,l);Qu=!0;try{var d=n(s);return d}finally{if(Qu=!1,(Ca!==null||Ta!==null)&&(lc(),Ca&&(s=Ca,n=Ta,Ta=Ca=null,bg(s),n)))for(s=0;s<n.length;s++)bg(n[s])}}function Pr(n,s){var l=n.stateNode;if(l===null)return null;var d=l[Pe]||null;if(d===null)return null;l=d[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=!1;if(Si)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Zu=!1}var Xi=null,Ju=null,El=null;function yg(){if(El)return El;var n,s=Ju,l=s.length,d,g="value"in Xi?Xi.value:Xi.textContent,b=g.length;for(n=0;n<l&&s[n]===g[n];n++);var A=l-n;for(d=1;d<=A&&s[l-d]===g[b-d];d++);return El=g.slice(n,1<d?1-d:void 0)}function _l(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Cl(){return!0}function wg(){return!1}function on(n){function s(l,d,g,b,A){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(l=n[C],this[C]=l?l(b):b[C]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Cl:wg,this.isPropagationStopped=wg,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),s}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=on(Ls),$r=p({},Ls,{view:0,detail:0}),Hx=on($r),td,ed,Ir,Ml=p({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ir&&(Ir&&n.type==="mousemove"?(td=n.screenX-Ir.screenX,ed=n.screenY-Ir.screenY):ed=td=0,Ir=n),td)},movementY:function(n){return"movementY"in n?n.movementY:ed}}),xg=on(Ml),jx=p({},Ml,{dataTransfer:0}),Ux=on(jx),Vx=p({},$r,{relatedTarget:0}),nd=on(Vx),Gx=p({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),qx=on(Gx),Yx=p({},Ls,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xx=on(Yx),Wx=p({},Ls,{data:0}),Ag=on(Wx),Kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jx(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Zx[n])?!!s[n]:!1}function id(){return Jx}var tA=p({},$r,{key:function(n){if(n.key){var s=Kx[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=_l(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(n){return n.type==="keypress"?_l(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_l(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),eA=on(tA),nA=p({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sg=on(nA),iA=p({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),sA=on(iA),aA=p({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),rA=on(aA),oA=p({},Ml,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),lA=on(oA),cA=p({},Ls,{newState:0,oldState:0}),uA=on(cA),dA=[9,13,27,32],sd=Si&&"CompositionEvent"in window,zr=null;Si&&"documentMode"in document&&(zr=document.documentMode);var hA=Si&&"TextEvent"in window&&!zr,Eg=Si&&(!sd||zr&&8<zr&&11>=zr),_g=" ",Cg=!1;function Tg(n,s){switch(n){case"keyup":return dA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ma=!1;function fA(n,s){switch(n){case"compositionend":return Mg(s);case"keypress":return s.which!==32?null:(Cg=!0,_g);case"textInput":return n=s.data,n===_g&&Cg?null:n;default:return null}}function pA(n,s){if(Ma)return n==="compositionend"||!sd&&Tg(n,s)?(n=yg(),El=Ju=Xi=null,Ma=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Eg&&s.locale!=="ko"?null:s.data;default:return null}}var gA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!gA[n.type]:s==="textarea"}function Ng(n,s,l,d){Ca?Ta?Ta.push(d):Ta=[d]:Ca=d,s=pc(s,"onChange"),0<s.length&&(l=new Tl("onChange","change",null,l,d),n.push({event:l,listeners:s}))}var Fr=null,Br=null;function mA(n){uv(n,0)}function Rl(n){var s=Gn(n);if(dg(s))return n}function kg(n,s){if(n==="change")return s}var Lg=!1;if(Si){var ad;if(Si){var rd="oninput"in document;if(!rd){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),rd=typeof Dg.oninput=="function"}ad=rd}else ad=!1;Lg=ad&&(!document.documentMode||9<document.documentMode)}function Pg(){Fr&&(Fr.detachEvent("onpropertychange",Og),Br=Fr=null)}function Og(n){if(n.propertyName==="value"&&Rl(Br)){var s=[];Ng(s,Br,n,Ku(n)),vg(mA,s)}}function bA(n,s,l){n==="focusin"?(Pg(),Fr=s,Br=l,Fr.attachEvent("onpropertychange",Og)):n==="focusout"&&Pg()}function vA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Rl(Br)}function yA(n,s){if(n==="click")return Rl(s)}function wA(n,s){if(n==="input"||n==="change")return Rl(s)}function xA(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var yn=typeof Object.is=="function"?Object.is:xA;function Hr(n,s){if(yn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!pe.call(s,g)||!yn(n[g],s[g]))return!1}return!0}function $g(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ig(n,s){var l=$g(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=s&&d>=s)return{node:l,offset:s-n};n=d}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=$g(l)}}function zg(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?zg(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Fg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Al(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Al(n.document)}return s}function od(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var AA=Si&&"documentMode"in document&&11>=document.documentMode,Ra=null,ld=null,jr=null,cd=!1;function Bg(n,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cd||Ra==null||Ra!==Al(d)||(d=Ra,"selectionStart"in d&&od(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),jr&&Hr(jr,d)||(jr=d,d=pc(ld,"onSelect"),0<d.length&&(s=new Tl("onSelect","select",null,s,l),n.push({event:s,listeners:d}),s.target=Ra)))}function Ds(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Na={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},ud={},Hg={};Si&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Ps(n){if(ud[n])return ud[n];if(!Na[n])return n;var s=Na[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in Hg)return ud[n]=s[l];return n}var jg=Ps("animationend"),Ug=Ps("animationiteration"),Vg=Ps("animationstart"),SA=Ps("transitionrun"),EA=Ps("transitionstart"),_A=Ps("transitioncancel"),Gg=Ps("transitionend"),qg=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function qn(n,s){qg.set(n,s),ks(s,[n])}var Yg=new WeakMap;function kn(n,s){if(typeof n=="object"&&n!==null){var l=Yg.get(n);return l!==void 0?l:(s={value:n,source:s,stack:cg(s)},Yg.set(n,s),s)}return{value:n,source:s,stack:cg(s)}}var Ln=[],ka=0,hd=0;function Nl(){for(var n=ka,s=hd=ka=0;s<n;){var l=Ln[s];Ln[s++]=null;var d=Ln[s];Ln[s++]=null;var g=Ln[s];Ln[s++]=null;var b=Ln[s];if(Ln[s++]=null,d!==null&&g!==null){var A=d.pending;A===null?g.next=g:(g.next=A.next,A.next=g),d.pending=g}b!==0&&Xg(l,g,b)}}function kl(n,s,l,d){Ln[ka++]=n,Ln[ka++]=s,Ln[ka++]=l,Ln[ka++]=d,hd|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function fd(n,s,l,d){return kl(n,s,l,d),Ll(n)}function La(n,s){return kl(n,null,null,s),Ll(n)}function Xg(n,s,l){n.lanes|=l;var d=n.alternate;d!==null&&(d.lanes|=l);for(var g=!1,b=n.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(g=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,g&&s!==null&&(g=31-Ve(l),n=b.hiddenUpdates,d=n[g],d===null?n[g]=[s]:d.push(s),s.lane=l|536870912),b):null}function Ll(n){if(50<po)throw po=0,yh=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Da={};function CA(n,s,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,s,l,d){return new CA(n,s,l,d)}function pd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ei(n,s){var l=n.alternate;return l===null?(l=wn(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Wg(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Dl(n,s,l,d,g,b){var A=0;if(d=n,typeof n=="function")pd(n)&&(A=1);else if(typeof n=="string")A=MS(n,l,at.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case Q:return n=wn(31,l,s,g),n.elementType=Q,n.lanes=b,n;case w:return Os(l.children,g,b,s);case x:A=8,g|=24;break;case E:return n=wn(12,l,s,g|2),n.elementType=E,n.lanes=b,n;case D:return n=wn(13,l,s,g),n.elementType=D,n.lanes=b,n;case z:return n=wn(19,l,s,g),n.elementType=z,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case S:case M:A=10;break t;case k:A=9;break t;case N:A=11;break t;case B:A=14;break t;case U:A=16,d=null;break t}A=29,l=Error(i(130,n===null?"null":typeof n,"")),d=null}return s=wn(A,l,s,g),s.elementType=n,s.type=d,s.lanes=b,s}function Os(n,s,l,d){return n=wn(7,n,d,s),n.lanes=l,n}function gd(n,s,l){return n=wn(6,n,null,s),n.lanes=l,n}function md(n,s,l){return s=wn(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Pa=[],Oa=0,Pl=null,Ol=0,Dn=[],Pn=0,$s=null,_i=1,Ci="";function Is(n,s){Pa[Oa++]=Ol,Pa[Oa++]=Pl,Pl=n,Ol=s}function Kg(n,s,l){Dn[Pn++]=_i,Dn[Pn++]=Ci,Dn[Pn++]=$s,$s=n;var d=_i;n=Ci;var g=32-Ve(d)-1;d&=~(1<<g),l+=1;var b=32-Ve(s)+g;if(30<b){var A=g-g%5;b=(d&(1<<A)-1).toString(32),d>>=A,g-=A,_i=1<<32-Ve(s)+g|l<<g|d,Ci=b+n}else _i=1<<b|l<<g|d,Ci=n}function bd(n){n.return!==null&&(Is(n,1),Kg(n,1,0))}function vd(n){for(;n===Pl;)Pl=Pa[--Oa],Pa[Oa]=null,Ol=Pa[--Oa],Pa[Oa]=null;for(;n===$s;)$s=Dn[--Pn],Dn[Pn]=null,Ci=Dn[--Pn],Dn[Pn]=null,_i=Dn[--Pn],Dn[Pn]=null}var We=null,re=null,Ht=!1,zs=null,ei=!1,yd=Error(i(519));function Fs(n){var s=Error(i(418,""));throw Gr(kn(s,n)),yd}function Qg(n){var s=n.stateNode,l=n.type,d=n.memoizedProps;switch(s[Me]=n,s[Pe]=d,l){case"dialog":Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":case"embed":Pt("load",s);break;case"video":case"audio":for(l=0;l<mo.length;l++)Pt(mo[l],s);break;case"source":Pt("error",s);break;case"img":case"image":case"link":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"input":Pt("invalid",s),hg(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),xl(s);break;case"select":Pt("invalid",s);break;case"textarea":Pt("invalid",s),pg(s,d.value,d.defaultValue,d.children),xl(s)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||d.suppressHydrationWarning===!0||pv(s.textContent,l)?(d.popover!=null&&(Pt("beforetoggle",s),Pt("toggle",s)),d.onScroll!=null&&Pt("scroll",s),d.onScrollEnd!=null&&Pt("scrollend",s),d.onClick!=null&&(s.onclick=gc),s=!0):s=!1,s||Fs(n)}function Zg(n){for(We=n.return;We;)switch(We.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:We=We.return}}function Ur(n){if(n!==We)return!1;if(!Ht)return Zg(n),Ht=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Oh(n.type,n.memoizedProps)),l=!l),l&&re&&Fs(n),Zg(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){re=Xn(n.nextSibling);break t}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;n=n.nextSibling}re=null}}else s===27?(s=re,us(n.type)?(n=Fh,Fh=null,re=n):re=s):re=We?Xn(n.stateNode.nextSibling):null;return!0}function Vr(){re=We=null,Ht=!1}function Jg(){var n=zs;return n!==null&&(un===null?un=n:un.push.apply(un,n),zs=null),n}function Gr(n){zs===null?zs=[n]:zs.push(n)}var wd=G(null),Bs=null,Ti=null;function Wi(n,s,l){X(wd,s._currentValue),s._currentValue=l}function Mi(n){n._currentValue=wd.current,tt(wd)}function xd(n,s,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===l)break;n=n.return}}function Ad(n,s,l,d){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var b=g.dependencies;if(b!==null){var A=g.child;b=b.firstContext;t:for(;b!==null;){var C=b;b=g;for(var O=0;O<s.length;O++)if(C.context===s[O]){b.lanes|=l,C=b.alternate,C!==null&&(C.lanes|=l),xd(b.return,l,n),d||(A=null);break t}b=C.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(i(341));A.lanes|=l,b=A.alternate,b!==null&&(b.lanes|=l),xd(A,l,n),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===n){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function qr(n,s,l,d){n=null;for(var g=s,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var C=g.type;yn(g.pendingProps.value,A.value)||(n!==null?n.push(C):n=[C])}}else if(g===ft.current){if(A=g.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Ao):n=[Ao])}g=g.return}n!==null&&Ad(s,n,l,d),s.flags|=262144}function $l(n){for(n=n.firstContext;n!==null;){if(!yn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Hs(n){Bs=n,Ti=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ge(n){return tm(Bs,n)}function Il(n,s){return Bs===null&&Hs(n),tm(n,s)}function tm(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ti===null){if(n===null)throw Error(i(308));Ti=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Ti=Ti.next=s;return l}var TA=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,d){n.push(d)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},MA=a.unstable_scheduleCallback,RA=a.unstable_NormalPriority,_e={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new TA,data:new Map,refCount:0}}function Yr(n){n.refCount--,n.refCount===0&&MA(RA,function(){n.controller.abort()})}var Xr=null,Ed=0,$a=0,Ia=null;function NA(n,s){if(Xr===null){var l=Xr=[];Ed=0,$a=Ch(),Ia={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Ed++,s.then(em,em),s}function em(){if(--Ed===0&&Xr!==null){Ia!==null&&(Ia.status="fulfilled");var n=Xr;Xr=null,$a=0,Ia=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function kA(n,s){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){d.status="fulfilled",d.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var nm=T.S;T.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&NA(n,s),nm!==null&&nm(n,s)};var js=G(null);function _d(){var n=js.current;return n!==null?n:Qt.pooledCache}function zl(n,s){s===null?X(js,js.current):X(js,s.pool)}function im(){var n=_d();return n===null?null:{parent:_e._currentValue,pool:n}}var Wr=Error(i(460)),sm=Error(i(474)),Fl=Error(i(542)),Cd={then:function(){}};function am(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Bl(){}function rm(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(Bl,Bl),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,lm(n),n;default:if(typeof s.status=="string")s.then(Bl,Bl);else{if(n=Qt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(d){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=d}},function(d){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,lm(n),n}throw Kr=s,Wr}}var Kr=null;function om(){if(Kr===null)throw Error(i(459));var n=Kr;return Kr=null,n}function lm(n){if(n===Wr||n===Fl)throw Error(i(483))}var Ki=!1;function Td(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Qi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zi(n,s,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Ut&2)!==0){var g=d.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),d.pending=s,s=Ll(n),Xg(n,null,l),s}return kl(n,d,s,l),Ll(n)}function Qr(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,Rs(n,l)}}function Rd(n,s){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=A:b=b.next=A,l=l.next}while(l!==null);b===null?g=b=s:b=b.next=s}else g=b=s;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var Nd=!1;function Zr(){if(Nd){var n=Ia;if(n!==null)throw n}}function Jr(n,s,l,d){Nd=!1;var g=n.updateQueue;Ki=!1;var b=g.firstBaseUpdate,A=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var O=C,Y=O.next;O.next=null,A===null?b=Y:A.next=Y,A=O;var et=n.alternate;et!==null&&(et=et.updateQueue,C=et.lastBaseUpdate,C!==A&&(C===null?et.firstBaseUpdate=Y:C.next=Y,et.lastBaseUpdate=O))}if(b!==null){var st=g.baseState;A=0,et=Y=O=null,C=b;do{var W=C.lane&-536870913,K=W!==C.lane;if(K?(zt&W)===W:(d&W)===W){W!==0&&W===$a&&(Nd=!0),et!==null&&(et=et.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var At=n,vt=C;W=s;var Yt=l;switch(vt.tag){case 1:if(At=vt.payload,typeof At=="function"){st=At.call(Yt,st,W);break t}st=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=vt.payload,W=typeof At=="function"?At.call(Yt,st,W):At,W==null)break t;st=p({},st,W);break t;case 2:Ki=!0}}W=C.callback,W!==null&&(n.flags|=64,K&&(n.flags|=8192),K=g.callbacks,K===null?g.callbacks=[W]:K.push(W))}else K={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},et===null?(Y=et=K,O=st):et=et.next=K,A|=W;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;K=C,C=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);et===null&&(O=st),g.baseState=O,g.firstBaseUpdate=Y,g.lastBaseUpdate=et,b===null&&(g.shared.lanes=0),rs|=A,n.lanes=A,n.memoizedState=st}}function cm(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function um(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)cm(l[n],s)}var za=G(null),Hl=G(0);function dm(n,s){n=Oi,X(Hl,n),X(za,s),Oi=n|s.baseLanes}function kd(){X(Hl,Oi),X(za,za.current)}function Ld(){Oi=Hl.current,tt(za),tt(Hl)}var Ji=0,kt=null,Gt=null,ge=null,jl=!1,Fa=!1,Us=!1,Ul=0,to=0,Ba=null,LA=0;function le(){throw Error(i(321))}function Dd(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!yn(n[l],s[l]))return!1;return!0}function Pd(n,s,l,d,g,b){return Ji=b,kt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,T.H=n===null||n.memoizedState===null?Xm:Wm,Us=!1,b=l(d,g),Us=!1,Fa&&(b=fm(s,l,d,g)),hm(n),b}function hm(n){T.H=Wl;var s=Gt!==null&&Gt.next!==null;if(Ji=0,ge=Gt=kt=null,jl=!1,to=0,Ba=null,s)throw Error(i(300));n===null||Ne||(n=n.dependencies,n!==null&&$l(n)&&(Ne=!0))}function fm(n,s,l,d){kt=n;var g=0;do{if(Fa&&(Ba=null),to=0,Fa=!1,25<=g)throw Error(i(301));if(g+=1,ge=Gt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}T.H=FA,b=s(l,d)}while(Fa);return b}function DA(){var n=T.H,s=n.useState()[0];return s=typeof s.then=="function"?eo(s):s,n=n.useState()[0],(Gt!==null?Gt.memoizedState:null)!==n&&(kt.flags|=1024),s}function Od(){var n=Ul!==0;return Ul=0,n}function $d(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Id(n){if(jl){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jl=!1}Ji=0,ge=Gt=kt=null,Fa=!1,to=Ul=0,Ba=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?kt.memoizedState=ge=n:ge=ge.next=n,ge}function me(){if(Gt===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=Gt.next;var s=ge===null?kt.memoizedState:ge.next;if(s!==null)ge=s,Gt=n;else{if(n===null)throw kt.alternate===null?Error(i(467)):Error(i(310));Gt=n,n={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},ge===null?kt.memoizedState=ge=n:ge=ge.next=n}return ge}function zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(n){var s=to;return to+=1,Ba===null&&(Ba=[]),n=rm(Ba,n,s),s=kt,(ge===null?s.memoizedState:ge.next)===null&&(s=s.alternate,T.H=s===null||s.memoizedState===null?Xm:Wm),n}function Vl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return eo(n);if(n.$$typeof===M)return Ge(n)}throw Error(i(438,String(n)))}function Fd(n){var s=null,l=kt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var d=kt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=zd(),kt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),d=0;d<n;d++)l[d]=it;return s.index++,l}function Ri(n,s){return typeof s=="function"?s(n):s}function Gl(n){var s=me();return Bd(s,Gt,n)}function Bd(n,s,l){var d=n.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var g=n.baseQueue,b=d.pending;if(b!==null){if(g!==null){var A=g.next;g.next=b.next,b.next=A}s.baseQueue=g=b,d.pending=null}if(b=n.baseState,g===null)n.memoizedState=b;else{s=g.next;var C=A=null,O=null,Y=s,et=!1;do{var st=Y.lane&-536870913;if(st!==Y.lane?(zt&st)===st:(Ji&st)===st){var W=Y.revertLane;if(W===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),st===$a&&(et=!0);else if((Ji&W)===W){Y=Y.next,W===$a&&(et=!0);continue}else st={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(C=O=st,A=b):O=O.next=st,kt.lanes|=W,rs|=W;st=Y.action,Us&&l(b,st),b=Y.hasEagerState?Y.eagerState:l(b,st)}else W={lane:st,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(C=O=W,A=b):O=O.next=W,kt.lanes|=st,rs|=st;Y=Y.next}while(Y!==null&&Y!==s);if(O===null?A=b:O.next=C,!yn(b,n.memoizedState)&&(Ne=!0,et&&(l=Ia,l!==null)))throw l;n.memoizedState=b,n.baseState=A,n.baseQueue=O,d.lastRenderedState=b}return g===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function Hd(n){var s=me(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var d=l.dispatch,g=l.pending,b=s.memoizedState;if(g!==null){l.pending=null;var A=g=g.next;do b=n(b,A.action),A=A.next;while(A!==g);yn(b,s.memoizedState)||(Ne=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,d]}function pm(n,s,l){var d=kt,g=me(),b=Ht;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=s();var A=!yn((Gt||g).memoizedState,l);A&&(g.memoizedState=l,Ne=!0),g=g.queue;var C=bm.bind(null,d,g,n);if(no(2048,8,C,[n]),g.getSnapshot!==s||A||ge!==null&&ge.memoizedState.tag&1){if(d.flags|=2048,Ha(9,ql(),mm.bind(null,d,g,l,s),null),Qt===null)throw Error(i(349));b||(Ji&124)!==0||gm(d,s,l)}return l}function gm(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=kt.updateQueue,s===null?(s=zd(),kt.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function mm(n,s,l,d){s.value=l,s.getSnapshot=d,vm(s)&&ym(n)}function bm(n,s,l){return l(function(){vm(s)&&ym(n)})}function vm(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!yn(n,l)}catch{return!0}}function ym(n){var s=La(n,2);s!==null&&_n(s,n,2)}function jd(n){var s=ln();if(typeof n=="function"){var l=n;if(n=l(),Us){Zn(!0);try{l()}finally{Zn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:n},s}function wm(n,s,l,d){return n.baseState=l,Bd(n,Gt,typeof d=="function"?d:Ri)}function PA(n,s,l,d,g){if(Xl(n))throw Error(i(485));if(n=s.action,n!==null){var b={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};T.T!==null?l(!0):b.isTransition=!1,d(b),l=s.pending,l===null?(b.next=s.pending=b,xm(s,b)):(b.next=l.next,s.pending=l.next=b)}}function xm(n,s){var l=s.action,d=s.payload,g=n.state;if(s.isTransition){var b=T.T,A={};T.T=A;try{var C=l(g,d),O=T.S;O!==null&&O(A,C),Am(n,s,C)}catch(Y){Ud(n,s,Y)}finally{T.T=b}}else try{b=l(g,d),Am(n,s,b)}catch(Y){Ud(n,s,Y)}}function Am(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Sm(n,s,d)},function(d){return Ud(n,s,d)}):Sm(n,s,l)}function Sm(n,s,l){s.status="fulfilled",s.value=l,Em(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,xm(n,l)))}function Ud(n,s,l){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=l,Em(s),s=s.next;while(s!==d)}n.action=null}function Em(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function _m(n,s){return s}function Cm(n,s){if(Ht){var l=Qt.formState;if(l!==null){t:{var d=kt;if(Ht){if(re){e:{for(var g=re,b=ei;g.nodeType!==8;){if(!b){g=null;break e}if(g=Xn(g.nextSibling),g===null){g=null;break e}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){re=Xn(g.nextSibling),d=g.data==="F!";break t}}Fs(d)}d=!1}d&&(s=l[0])}}return l=ln(),l.memoizedState=l.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:s},l.queue=d,l=Gm.bind(null,kt,d),d.dispatch=l,d=jd(!1),b=Xd.bind(null,kt,!1,d.queue),d=ln(),g={state:s,dispatch:null,action:n,pending:null},d.queue=g,l=PA.bind(null,kt,g,b,l),g.dispatch=l,d.memoizedState=n,[s,l,!1]}function Tm(n){var s=me();return Mm(s,Gt,n)}function Mm(n,s,l){if(s=Bd(n,s,_m)[0],n=Gl(Ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=eo(s)}catch(A){throw A===Wr?Fl:A}else d=s;s=me();var g=s.queue,b=g.dispatch;return l!==s.memoizedState&&(kt.flags|=2048,Ha(9,ql(),OA.bind(null,g,l),null)),[d,b,n]}function OA(n,s){n.action=s}function Rm(n){var s=me(),l=Gt;if(l!==null)return Mm(s,l,n);me(),s=s.memoizedState,l=me();var d=l.queue.dispatch;return l.memoizedState=n,[s,d,!1]}function Ha(n,s,l,d){return n={tag:n,create:l,deps:d,inst:s,next:null},s=kt.updateQueue,s===null&&(s=zd(),kt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,s.lastEffect=n),n}function ql(){return{destroy:void 0,resource:void 0}}function Nm(){return me().memoizedState}function Yl(n,s,l,d){var g=ln();d=d===void 0?null:d,kt.flags|=n,g.memoizedState=Ha(1|s,ql(),l,d)}function no(n,s,l,d){var g=me();d=d===void 0?null:d;var b=g.memoizedState.inst;Gt!==null&&d!==null&&Dd(d,Gt.memoizedState.deps)?g.memoizedState=Ha(s,b,l,d):(kt.flags|=n,g.memoizedState=Ha(1|s,b,l,d))}function km(n,s){Yl(8390656,8,n,s)}function Lm(n,s){no(2048,8,n,s)}function Dm(n,s){return no(4,2,n,s)}function Pm(n,s){return no(4,4,n,s)}function Om(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function $m(n,s,l){l=l!=null?l.concat([n]):null,no(4,4,Om.bind(null,s,n),l)}function Vd(){}function Im(n,s){var l=me();s=s===void 0?null:s;var d=l.memoizedState;return s!==null&&Dd(s,d[1])?d[0]:(l.memoizedState=[n,s],n)}function zm(n,s){var l=me();s=s===void 0?null:s;var d=l.memoizedState;if(s!==null&&Dd(s,d[1]))return d[0];if(d=n(),Us){Zn(!0);try{n()}finally{Zn(!1)}}return l.memoizedState=[d,s],d}function Gd(n,s,l){return l===void 0||(Ji&1073741824)!==0?n.memoizedState=s:(n.memoizedState=l,n=Hb(),kt.lanes|=n,rs|=n,l)}function Fm(n,s,l,d){return yn(l,s)?l:za.current!==null?(n=Gd(n,l,d),yn(n,s)||(Ne=!0),n):(Ji&42)===0?(Ne=!0,n.memoizedState=l):(n=Hb(),kt.lanes|=n,rs|=n,s)}function Bm(n,s,l,d,g){var b=P.p;P.p=b!==0&&8>b?b:8;var A=T.T,C={};T.T=C,Xd(n,!1,s,l);try{var O=g(),Y=T.S;if(Y!==null&&Y(C,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var et=kA(O,d);io(n,s,et,En(n))}else io(n,s,d,En(n))}catch(st){io(n,s,{then:function(){},status:"rejected",reason:st},En())}finally{P.p=b,T.T=A}}function $A(){}function qd(n,s,l,d){if(n.tag!==5)throw Error(i(476));var g=Hm(n).queue;Bm(n,g,s,H,l===null?$A:function(){return jm(n),l(d)})}function Hm(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:H},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function jm(n){var s=Hm(n).next.queue;io(n,s,{},En())}function Yd(){return Ge(Ao)}function Um(){return me().memoizedState}function Vm(){return me().memoizedState}function IA(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=En();n=Qi(l);var d=Zi(s,n,l);d!==null&&(_n(d,s,l),Qr(d,s,l)),s={cache:Sd()},n.payload=s;return}s=s.return}}function zA(n,s,l){var d=En();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Xl(n)?qm(s,l):(l=fd(n,s,l,d),l!==null&&(_n(l,n,d),Ym(l,s,d)))}function Gm(n,s,l){var d=En();io(n,s,l,d)}function io(n,s,l,d){var g={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xl(n))qm(s,g);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var A=s.lastRenderedState,C=b(A,l);if(g.hasEagerState=!0,g.eagerState=C,yn(C,A))return kl(n,s,g,0),Qt===null&&Nl(),!1}catch{}finally{}if(l=fd(n,s,g,d),l!==null)return _n(l,n,d),Ym(l,s,d),!0}return!1}function Xd(n,s,l,d){if(d={lane:2,revertLane:Ch(),action:d,hasEagerState:!1,eagerState:null,next:null},Xl(n)){if(s)throw Error(i(479))}else s=fd(n,l,d,2),s!==null&&_n(s,n,2)}function Xl(n){var s=n.alternate;return n===kt||s!==null&&s===kt}function qm(n,s){Fa=jl=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Ym(n,s,l){if((l&4194048)!==0){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,Rs(n,l)}}var Wl={readContext:Ge,use:Vl,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le},Xm={readContext:Ge,use:Vl,useCallback:function(n,s){return ln().memoizedState=[n,s===void 0?null:s],n},useContext:Ge,useEffect:km,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Yl(4194308,4,Om.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Yl(4194308,4,n,s)},useInsertionEffect:function(n,s){Yl(4,2,n,s)},useMemo:function(n,s){var l=ln();s=s===void 0?null:s;var d=n();if(Us){Zn(!0);try{n()}finally{Zn(!1)}}return l.memoizedState=[d,s],d},useReducer:function(n,s,l){var d=ln();if(l!==void 0){var g=l(s);if(Us){Zn(!0);try{l(s)}finally{Zn(!1)}}}else g=s;return d.memoizedState=d.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},d.queue=n,n=n.dispatch=zA.bind(null,kt,n),[d.memoizedState,n]},useRef:function(n){var s=ln();return n={current:n},s.memoizedState=n},useState:function(n){n=jd(n);var s=n.queue,l=Gm.bind(null,kt,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Vd,useDeferredValue:function(n,s){var l=ln();return Gd(l,n,s)},useTransition:function(){var n=jd(!1);return n=Bm.bind(null,kt,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var d=kt,g=ln();if(Ht){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Qt===null)throw Error(i(349));(zt&124)!==0||gm(d,s,l)}g.memoizedState=l;var b={value:l,getSnapshot:s};return g.queue=b,km(bm.bind(null,d,b,n),[n]),d.flags|=2048,Ha(9,ql(),mm.bind(null,d,b,l,s),null),l},useId:function(){var n=ln(),s=Qt.identifierPrefix;if(Ht){var l=Ci,d=_i;l=(d&~(1<<32-Ve(d)-1)).toString(32)+l,s=""+s+"R"+l,l=Ul++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=LA++,s=""+s+"r"+l.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Yd,useFormState:Cm,useActionState:Cm,useOptimistic:function(n){var s=ln();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Xd.bind(null,kt,!0,l),l.dispatch=s,[n,s]},useMemoCache:Fd,useCacheRefresh:function(){return ln().memoizedState=IA.bind(null,kt)}},Wm={readContext:Ge,use:Vl,useCallback:Im,useContext:Ge,useEffect:Lm,useImperativeHandle:$m,useInsertionEffect:Dm,useLayoutEffect:Pm,useMemo:zm,useReducer:Gl,useRef:Nm,useState:function(){return Gl(Ri)},useDebugValue:Vd,useDeferredValue:function(n,s){var l=me();return Fm(l,Gt.memoizedState,n,s)},useTransition:function(){var n=Gl(Ri)[0],s=me().memoizedState;return[typeof n=="boolean"?n:eo(n),s]},useSyncExternalStore:pm,useId:Um,useHostTransitionStatus:Yd,useFormState:Tm,useActionState:Tm,useOptimistic:function(n,s){var l=me();return wm(l,Gt,n,s)},useMemoCache:Fd,useCacheRefresh:Vm},FA={readContext:Ge,use:Vl,useCallback:Im,useContext:Ge,useEffect:Lm,useImperativeHandle:$m,useInsertionEffect:Dm,useLayoutEffect:Pm,useMemo:zm,useReducer:Hd,useRef:Nm,useState:function(){return Hd(Ri)},useDebugValue:Vd,useDeferredValue:function(n,s){var l=me();return Gt===null?Gd(l,n,s):Fm(l,Gt.memoizedState,n,s)},useTransition:function(){var n=Hd(Ri)[0],s=me().memoizedState;return[typeof n=="boolean"?n:eo(n),s]},useSyncExternalStore:pm,useId:Um,useHostTransitionStatus:Yd,useFormState:Rm,useActionState:Rm,useOptimistic:function(n,s){var l=me();return Gt!==null?wm(l,Gt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:Vm},ja=null,so=0;function Kl(n){var s=so;return so+=1,ja===null&&(ja=[]),rm(ja,n,s)}function ao(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ql(n,s){throw s.$$typeof===m?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Km(n){var s=n._init;return s(n._payload)}function Qm(n){function s(V,F){if(n){var q=V.deletions;q===null?(V.deletions=[F],V.flags|=16):q.push(F)}}function l(V,F){if(!n)return null;for(;F!==null;)s(V,F),F=F.sibling;return null}function d(V){for(var F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function g(V,F){return V=Ei(V,F),V.index=0,V.sibling=null,V}function b(V,F,q){return V.index=q,n?(q=V.alternate,q!==null?(q=q.index,q<F?(V.flags|=67108866,F):q):(V.flags|=67108866,F)):(V.flags|=1048576,F)}function A(V){return n&&V.alternate===null&&(V.flags|=67108866),V}function C(V,F,q,nt){return F===null||F.tag!==6?(F=gd(q,V.mode,nt),F.return=V,F):(F=g(F,q),F.return=V,F)}function O(V,F,q,nt){var ht=q.type;return ht===w?et(V,F,q.props.children,nt,q.key):F!==null&&(F.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===U&&Km(ht)===F.type)?(F=g(F,q.props),ao(F,q),F.return=V,F):(F=Dl(q.type,q.key,q.props,null,V.mode,nt),ao(F,q),F.return=V,F)}function Y(V,F,q,nt){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=md(q,V.mode,nt),F.return=V,F):(F=g(F,q.children||[]),F.return=V,F)}function et(V,F,q,nt,ht){return F===null||F.tag!==7?(F=Os(q,V.mode,nt,ht),F.return=V,F):(F=g(F,q),F.return=V,F)}function st(V,F,q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=gd(""+F,V.mode,q),F.return=V,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case v:return q=Dl(F.type,F.key,F.props,null,V.mode,q),ao(q,F),q.return=V,q;case y:return F=md(F,V.mode,q),F.return=V,F;case U:var nt=F._init;return F=nt(F._payload),st(V,F,q)}if(J(F)||j(F))return F=Os(F,V.mode,q,null),F.return=V,F;if(typeof F.then=="function")return st(V,Kl(F),q);if(F.$$typeof===M)return st(V,Il(V,F),q);Ql(V,F)}return null}function W(V,F,q,nt){var ht=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ht!==null?null:C(V,F,""+q,nt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case v:return q.key===ht?O(V,F,q,nt):null;case y:return q.key===ht?Y(V,F,q,nt):null;case U:return ht=q._init,q=ht(q._payload),W(V,F,q,nt)}if(J(q)||j(q))return ht!==null?null:et(V,F,q,nt,null);if(typeof q.then=="function")return W(V,F,Kl(q),nt);if(q.$$typeof===M)return W(V,F,Il(V,q),nt);Ql(V,q)}return null}function K(V,F,q,nt,ht){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return V=V.get(q)||null,C(F,V,""+nt,ht);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case v:return V=V.get(nt.key===null?q:nt.key)||null,O(F,V,nt,ht);case y:return V=V.get(nt.key===null?q:nt.key)||null,Y(F,V,nt,ht);case U:var Lt=nt._init;return nt=Lt(nt._payload),K(V,F,q,nt,ht)}if(J(nt)||j(nt))return V=V.get(q)||null,et(F,V,nt,ht,null);if(typeof nt.then=="function")return K(V,F,q,Kl(nt),ht);if(nt.$$typeof===M)return K(V,F,q,Il(F,nt),ht);Ql(F,nt)}return null}function At(V,F,q,nt){for(var ht=null,Lt=null,pt=F,yt=F=0,Le=null;pt!==null&&yt<q.length;yt++){pt.index>yt?(Le=pt,pt=null):Le=pt.sibling;var Bt=W(V,pt,q[yt],nt);if(Bt===null){pt===null&&(pt=Le);break}n&&pt&&Bt.alternate===null&&s(V,pt),F=b(Bt,F,yt),Lt===null?ht=Bt:Lt.sibling=Bt,Lt=Bt,pt=Le}if(yt===q.length)return l(V,pt),Ht&&Is(V,yt),ht;if(pt===null){for(;yt<q.length;yt++)pt=st(V,q[yt],nt),pt!==null&&(F=b(pt,F,yt),Lt===null?ht=pt:Lt.sibling=pt,Lt=pt);return Ht&&Is(V,yt),ht}for(pt=d(pt);yt<q.length;yt++)Le=K(pt,V,yt,q[yt],nt),Le!==null&&(n&&Le.alternate!==null&&pt.delete(Le.key===null?yt:Le.key),F=b(Le,F,yt),Lt===null?ht=Le:Lt.sibling=Le,Lt=Le);return n&&pt.forEach(function(gs){return s(V,gs)}),Ht&&Is(V,yt),ht}function vt(V,F,q,nt){if(q==null)throw Error(i(151));for(var ht=null,Lt=null,pt=F,yt=F=0,Le=null,Bt=q.next();pt!==null&&!Bt.done;yt++,Bt=q.next()){pt.index>yt?(Le=pt,pt=null):Le=pt.sibling;var gs=W(V,pt,Bt.value,nt);if(gs===null){pt===null&&(pt=Le);break}n&&pt&&gs.alternate===null&&s(V,pt),F=b(gs,F,yt),Lt===null?ht=gs:Lt.sibling=gs,Lt=gs,pt=Le}if(Bt.done)return l(V,pt),Ht&&Is(V,yt),ht;if(pt===null){for(;!Bt.done;yt++,Bt=q.next())Bt=st(V,Bt.value,nt),Bt!==null&&(F=b(Bt,F,yt),Lt===null?ht=Bt:Lt.sibling=Bt,Lt=Bt);return Ht&&Is(V,yt),ht}for(pt=d(pt);!Bt.done;yt++,Bt=q.next())Bt=K(pt,V,yt,Bt.value,nt),Bt!==null&&(n&&Bt.alternate!==null&&pt.delete(Bt.key===null?yt:Bt.key),F=b(Bt,F,yt),Lt===null?ht=Bt:Lt.sibling=Bt,Lt=Bt);return n&&pt.forEach(function(BS){return s(V,BS)}),Ht&&Is(V,yt),ht}function Yt(V,F,q,nt){if(typeof q=="object"&&q!==null&&q.type===w&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case v:t:{for(var ht=q.key;F!==null;){if(F.key===ht){if(ht=q.type,ht===w){if(F.tag===7){l(V,F.sibling),nt=g(F,q.props.children),nt.return=V,V=nt;break t}}else if(F.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===U&&Km(ht)===F.type){l(V,F.sibling),nt=g(F,q.props),ao(nt,q),nt.return=V,V=nt;break t}l(V,F);break}else s(V,F);F=F.sibling}q.type===w?(nt=Os(q.props.children,V.mode,nt,q.key),nt.return=V,V=nt):(nt=Dl(q.type,q.key,q.props,null,V.mode,nt),ao(nt,q),nt.return=V,V=nt)}return A(V);case y:t:{for(ht=q.key;F!==null;){if(F.key===ht)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){l(V,F.sibling),nt=g(F,q.children||[]),nt.return=V,V=nt;break t}else{l(V,F);break}else s(V,F);F=F.sibling}nt=md(q,V.mode,nt),nt.return=V,V=nt}return A(V);case U:return ht=q._init,q=ht(q._payload),Yt(V,F,q,nt)}if(J(q))return At(V,F,q,nt);if(j(q)){if(ht=j(q),typeof ht!="function")throw Error(i(150));return q=ht.call(q),vt(V,F,q,nt)}if(typeof q.then=="function")return Yt(V,F,Kl(q),nt);if(q.$$typeof===M)return Yt(V,F,Il(V,q),nt);Ql(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,F!==null&&F.tag===6?(l(V,F.sibling),nt=g(F,q),nt.return=V,V=nt):(l(V,F),nt=gd(q,V.mode,nt),nt.return=V,V=nt),A(V)):l(V,F)}return function(V,F,q,nt){try{so=0;var ht=Yt(V,F,q,nt);return ja=null,ht}catch(pt){if(pt===Wr||pt===Fl)throw pt;var Lt=wn(29,pt,null,V.mode);return Lt.lanes=nt,Lt.return=V,Lt}finally{}}}var Ua=Qm(!0),Zm=Qm(!1),On=G(null),ni=null;function ts(n){var s=n.alternate;X(Ce,Ce.current&1),X(On,n),ni===null&&(s===null||za.current!==null||s.memoizedState!==null)&&(ni=n)}function Jm(n){if(n.tag===22){if(X(Ce,Ce.current),X(On,n),ni===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(ni=n)}}else es()}function es(){X(Ce,Ce.current),X(On,On.current)}function Ni(n){tt(On),ni===n&&(ni=null),tt(Ce)}var Ce=G(0);function Zl(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||zh(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Wd(n,s,l,d){s=n.memoizedState,l=l(d,s),l=l==null?s:p({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Kd={enqueueSetState:function(n,s,l){n=n._reactInternals;var d=En(),g=Qi(d);g.payload=s,l!=null&&(g.callback=l),s=Zi(n,g,d),s!==null&&(_n(s,n,d),Qr(s,n,d))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var d=En(),g=Qi(d);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Zi(n,g,d),s!==null&&(_n(s,n,d),Qr(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=En(),d=Qi(l);d.tag=2,s!=null&&(d.callback=s),s=Zi(n,d,l),s!==null&&(_n(s,n,l),Qr(s,n,l))}};function tb(n,s,l,d,g,b,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,b,A):s.prototype&&s.prototype.isPureReactComponent?!Hr(l,d)||!Hr(g,b):!0}function eb(n,s,l,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==n&&Kd.enqueueReplaceState(s,s.state,null)}function Vs(n,s){var l=s;if("ref"in s){l={};for(var d in s)d!=="ref"&&(l[d]=s[d])}if(n=n.defaultProps){l===s&&(l=p({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}var Jl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function nb(n){Jl(n)}function ib(n){console.error(n)}function sb(n){Jl(n)}function tc(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function ab(n,s,l){try{var d=n.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Qd(n,s,l){return l=Qi(l),l.tag=3,l.payload={element:null},l.callback=function(){tc(n,s)},l}function rb(n){return n=Qi(n),n.tag=3,n}function ob(n,s,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=d.value;n.payload=function(){return g(b)},n.callback=function(){ab(s,l,d)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){ab(s,l,d),typeof g!="function"&&(os===null?os=new Set([this]):os.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function BA(n,s,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=l.alternate,s!==null&&qr(s,l,g,!0),l=On.current,l!==null){switch(l.tag){case 13:return ni===null?xh():l.alternate===null&&oe===0&&(oe=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===Cd?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([d]):s.add(d),Sh(n,d,g)),!1;case 22:return l.flags|=65536,d===Cd?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([d]):l.add(d)),Sh(n,d,g)),!1}throw Error(i(435,l.tag))}return Sh(n,d,g),xh(),!1}if(Ht)return s=On.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,d!==yd&&(n=Error(i(422),{cause:d}),Gr(kn(n,l)))):(d!==yd&&(s=Error(i(423),{cause:d}),Gr(kn(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,d=kn(d,l),g=Qd(n.stateNode,d,g),Rd(n,g),oe!==4&&(oe=2)),!1;var b=Error(i(520),{cause:d});if(b=kn(b,l),fo===null?fo=[b]:fo.push(b),oe!==4&&(oe=2),s===null)return!0;d=kn(d,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=Qd(l.stateNode,d,n),Rd(l,n),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(os===null||!os.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=rb(g),ob(g,n,l,d),Rd(l,g),!1}l=l.return}while(l!==null);return!1}var lb=Error(i(461)),Ne=!1;function Oe(n,s,l,d){s.child=n===null?Zm(s,null,l,d):Ua(s,n.child,l,d)}function cb(n,s,l,d,g){l=l.render;var b=s.ref;if("ref"in d){var A={};for(var C in d)C!=="ref"&&(A[C]=d[C])}else A=d;return Hs(s),d=Pd(n,s,l,A,b,g),C=Od(),n!==null&&!Ne?($d(n,s,g),ki(n,s,g)):(Ht&&C&&bd(s),s.flags|=1,Oe(n,s,d,g),s.child)}function ub(n,s,l,d,g){if(n===null){var b=l.type;return typeof b=="function"&&!pd(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,db(n,s,b,d,g)):(n=Dl(l.type,null,d,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(b=n.child,!ah(n,g)){var A=b.memoizedProps;if(l=l.compare,l=l!==null?l:Hr,l(A,d)&&n.ref===s.ref)return ki(n,s,g)}return s.flags|=1,n=Ei(b,d),n.ref=s.ref,n.return=s,s.child=n}function db(n,s,l,d,g){if(n!==null){var b=n.memoizedProps;if(Hr(b,d)&&n.ref===s.ref)if(Ne=!1,s.pendingProps=d=b,ah(n,g))(n.flags&131072)!==0&&(Ne=!0);else return s.lanes=n.lanes,ki(n,s,g)}return Zd(n,s,l,d,g)}function hb(n,s,l){var d=s.pendingProps,g=d.children,b=n!==null?n.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=b!==null?b.baseLanes|l:l,n!==null){for(g=s.child=n.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;s.childLanes=b&~d}else s.childLanes=0,s.child=null;return fb(n,s,d,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&zl(s,b!==null?b.cachePool:null),b!==null?dm(s,b):kd(),Jm(s);else return s.lanes=s.childLanes=536870912,fb(n,s,b!==null?b.baseLanes|l:l,l)}else b!==null?(zl(s,b.cachePool),dm(s,b),es(),s.memoizedState=null):(n!==null&&zl(s,null),kd(),es());return Oe(n,s,g,l),s.child}function fb(n,s,l,d){var g=_d();return g=g===null?null:{parent:_e._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},n!==null&&zl(s,null),kd(),Jm(s),n!==null&&qr(n,s,d,!0),null}function ec(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function Zd(n,s,l,d,g){return Hs(s),l=Pd(n,s,l,d,void 0,g),d=Od(),n!==null&&!Ne?($d(n,s,g),ki(n,s,g)):(Ht&&d&&bd(s),s.flags|=1,Oe(n,s,l,g),s.child)}function pb(n,s,l,d,g,b){return Hs(s),s.updateQueue=null,l=fm(s,d,l,g),hm(n),d=Od(),n!==null&&!Ne?($d(n,s,b),ki(n,s,b)):(Ht&&d&&bd(s),s.flags|=1,Oe(n,s,l,b),s.child)}function gb(n,s,l,d,g){if(Hs(s),s.stateNode===null){var b=Da,A=l.contextType;typeof A=="object"&&A!==null&&(b=Ge(A)),b=new l(d,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Kd,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=d,b.state=s.memoizedState,b.refs={},Td(s),A=l.contextType,b.context=typeof A=="object"&&A!==null?Ge(A):Da,b.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Wd(s,l,A,d),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&Kd.enqueueReplaceState(b,b.state,null),Jr(s,d,b,g),Zr(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(n===null){b=s.stateNode;var C=s.memoizedProps,O=Vs(l,C);b.props=O;var Y=b.context,et=l.contextType;A=Da,typeof et=="object"&&et!==null&&(A=Ge(et));var st=l.getDerivedStateFromProps;et=typeof st=="function"||typeof b.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,et||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C||Y!==A)&&eb(s,b,d,A),Ki=!1;var W=s.memoizedState;b.state=W,Jr(s,d,b,g),Zr(),Y=s.memoizedState,C||W!==Y||Ki?(typeof st=="function"&&(Wd(s,l,st,d),Y=s.memoizedState),(O=Ki||tb(s,l,O,d,W,Y,A))?(et||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=Y),b.props=d,b.state=Y,b.context=A,d=O):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,Md(n,s),A=s.memoizedProps,et=Vs(l,A),b.props=et,st=s.pendingProps,W=b.context,Y=l.contextType,O=Da,typeof Y=="object"&&Y!==null&&(O=Ge(Y)),C=l.getDerivedStateFromProps,(Y=typeof C=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==st||W!==O)&&eb(s,b,d,O),Ki=!1,W=s.memoizedState,b.state=W,Jr(s,d,b,g),Zr();var K=s.memoizedState;A!==st||W!==K||Ki||n!==null&&n.dependencies!==null&&$l(n.dependencies)?(typeof C=="function"&&(Wd(s,l,C,d),K=s.memoizedState),(et=Ki||tb(s,l,et,d,W,K,O)||n!==null&&n.dependencies!==null&&$l(n.dependencies))?(Y||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,K,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,K,O)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===n.memoizedProps&&W===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&W===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=K),b.props=d,b.state=K,b.context=O,d=et):(typeof b.componentDidUpdate!="function"||A===n.memoizedProps&&W===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&W===n.memoizedState||(s.flags|=1024),d=!1)}return b=d,ec(n,s),d=(s.flags&128)!==0,b||d?(b=s.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,n!==null&&d?(s.child=Ua(s,n.child,null,g),s.child=Ua(s,null,l,g)):Oe(n,s,l,g),s.memoizedState=b.state,n=s.child):n=ki(n,s,g),n}function mb(n,s,l,d){return Vr(),s.flags|=256,Oe(n,s,l,d),s.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function th(n){return{baseLanes:n,cachePool:im()}}function eh(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=$n),n}function bb(n,s,l){var d=s.pendingProps,g=!1,b=(s.flags&128)!==0,A;if((A=b)||(A=n!==null&&n.memoizedState===null?!1:(Ce.current&2)!==0),A&&(g=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ht){if(g?ts(s):es(),Ht){var C=re,O;if(O=C){t:{for(O=C,C=ei;O.nodeType!==8;){if(!C){C=null;break t}if(O=Xn(O.nextSibling),O===null){C=null;break t}}C=O}C!==null?(s.memoizedState={dehydrated:C,treeContext:$s!==null?{id:_i,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},O=wn(18,null,null,0),O.stateNode=C,O.return=s,s.child=O,We=s,re=null,O=!0):O=!1}O||Fs(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return zh(C)?s.lanes=32:s.lanes=536870912,null;Ni(s)}return C=d.children,d=d.fallback,g?(es(),g=s.mode,C=nc({mode:"hidden",children:C},g),d=Os(d,g,l,null),C.return=s,d.return=s,C.sibling=d,s.child=C,g=s.child,g.memoizedState=th(l),g.childLanes=eh(n,A,l),s.memoizedState=Jd,d):(ts(s),nh(s,C))}if(O=n.memoizedState,O!==null&&(C=O.dehydrated,C!==null)){if(b)s.flags&256?(ts(s),s.flags&=-257,s=ih(n,s,l)):s.memoizedState!==null?(es(),s.child=n.child,s.flags|=128,s=null):(es(),g=d.fallback,C=s.mode,d=nc({mode:"visible",children:d.children},C),g=Os(g,C,l,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,Ua(s,n.child,null,l),d=s.child,d.memoizedState=th(l),d.childLanes=eh(n,A,l),s.memoizedState=Jd,s=g);else if(ts(s),zh(C)){if(A=C.nextSibling&&C.nextSibling.dataset,A)var Y=A.dgst;A=Y,d=Error(i(419)),d.stack="",d.digest=A,Gr({value:d,source:null,stack:null}),s=ih(n,s,l)}else if(Ne||qr(n,s,l,!1),A=(l&n.childLanes)!==0,Ne||A){if(A=Qt,A!==null&&(d=l&-l,d=(d&42)!==0?1:vn(d),d=(d&(A.suspendedLanes|l))!==0?0:d,d!==0&&d!==O.retryLane))throw O.retryLane=d,La(n,d),_n(A,n,d),lb;C.data==="$?"||xh(),s=ih(n,s,l)}else C.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=O.treeContext,re=Xn(C.nextSibling),We=s,Ht=!0,zs=null,ei=!1,n!==null&&(Dn[Pn++]=_i,Dn[Pn++]=Ci,Dn[Pn++]=$s,_i=n.id,Ci=n.overflow,$s=s),s=nh(s,d.children),s.flags|=4096);return s}return g?(es(),g=d.fallback,C=s.mode,O=n.child,Y=O.sibling,d=Ei(O,{mode:"hidden",children:d.children}),d.subtreeFlags=O.subtreeFlags&65011712,Y!==null?g=Ei(Y,g):(g=Os(g,C,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,C=n.child.memoizedState,C===null?C=th(l):(O=C.cachePool,O!==null?(Y=_e._currentValue,O=O.parent!==Y?{parent:Y,pool:Y}:O):O=im(),C={baseLanes:C.baseLanes|l,cachePool:O}),g.memoizedState=C,g.childLanes=eh(n,A,l),s.memoizedState=Jd,d):(ts(s),l=n.child,n=l.sibling,l=Ei(l,{mode:"visible",children:d.children}),l.return=s,l.sibling=null,n!==null&&(A=s.deletions,A===null?(s.deletions=[n],s.flags|=16):A.push(n)),s.child=l,s.memoizedState=null,l)}function nh(n,s){return s=nc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function nc(n,s){return n=wn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ih(n,s,l){return Ua(s,n.child,null,l),n=nh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function vb(n,s,l){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),xd(n.return,s,l)}function sh(n,s,l,d,g){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=l,b.tailMode=g)}function yb(n,s,l){var d=s.pendingProps,g=d.revealOrder,b=d.tail;if(Oe(n,s,d.children,l),d=Ce.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&vb(n,l,s);else if(n.tag===19)vb(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(X(Ce,d),g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&Zl(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),sh(s,!1,g,l,b);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&Zl(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}sh(s,!0,l,null,b);break;case"together":sh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ki(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),rs|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(qr(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=Ei(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=Ei(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function ah(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&$l(n)))}function HA(n,s,l){switch(s.tag){case 3:Rt(s,s.stateNode.containerInfo),Wi(s,_e,n.memoizedState.cache),Vr();break;case 27:case 5:fe(s);break;case 4:Rt(s,s.stateNode.containerInfo);break;case 10:Wi(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(ts(s),s.flags|=128,null):(l&s.child.childLanes)!==0?bb(n,s,l):(ts(s),n=ki(n,s,l),n!==null?n.sibling:null);ts(s);break;case 19:var g=(n.flags&128)!==0;if(d=(l&s.childLanes)!==0,d||(qr(n,s,l,!1),d=(l&s.childLanes)!==0),g){if(d)return yb(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),X(Ce,Ce.current),d)break;return null;case 22:case 23:return s.lanes=0,hb(n,s,l);case 24:Wi(s,_e,n.memoizedState.cache)}return ki(n,s,l)}function wb(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ne=!0;else{if(!ah(n,l)&&(s.flags&128)===0)return Ne=!1,HA(n,s,l);Ne=(n.flags&131072)!==0}else Ne=!1,Ht&&(s.flags&1048576)!==0&&Kg(s,Ol,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var d=s.elementType,g=d._init;if(d=g(d._payload),s.type=d,typeof d=="function")pd(d)?(n=Vs(d,n),s.tag=1,s=gb(null,s,d,n,l)):(s.tag=0,s=Zd(null,s,d,n,l));else{if(d!=null){if(g=d.$$typeof,g===N){s.tag=11,s=cb(null,s,d,n,l);break t}else if(g===B){s.tag=14,s=ub(null,s,d,n,l);break t}}throw s=$(d)||d,Error(i(306,s,""))}}return s;case 0:return Zd(n,s,s.type,s.pendingProps,l);case 1:return d=s.type,g=Vs(d,s.pendingProps),gb(n,s,d,g,l);case 3:t:{if(Rt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));d=s.pendingProps;var b=s.memoizedState;g=b.element,Md(n,s),Jr(s,d,null,l);var A=s.memoizedState;if(d=A.cache,Wi(s,_e,d),d!==b.cache&&Ad(s,[_e],l,!0),Zr(),d=A.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=mb(n,s,d,l);break t}else if(d!==g){g=kn(Error(i(424)),s),Gr(g),s=mb(n,s,d,l);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(re=Xn(n.firstChild),We=s,Ht=!0,zs=null,ei=!0,l=Zm(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Vr(),d===g){s=ki(n,s,l);break t}Oe(n,s,d,l)}s=s.child}return s;case 26:return ec(n,s),n===null?(l=Ev(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ht||(l=s.type,n=s.pendingProps,d=mc(ot.current).createElement(l),d[Me]=s,d[Pe]=n,Ie(d,l,n),Re(d),s.stateNode=d):s.memoizedState=Ev(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return fe(s),n===null&&Ht&&(d=s.stateNode=xv(s.type,s.pendingProps,ot.current),We=s,ei=!0,g=re,us(s.type)?(Fh=g,re=Xn(d.firstChild)):re=g),Oe(n,s,s.pendingProps.children,l),ec(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ht&&((g=d=re)&&(d=gS(d,s.type,s.pendingProps,ei),d!==null?(s.stateNode=d,We=s,re=Xn(d.firstChild),ei=!1,g=!0):g=!1),g||Fs(s)),fe(s),g=s.type,b=s.pendingProps,A=n!==null?n.memoizedProps:null,d=b.children,Oh(g,b)?d=null:A!==null&&Oh(g,A)&&(s.flags|=32),s.memoizedState!==null&&(g=Pd(n,s,DA,null,null,l),Ao._currentValue=g),ec(n,s),Oe(n,s,d,l),s.child;case 6:return n===null&&Ht&&((n=l=re)&&(l=mS(l,s.pendingProps,ei),l!==null?(s.stateNode=l,We=s,re=null,n=!0):n=!1),n||Fs(s)),null;case 13:return bb(n,s,l);case 4:return Rt(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=Ua(s,null,d,l):Oe(n,s,d,l),s.child;case 11:return cb(n,s,s.type,s.pendingProps,l);case 7:return Oe(n,s,s.pendingProps,l),s.child;case 8:return Oe(n,s,s.pendingProps.children,l),s.child;case 12:return Oe(n,s,s.pendingProps.children,l),s.child;case 10:return d=s.pendingProps,Wi(s,s.type,d.value),Oe(n,s,d.children,l),s.child;case 9:return g=s.type._context,d=s.pendingProps.children,Hs(s),g=Ge(g),d=d(g),s.flags|=1,Oe(n,s,d,l),s.child;case 14:return ub(n,s,s.type,s.pendingProps,l);case 15:return db(n,s,s.type,s.pendingProps,l);case 19:return yb(n,s,l);case 31:return d=s.pendingProps,l=s.mode,d={mode:d.mode,children:d.children},n===null?(l=nc(d,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Ei(n.child,d),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return hb(n,s,l);case 24:return Hs(s),d=Ge(_e),n===null?(g=_d(),g===null&&(g=Qt,b=Sd(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),s.memoizedState={parent:d,cache:g},Td(s),Wi(s,_e,g)):((n.lanes&l)!==0&&(Md(n,s),Jr(s,null,null,l),Zr()),g=n.memoizedState,b=s.memoizedState,g.parent!==d?(g={parent:d,cache:d},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Wi(s,_e,d)):(d=b.cache,Wi(s,_e,d),d!==g.cache&&Ad(s,[_e],l,!0))),Oe(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Li(n){n.flags|=4}function xb(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Rv(s)){if(s=On.current,s!==null&&((zt&4194048)===zt?ni!==null:(zt&62914560)!==zt&&(zt&536870912)===0||s!==ni))throw Kr=Cd,sm;n.flags|=8192}}function ic(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?wa():536870912,n.lanes|=s,Ya|=s)}function ro(n,s){if(!Ht)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function ne(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=d,n.childLanes=l,s}function jA(n,s,l){var d=s.pendingProps;switch(vd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(s),null;case 1:return ne(s),null;case 3:return l=s.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Mi(_e),jt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Ur(s)?Li(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jg())),ne(s),null;case 26:return l=s.memoizedState,n===null?(Li(s),l!==null?(ne(s),xb(s,l)):(ne(s),s.flags&=-16777217)):l?l!==n.memoizedState?(Li(s),ne(s),xb(s,l)):(ne(s),s.flags&=-16777217):(n.memoizedProps!==d&&Li(s),ne(s),s.flags&=-16777217),null;case 27:Se(s),l=ot.current;var g=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==d&&Li(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return ne(s),null}n=at.current,Ur(s)?Qg(s):(n=xv(g,d,l),s.stateNode=n,Li(s))}return ne(s),null;case 5:if(Se(s),l=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==d&&Li(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return ne(s),null}if(n=at.current,Ur(s))Qg(s);else{switch(g=mc(ot.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?n.multiple=!0:d.size&&(n.size=d.size);break;default:n=typeof d.is=="string"?g.createElement(l,{is:d.is}):g.createElement(l)}}n[Me]=s,n[Pe]=d;t:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break t;for(;g.sibling===null;){if(g.return===null||g.return===s)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=n;t:switch(Ie(n,l,d),l){case"button":case"input":case"select":case"textarea":n=!!d.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Li(s)}}return ne(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==d&&Li(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(i(166));if(n=ot.current,Ur(s)){if(n=s.stateNode,l=s.memoizedProps,d=null,g=We,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}n[Me]=s,n=!!(n.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||pv(n.nodeValue,l)),n||Fs(s)}else n=mc(n).createTextNode(d),n[Me]=s,s.stateNode=n}return ne(s),null;case 13:if(d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Ur(s),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Me]=s}else Vr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ne(s),g=!1}else g=Jg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Ni(s),s):(Ni(s),null)}if(Ni(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=d!==null,n=n!==null&&n.memoizedState!==null,l){d=s.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==g&&(d.flags|=2048)}return l!==n&&l&&(s.child.flags|=8192),ic(s,s.updateQueue),ne(s),null;case 4:return jt(),n===null&&Nh(s.stateNode.containerInfo),ne(s),null;case 10:return Mi(s.type),ne(s),null;case 19:if(tt(Ce),g=s.memoizedState,g===null)return ne(s),null;if(d=(s.flags&128)!==0,b=g.rendering,b===null)if(d)ro(g,!1);else{if(oe!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(b=Zl(n),b!==null){for(s.flags|=128,ro(g,!1),n=b.updateQueue,s.updateQueue=n,ic(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)Wg(l,n),l=l.sibling;return X(Ce,Ce.current&1|2),s.child}n=n.sibling}g.tail!==null&&Xe()>rc&&(s.flags|=128,d=!0,ro(g,!1),s.lanes=4194304)}else{if(!d)if(n=Zl(b),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,ic(s,n),ro(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!Ht)return ne(s),null}else 2*Xe()-g.renderingStartTime>rc&&l!==536870912&&(s.flags|=128,d=!0,ro(g,!1),s.lanes=4194304);g.isBackwards?(b.sibling=s.child,s.child=b):(n=g.last,n!==null?n.sibling=b:s.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,n=Ce.current,X(Ce,d?n&1|2:n&1),s):(ne(s),null);case 22:case 23:return Ni(s),Ld(),d=s.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(l&536870912)!==0&&(s.flags&128)===0&&(ne(s),s.subtreeFlags&6&&(s.flags|=8192)):ne(s),l=s.updateQueue,l!==null&&ic(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==l&&(s.flags|=2048),n!==null&&tt(js),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Mi(_e),ne(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function UA(n,s){switch(vd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Mi(_e),jt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Se(s),null;case 13:if(Ni(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Vr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return tt(Ce),null;case 4:return jt(),null;case 10:return Mi(s.type),null;case 22:case 23:return Ni(s),Ld(),n!==null&&tt(js),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Mi(_e),null;case 25:return null;default:return null}}function Ab(n,s){switch(vd(s),s.tag){case 3:Mi(_e),jt();break;case 26:case 27:case 5:Se(s);break;case 4:jt();break;case 13:Ni(s);break;case 19:tt(Ce);break;case 10:Mi(s.type);break;case 22:case 23:Ni(s),Ld(),n!==null&&tt(js);break;case 24:Mi(_e)}}function oo(n,s){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&n)===n){d=void 0;var b=l.create,A=l.inst;d=b(),A.destroy=d}l=l.next}while(l!==g)}}catch(C){Wt(s,s.return,C)}}function ns(n,s,l){try{var d=s.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var b=g.next;d=b;do{if((d.tag&n)===n){var A=d.inst,C=A.destroy;if(C!==void 0){A.destroy=void 0,g=s;var O=l,Y=C;try{Y()}catch(et){Wt(g,O,et)}}}d=d.next}while(d!==b)}}catch(et){Wt(s,s.return,et)}}function Sb(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{um(s,l)}catch(d){Wt(n,n.return,d)}}}function Eb(n,s,l){l.props=Vs(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(d){Wt(n,s,d)}}function lo(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof l=="function"?n.refCleanup=l(d):l.current=d}}catch(g){Wt(n,s,g)}}function ii(n,s){var l=n.ref,d=n.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){Wt(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Wt(n,s,g)}else l.current=null}function _b(n){var s=n.type,l=n.memoizedProps,d=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break t;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){Wt(n,n.return,g)}}function rh(n,s,l){try{var d=n.stateNode;uS(d,n.type,l,s),d[Pe]=s}catch(g){Wt(n,n.return,g)}}function Cb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&us(n.type)||n.tag===4}function oh(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Cb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&us(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lh(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=gc));else if(d!==4&&(d===27&&us(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(lh(n,s,l),n=n.sibling;n!==null;)lh(n,s,l),n=n.sibling}function sc(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(d!==4&&(d===27&&us(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(sc(n,s,l),n=n.sibling;n!==null;)sc(n,s,l),n=n.sibling}function Tb(n){var s=n.stateNode,l=n.memoizedProps;try{for(var d=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Ie(s,d,l),s[Me]=n,s[Pe]=l}catch(b){Wt(n,n.return,b)}}var Di=!1,ce=!1,ch=!1,Mb=typeof WeakSet=="function"?WeakSet:Set,ke=null;function VA(n,s){if(n=n.containerInfo,Dh=Ac,n=Fg(n),od(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break t}var A=0,C=-1,O=-1,Y=0,et=0,st=n,W=null;e:for(;;){for(var K;st!==l||g!==0&&st.nodeType!==3||(C=A+g),st!==b||d!==0&&st.nodeType!==3||(O=A+d),st.nodeType===3&&(A+=st.nodeValue.length),(K=st.firstChild)!==null;)W=st,st=K;for(;;){if(st===n)break e;if(W===l&&++Y===g&&(C=A),W===b&&++et===d&&(O=A),(K=st.nextSibling)!==null)break;st=W,W=st.parentNode}st=K}l=C===-1||O===-1?null:{start:C,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ph={focusedElem:n,selectionRange:l},Ac=!1,ke=s;ke!==null;)if(s=ke,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,ke=n;else for(;ke!==null;){switch(s=ke,b=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,l=s,g=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var At=Vs(l.type,g,l.elementType===l.type);n=d.getSnapshotBeforeUpdate(At,b),d.__reactInternalSnapshotBeforeUpdate=n}catch(vt){Wt(l,l.return,vt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Ih(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ih(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,ke=n;break}ke=s.return}}function Rb(n,s,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:is(n,l),d&4&&oo(5,l);break;case 1:if(is(n,l),d&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(A){Wt(l,l.return,A)}else{var g=Vs(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(A){Wt(l,l.return,A)}}d&64&&Sb(l),d&512&&lo(l,l.return);break;case 3:if(is(n,l),d&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{um(n,s)}catch(A){Wt(l,l.return,A)}}break;case 27:s===null&&d&4&&Tb(l);case 26:case 5:is(n,l),s===null&&d&4&&_b(l),d&512&&lo(l,l.return);break;case 12:is(n,l);break;case 13:is(n,l),d&4&&Lb(n,l),d&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=JA.bind(null,l),bS(n,l))));break;case 22:if(d=l.memoizedState!==null||Di,!d){s=s!==null&&s.memoizedState!==null||ce,g=Di;var b=ce;Di=d,(ce=s)&&!b?ss(n,l,(l.subtreeFlags&8772)!==0):is(n,l),Di=g,ce=b}break;case 30:break;default:is(n,l)}}function Nb(n){var s=n.alternate;s!==null&&(n.alternate=null,Nb(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Dr(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Jt=null,cn=!1;function Pi(n,s,l){for(l=l.child;l!==null;)kb(n,s,l),l=l.sibling}function kb(n,s,l){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(Ts,l)}catch{}switch(l.tag){case 26:ce||ii(l,s),Pi(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ce||ii(l,s);var d=Jt,g=cn;us(l.type)&&(Jt=l.stateNode,cn=!1),Pi(n,s,l),vo(l.stateNode),Jt=d,cn=g;break;case 5:ce||ii(l,s);case 6:if(d=Jt,g=cn,Jt=null,Pi(n,s,l),Jt=d,cn=g,Jt!==null)if(cn)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(l.stateNode)}catch(b){Wt(l,s,b)}else try{Jt.removeChild(l.stateNode)}catch(b){Wt(l,s,b)}break;case 18:Jt!==null&&(cn?(n=Jt,yv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Co(n)):yv(Jt,l.stateNode));break;case 4:d=Jt,g=cn,Jt=l.stateNode.containerInfo,cn=!0,Pi(n,s,l),Jt=d,cn=g;break;case 0:case 11:case 14:case 15:ce||ns(2,l,s),ce||ns(4,l,s),Pi(n,s,l);break;case 1:ce||(ii(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Eb(l,s,d)),Pi(n,s,l);break;case 21:Pi(n,s,l);break;case 22:ce=(d=ce)||l.memoizedState!==null,Pi(n,s,l),ce=d;break;default:Pi(n,s,l)}}function Lb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Co(n)}catch(l){Wt(s,s.return,l)}}function GA(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Mb),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Mb),s;default:throw Error(i(435,n.tag))}}function uh(n,s){var l=GA(n);s.forEach(function(d){var g=tS.bind(null,n,d);l.has(d)||(l.add(d),d.then(g,g))})}function xn(n,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],b=n,A=s,C=A;t:for(;C!==null;){switch(C.tag){case 27:if(us(C.type)){Jt=C.stateNode,cn=!1;break t}break;case 5:Jt=C.stateNode,cn=!1;break t;case 3:case 4:Jt=C.stateNode.containerInfo,cn=!0;break t}C=C.return}if(Jt===null)throw Error(i(160));kb(b,A,g),Jt=null,cn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Db(s,n),s=s.sibling}var Yn=null;function Db(n,s){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xn(s,n),An(n),d&4&&(ns(3,n,n.return),oo(3,n),ns(5,n,n.return));break;case 1:xn(s,n),An(n),d&512&&(ce||l===null||ii(l,l.return)),d&64&&Di&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=Yn;if(xn(s,n),An(n),d&512&&(ce||l===null||ii(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=n.memoizedState,l===null)if(d===null)if(n.stateNode===null){t:{d=n.type,l=n.memoizedProps,g=g.ownerDocument||g;e:switch(d){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Ns]||b[Me]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(d),g.head.insertBefore(b,g.querySelector("head > title"))),Ie(b,d,l),b[Me]=n,Re(b),d=b;break t;case"link":var A=Tv("link","href",g).get(d+(l.href||""));if(A){for(var C=0;C<A.length;C++)if(b=A[C],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(C,1);break e}}b=g.createElement(d),Ie(b,d,l),g.head.appendChild(b);break;case"meta":if(A=Tv("meta","content",g).get(d+(l.content||""))){for(C=0;C<A.length;C++)if(b=A[C],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(C,1);break e}}b=g.createElement(d),Ie(b,d,l),g.head.appendChild(b);break;default:throw Error(i(468,d))}b[Me]=n,Re(b),d=b}n.stateNode=d}else Mv(g,n.type,n.stateNode);else n.stateNode=Cv(g,d,n.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?Mv(g,n.type,n.stateNode):Cv(g,d,n.memoizedProps)):d===null&&n.stateNode!==null&&rh(n,n.memoizedProps,l.memoizedProps)}break;case 27:xn(s,n),An(n),d&512&&(ce||l===null||ii(l,l.return)),l!==null&&d&4&&rh(n,n.memoizedProps,l.memoizedProps);break;case 5:if(xn(s,n),An(n),d&512&&(ce||l===null||ii(l,l.return)),n.flags&32){g=n.stateNode;try{_a(g,"")}catch(K){Wt(n,n.return,K)}}d&4&&n.stateNode!=null&&(g=n.memoizedProps,rh(n,g,l!==null?l.memoizedProps:g)),d&1024&&(ch=!0);break;case 6:if(xn(s,n),An(n),d&4){if(n.stateNode===null)throw Error(i(162));d=n.memoizedProps,l=n.stateNode;try{l.nodeValue=d}catch(K){Wt(n,n.return,K)}}break;case 3:if(yc=null,g=Yn,Yn=bc(s.containerInfo),xn(s,n),Yn=g,An(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Co(s.containerInfo)}catch(K){Wt(n,n.return,K)}ch&&(ch=!1,Pb(n));break;case 4:d=Yn,Yn=bc(n.stateNode.containerInfo),xn(s,n),An(n),Yn=d;break;case 12:xn(s,n),An(n);break;case 13:xn(s,n),An(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(mh=Xe()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,uh(n,d)));break;case 22:g=n.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,Y=Di,et=ce;if(Di=Y||g,ce=et||O,xn(s,n),ce=et,Di=Y,An(n),d&8192)t:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||O||Di||ce||Gs(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){O=l=s;try{if(b=O.stateNode,g)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{C=O.stateNode;var st=O.memoizedProps.style,W=st!=null&&st.hasOwnProperty("display")?st.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(K){Wt(O,O.return,K)}}}else if(s.tag===6){if(l===null){O=s;try{O.stateNode.nodeValue=g?"":O.memoizedProps}catch(K){Wt(O,O.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=n.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,uh(n,l))));break;case 19:xn(s,n),An(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,uh(n,d)));break;case 30:break;case 21:break;default:xn(s,n),An(n)}}function An(n){var s=n.flags;if(s&2){try{for(var l,d=n.return;d!==null;){if(Cb(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,b=oh(n);sc(n,b,g);break;case 5:var A=l.stateNode;l.flags&32&&(_a(A,""),l.flags&=-33);var C=oh(n);sc(n,C,A);break;case 3:case 4:var O=l.stateNode.containerInfo,Y=oh(n);lh(n,Y,O);break;default:throw Error(i(161))}}catch(et){Wt(n,n.return,et)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Pb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Pb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function is(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Rb(n,s.alternate,s),s=s.sibling}function Gs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ns(4,s,s.return),Gs(s);break;case 1:ii(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Eb(s,s.return,l),Gs(s);break;case 27:vo(s.stateNode);case 26:case 5:ii(s,s.return),Gs(s);break;case 22:s.memoizedState===null&&Gs(s);break;case 30:Gs(s);break;default:Gs(s)}n=n.sibling}}function ss(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,g=n,b=s,A=b.flags;switch(b.tag){case 0:case 11:case 15:ss(g,b,l),oo(4,b);break;case 1:if(ss(g,b,l),d=b,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){Wt(d,d.return,Y)}if(d=b,g=d.updateQueue,g!==null){var C=d.stateNode;try{var O=g.shared.hiddenCallbacks;if(O!==null)for(g.shared.hiddenCallbacks=null,g=0;g<O.length;g++)cm(O[g],C)}catch(Y){Wt(d,d.return,Y)}}l&&A&64&&Sb(b),lo(b,b.return);break;case 27:Tb(b);case 26:case 5:ss(g,b,l),l&&d===null&&A&4&&_b(b),lo(b,b.return);break;case 12:ss(g,b,l);break;case 13:ss(g,b,l),l&&A&4&&Lb(g,b);break;case 22:b.memoizedState===null&&ss(g,b,l),lo(b,b.return);break;case 30:break;default:ss(g,b,l)}s=s.sibling}}function dh(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Yr(l))}function hh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Yr(n))}function si(n,s,l,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ob(n,s,l,d),s=s.sibling}function Ob(n,s,l,d){var g=s.flags;switch(s.tag){case 0:case 11:case 15:si(n,s,l,d),g&2048&&oo(9,s);break;case 1:si(n,s,l,d);break;case 3:si(n,s,l,d),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Yr(n)));break;case 12:if(g&2048){si(n,s,l,d),n=s.stateNode;try{var b=s.memoizedProps,A=b.id,C=b.onPostCommit;typeof C=="function"&&C(A,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){Wt(s,s.return,O)}}else si(n,s,l,d);break;case 13:si(n,s,l,d);break;case 23:break;case 22:b=s.stateNode,A=s.alternate,s.memoizedState!==null?b._visibility&2?si(n,s,l,d):co(n,s):b._visibility&2?si(n,s,l,d):(b._visibility|=2,Va(n,s,l,d,(s.subtreeFlags&10256)!==0)),g&2048&&dh(A,s);break;case 24:si(n,s,l,d),g&2048&&hh(s.alternate,s);break;default:si(n,s,l,d)}}function Va(n,s,l,d,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=n,A=s,C=l,O=d,Y=A.flags;switch(A.tag){case 0:case 11:case 15:Va(b,A,C,O,g),oo(8,A);break;case 23:break;case 22:var et=A.stateNode;A.memoizedState!==null?et._visibility&2?Va(b,A,C,O,g):co(b,A):(et._visibility|=2,Va(b,A,C,O,g)),g&&Y&2048&&dh(A.alternate,A);break;case 24:Va(b,A,C,O,g),g&&Y&2048&&hh(A.alternate,A);break;default:Va(b,A,C,O,g)}s=s.sibling}}function co(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,d=s,g=d.flags;switch(d.tag){case 22:co(l,d),g&2048&&dh(d.alternate,d);break;case 24:co(l,d),g&2048&&hh(d.alternate,d);break;default:co(l,d)}s=s.sibling}}var uo=8192;function Ga(n){if(n.subtreeFlags&uo)for(n=n.child;n!==null;)$b(n),n=n.sibling}function $b(n){switch(n.tag){case 26:Ga(n),n.flags&uo&&n.memoizedState!==null&&NS(Yn,n.memoizedState,n.memoizedProps);break;case 5:Ga(n);break;case 3:case 4:var s=Yn;Yn=bc(n.stateNode.containerInfo),Ga(n),Yn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=uo,uo=16777216,Ga(n),uo=s):Ga(n));break;default:Ga(n)}}function Ib(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ho(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];ke=d,Fb(d,n)}Ib(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zb(n),n=n.sibling}function zb(n){switch(n.tag){case 0:case 11:case 15:ho(n),n.flags&2048&&ns(9,n,n.return);break;case 3:ho(n);break;case 12:ho(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,ac(n)):ho(n);break;default:ho(n)}}function ac(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];ke=d,Fb(d,n)}Ib(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ns(8,s,s.return),ac(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,ac(s));break;default:ac(s)}n=n.sibling}}function Fb(n,s){for(;ke!==null;){var l=ke;switch(l.tag){case 0:case 11:case 15:ns(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Yr(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,ke=d;else t:for(l=n;ke!==null;){d=ke;var g=d.sibling,b=d.return;if(Nb(d),d===l){ke=null;break t}if(g!==null){g.return=b,ke=g;break t}ke=b}}}var qA={getCacheForType:function(n){var s=Ge(_e),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l}},YA=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Qt=null,Dt=null,zt=0,Vt=0,Sn=null,as=!1,qa=!1,fh=!1,Oi=0,oe=0,rs=0,qs=0,ph=0,$n=0,Ya=0,fo=null,un=null,gh=!1,mh=0,rc=1/0,oc=null,os=null,$e=0,ls=null,Xa=null,Wa=0,bh=0,vh=null,Bb=null,po=0,yh=null;function En(){if((Ut&2)!==0&&zt!==0)return zt&-zt;if(T.T!==null){var n=$a;return n!==0?n:Ch()}return bl()}function Hb(){$n===0&&($n=(zt&536870912)===0||Ht?Nr():536870912);var n=On.current;return n!==null&&(n.flags|=32),$n}function _n(n,s,l){(n===Qt&&(Vt===2||Vt===9)||n.cancelPendingCommit!==null)&&(Ka(n,0),cs(n,zt,$n,!1)),xi(n,l),((Ut&2)===0||n!==Qt)&&(n===Qt&&((Ut&2)===0&&(qs|=l),oe===4&&cs(n,zt,$n,!1)),ai(n))}function jb(n,s,l){if((Ut&6)!==0)throw Error(i(327));var d=!l&&(s&124)===0&&(s&n.expiredLanes)===0||Gi(n,s),g=d?KA(n,s):Ah(n,s,!0),b=d;do{if(g===0){qa&&!d&&cs(n,s,0,!1);break}else{if(l=n.current.alternate,b&&!XA(l)){g=Ah(n,s,!1),b=!1;continue}if(g===2){if(b=s,n.errorRecoveryDisabledLanes&b)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;t:{var C=n;g=fo;var O=C.current.memoizedState.isDehydrated;if(O&&(Ka(C,A).flags|=256),A=Ah(C,A,!1),A!==2){if(fh&&!O){C.errorRecoveryDisabledLanes|=b,qs|=b,g=4;break t}b=un,un=g,b!==null&&(un===null?un=b:un.push.apply(un,b))}g=A}if(b=!1,g!==2)continue}}if(g===1){Ka(n,0),cs(n,s,0,!0);break}t:{switch(d=n,b=g,b){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:cs(d,s,$n,!as);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=mh+300-Xe(),10<g)){if(cs(d,s,$n,!as),Jn(d,0,!0)!==0)break t;d.timeoutHandle=bv(Ub.bind(null,d,l,un,oc,gh,s,$n,qs,Ya,as,b,2,-0,0),g);break t}Ub(d,l,un,oc,gh,s,$n,qs,Ya,as,b,0,-0,0)}}break}while(!0);ai(n)}function Ub(n,s,l,d,g,b,A,C,O,Y,et,st,W,K){if(n.timeoutHandle=-1,st=s.subtreeFlags,(st&8192||(st&16785408)===16785408)&&(xo={stylesheets:null,count:0,unsuspend:RS},$b(s),st=kS(),st!==null)){n.cancelPendingCommit=st(Kb.bind(null,n,s,b,l,d,g,A,C,O,et,1,W,K)),cs(n,b,A,!Y);return}Kb(n,s,b,l,d,g,A,C,O)}function XA(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],b=g.getSnapshot;g=g.value;try{if(!yn(b(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cs(n,s,l,d){s&=~ph,s&=~qs,n.suspendedLanes|=s,n.pingedLanes&=~s,d&&(n.warmLanes|=s),d=n.expirationTimes;for(var g=s;0<g;){var b=31-Ve(g),A=1<<b;d[b]=-1,g&=~A}l!==0&&ml(n,l,s)}function lc(){return(Ut&6)===0?(go(0),!1):!0}function wh(){if(Dt!==null){if(Vt===0)var n=Dt.return;else n=Dt,Ti=Bs=null,Id(n),ja=null,so=0,n=Dt;for(;n!==null;)Ab(n.alternate,n),n=n.return;Dt=null}}function Ka(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,hS(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),wh(),Qt=n,Dt=l=Ei(n.current,null),zt=s,Vt=0,Sn=null,as=!1,qa=Gi(n,s),fh=!1,Ya=$n=ph=qs=rs=oe=0,un=fo=null,gh=!1,(s&8)!==0&&(s|=s&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=s;0<d;){var g=31-Ve(d),b=1<<g;s|=n[g],d&=~b}return Oi=s,Nl(),l}function Vb(n,s){kt=null,T.H=Wl,s===Wr||s===Fl?(s=om(),Vt=3):s===sm?(s=om(),Vt=4):Vt=s===lb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sn=s,Dt===null&&(oe=1,tc(n,kn(s,n.current)))}function Gb(){var n=T.H;return T.H=Wl,n===null?Wl:n}function qb(){var n=T.A;return T.A=qA,n}function xh(){oe=4,as||(zt&4194048)!==zt&&On.current!==null||(qa=!0),(rs&134217727)===0&&(qs&134217727)===0||Qt===null||cs(Qt,zt,$n,!1)}function Ah(n,s,l){var d=Ut;Ut|=2;var g=Gb(),b=qb();(Qt!==n||zt!==s)&&(oc=null,Ka(n,s)),s=!1;var A=oe;t:do try{if(Vt!==0&&Dt!==null){var C=Dt,O=Sn;switch(Vt){case 8:wh(),A=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(s=!0);var Y=Vt;if(Vt=0,Sn=null,Qa(n,C,O,Y),l&&qa){A=0;break t}break;default:Y=Vt,Vt=0,Sn=null,Qa(n,C,O,Y)}}WA(),A=oe;break}catch(et){Vb(n,et)}while(!0);return s&&n.shellSuspendCounter++,Ti=Bs=null,Ut=d,T.H=g,T.A=b,Dt===null&&(Qt=null,zt=0,Nl()),A}function WA(){for(;Dt!==null;)Yb(Dt)}function KA(n,s){var l=Ut;Ut|=2;var d=Gb(),g=qb();Qt!==n||zt!==s?(oc=null,rc=Xe()+500,Ka(n,s)):qa=Gi(n,s);t:do try{if(Vt!==0&&Dt!==null){s=Dt;var b=Sn;e:switch(Vt){case 1:Vt=0,Sn=null,Qa(n,s,b,1);break;case 2:case 9:if(am(b)){Vt=0,Sn=null,Xb(s);break}s=function(){Vt!==2&&Vt!==9||Qt!==n||(Vt=7),ai(n)},b.then(s,s);break t;case 3:Vt=7;break t;case 4:Vt=5;break t;case 7:am(b)?(Vt=0,Sn=null,Xb(s)):(Vt=0,Sn=null,Qa(n,s,b,7));break;case 5:var A=null;switch(Dt.tag){case 26:A=Dt.memoizedState;case 5:case 27:var C=Dt;if(!A||Rv(A)){Vt=0,Sn=null;var O=C.sibling;if(O!==null)Dt=O;else{var Y=C.return;Y!==null?(Dt=Y,cc(Y)):Dt=null}break e}}Vt=0,Sn=null,Qa(n,s,b,5);break;case 6:Vt=0,Sn=null,Qa(n,s,b,6);break;case 8:wh(),oe=6;break t;default:throw Error(i(462))}}QA();break}catch(et){Vb(n,et)}while(!0);return Ti=Bs=null,T.H=d,T.A=g,Ut=l,Dt!==null?0:(Qt=null,zt=0,Nl(),oe)}function QA(){for(;Dt!==null&&!vi();)Yb(Dt)}function Yb(n){var s=wb(n.alternate,n,Oi);n.memoizedProps=n.pendingProps,s===null?cc(n):Dt=s}function Xb(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=pb(l,s,s.pendingProps,s.type,void 0,zt);break;case 11:s=pb(l,s,s.pendingProps,s.type.render,s.ref,zt);break;case 5:Id(s);default:Ab(l,s),s=Dt=Wg(s,Oi),s=wb(l,s,Oi)}n.memoizedProps=n.pendingProps,s===null?cc(n):Dt=s}function Qa(n,s,l,d){Ti=Bs=null,Id(s),ja=null,so=0;var g=s.return;try{if(BA(n,g,s,l,zt)){oe=1,tc(n,kn(l,n.current)),Dt=null;return}}catch(b){if(g!==null)throw Dt=g,b;oe=1,tc(n,kn(l,n.current)),Dt=null;return}s.flags&32768?(Ht||d===1?n=!0:qa||(zt&536870912)!==0?n=!1:(as=n=!0,(d===2||d===9||d===3||d===6)&&(d=On.current,d!==null&&d.tag===13&&(d.flags|=16384))),Wb(s,n)):cc(s)}function cc(n){var s=n;do{if((s.flags&32768)!==0){Wb(s,as);return}n=s.return;var l=jA(s.alternate,s,Oi);if(l!==null){Dt=l;return}if(s=s.sibling,s!==null){Dt=s;return}Dt=s=n}while(s!==null);oe===0&&(oe=5)}function Wb(n,s){do{var l=UA(n.alternate,n);if(l!==null){l.flags&=32767,Dt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){Dt=n;return}Dt=n=l}while(n!==null);oe=6,Dt=null}function Kb(n,s,l,d,g,b,A,C,O){n.cancelPendingCommit=null;do uc();while($e!==0);if((Ut&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(b=s.lanes|s.childLanes,b|=hd,gl(n,l,b,A,C,O),n===Qt&&(Dt=Qt=null,zt=0),Xa=s,ls=n,Wa=l,bh=b,vh=g,Bb=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,eS(yi,function(){return ev(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=T.T,T.T=null,g=P.p,P.p=2,A=Ut,Ut|=4;try{VA(n,s,l)}finally{Ut=A,P.p=g,T.T=d}}$e=1,Qb(),Zb(),Jb()}}function Qb(){if($e===1){$e=0;var n=ls,s=Xa,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=T.T,T.T=null;var d=P.p;P.p=2;var g=Ut;Ut|=4;try{Db(s,n);var b=Ph,A=Fg(n.containerInfo),C=b.focusedElem,O=b.selectionRange;if(A!==C&&C&&C.ownerDocument&&zg(C.ownerDocument.documentElement,C)){if(O!==null&&od(C)){var Y=O.start,et=O.end;if(et===void 0&&(et=Y),"selectionStart"in C)C.selectionStart=Y,C.selectionEnd=Math.min(et,C.value.length);else{var st=C.ownerDocument||document,W=st&&st.defaultView||window;if(W.getSelection){var K=W.getSelection(),At=C.textContent.length,vt=Math.min(O.start,At),Yt=O.end===void 0?vt:Math.min(O.end,At);!K.extend&&vt>Yt&&(A=Yt,Yt=vt,vt=A);var V=Ig(C,vt),F=Ig(C,Yt);if(V&&F&&(K.rangeCount!==1||K.anchorNode!==V.node||K.anchorOffset!==V.offset||K.focusNode!==F.node||K.focusOffset!==F.offset)){var q=st.createRange();q.setStart(V.node,V.offset),K.removeAllRanges(),vt>Yt?(K.addRange(q),K.extend(F.node,F.offset)):(q.setEnd(F.node,F.offset),K.addRange(q))}}}}for(st=[],K=C;K=K.parentNode;)K.nodeType===1&&st.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<st.length;C++){var nt=st[C];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Ac=!!Dh,Ph=Dh=null}finally{Ut=g,P.p=d,T.T=l}}n.current=s,$e=2}}function Zb(){if($e===2){$e=0;var n=ls,s=Xa,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=T.T,T.T=null;var d=P.p;P.p=2;var g=Ut;Ut|=4;try{Rb(n,s.alternate,s)}finally{Ut=g,P.p=d,T.T=l}}$e=3}}function Jb(){if($e===4||$e===3){$e=0,Ct();var n=ls,s=Xa,l=Wa,d=Bb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$e=5:($e=0,Xa=ls=null,tv(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(os=null),kr(l),s=s.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(Ts,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=T.T,g=P.p,P.p=2,T.T=null;try{for(var b=n.onRecoverableError,A=0;A<d.length;A++){var C=d[A];b(C.value,{componentStack:C.stack})}}finally{T.T=s,P.p=g}}(Wa&3)!==0&&uc(),ai(n),g=n.pendingLanes,(l&4194090)!==0&&(g&42)!==0?n===yh?po++:(po=0,yh=n):po=0,go(0)}}function tv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Yr(s)))}function uc(n){return Qb(),Zb(),Jb(),ev()}function ev(){if($e!==5)return!1;var n=ls,s=bh;bh=0;var l=kr(Wa),d=T.T,g=P.p;try{P.p=32>l?32:l,T.T=null,l=vh,vh=null;var b=ls,A=Wa;if($e=0,Xa=ls=null,Wa=0,(Ut&6)!==0)throw Error(i(331));var C=Ut;if(Ut|=4,zb(b.current),Ob(b,b.current,A,l),Ut=C,go(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(Ts,b)}catch{}return!0}finally{P.p=g,T.T=d,tv(n,s)}}function nv(n,s,l){s=kn(l,s),s=Qd(n.stateNode,s,2),n=Zi(n,s,2),n!==null&&(xi(n,2),ai(n))}function Wt(n,s,l){if(n.tag===3)nv(n,n,l);else for(;s!==null;){if(s.tag===3){nv(s,n,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(os===null||!os.has(d))){n=kn(l,n),l=rb(2),d=Zi(s,l,2),d!==null&&(ob(l,d,s,n),xi(d,2),ai(d));break}}s=s.return}}function Sh(n,s,l){var d=n.pingCache;if(d===null){d=n.pingCache=new YA;var g=new Set;d.set(s,g)}else g=d.get(s),g===void 0&&(g=new Set,d.set(s,g));g.has(l)||(fh=!0,g.add(l),n=ZA.bind(null,n,s,l),s.then(n,n))}function ZA(n,s,l){var d=n.pingCache;d!==null&&d.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Qt===n&&(zt&l)===l&&(oe===4||oe===3&&(zt&62914560)===zt&&300>Xe()-mh?(Ut&2)===0&&Ka(n,0):ph|=l,Ya===zt&&(Ya=0)),ai(n)}function iv(n,s){s===0&&(s=wa()),n=La(n,s),n!==null&&(xi(n,s),ai(n))}function JA(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),iv(n,l)}function tS(n,s){var l=0;switch(n.tag){case 13:var d=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(s),iv(n,l)}function eS(n,s){return sn(n,s)}var dc=null,Za=null,Eh=!1,hc=!1,_h=!1,Ys=0;function ai(n){n!==Za&&n.next===null&&(Za===null?dc=Za=n:Za=Za.next=n),hc=!0,Eh||(Eh=!0,iS())}function go(n,s){if(!_h&&hc){_h=!0;do for(var l=!1,d=dc;d!==null;){if(n!==0){var g=d.pendingLanes;if(g===0)var b=0;else{var A=d.suspendedLanes,C=d.pingedLanes;b=(1<<31-Ve(42|n)+1)-1,b&=g&~(A&~C),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,ov(d,b))}else b=zt,b=Jn(d,d===Qt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Gi(d,b)||(l=!0,ov(d,b));d=d.next}while(l);_h=!1}}function nS(){sv()}function sv(){hc=Eh=!1;var n=0;Ys!==0&&(dS()&&(n=Ys),Ys=0);for(var s=Xe(),l=null,d=dc;d!==null;){var g=d.next,b=av(d,s);b===0?(d.next=null,l===null?dc=g:l.next=g,g===null&&(Za=l)):(l=d,(n!==0||(b&3)!==0)&&(hc=!0)),d=g}go(n)}function av(n,s){for(var l=n.suspendedLanes,d=n.pingedLanes,g=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var A=31-Ve(b),C=1<<A,O=g[A];O===-1?((C&l)===0||(C&d)!==0)&&(g[A]=wi(C,s)):O<=s&&(n.expiredLanes|=C),b&=~C}if(s=Qt,l=zt,l=Jn(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,l===0||n===s&&(Vt===2||Vt===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&Mn(d),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Gi(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(d!==null&&Mn(d),kr(l)){case 2:case 8:l=va;break;case 32:l=yi;break;case 268435456:l=Cs;break;default:l=yi}return d=rv.bind(null,n),l=sn(l,d),n.callbackPriority=s,n.callbackNode=l,s}return d!==null&&d!==null&&Mn(d),n.callbackPriority=2,n.callbackNode=null,2}function rv(n,s){if($e!==0&&$e!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(uc()&&n.callbackNode!==l)return null;var d=zt;return d=Jn(n,n===Qt?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(jb(n,d,s),av(n,Xe()),n.callbackNode!=null&&n.callbackNode===l?rv.bind(null,n):null)}function ov(n,s){if(uc())return null;jb(n,s,!0)}function iS(){fS(function(){(Ut&6)!==0?sn(ba,nS):sv()})}function Ch(){return Ys===0&&(Ys=Nr()),Ys}function lv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Sl(""+n)}function cv(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function sS(n,s,l,d,g){if(s==="submit"&&l&&l.stateNode===g){var b=lv((g[Pe]||null).action),A=d.submitter;A&&(s=(s=A[Pe]||null)?lv(s.formAction):A.getAttribute("formAction"),s!==null&&(b=s,A=null));var C=new Tl("action","action",null,d,g);n.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ys!==0){var O=A?cv(g,A):new FormData(g);qd(l,{pending:!0,data:O,method:g.method,action:b},null,O)}}else typeof b=="function"&&(C.preventDefault(),O=A?cv(g,A):new FormData(g),qd(l,{pending:!0,data:O,method:g.method,action:b},b,O))},currentTarget:g}]})}}for(var Th=0;Th<dd.length;Th++){var Mh=dd[Th],aS=Mh.toLowerCase(),rS=Mh[0].toUpperCase()+Mh.slice(1);qn(aS,"on"+rS)}qn(jg,"onAnimationEnd"),qn(Ug,"onAnimationIteration"),qn(Vg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(SA,"onTransitionRun"),qn(EA,"onTransitionStart"),qn(_A,"onTransitionCancel"),qn(Gg,"onTransitionEnd"),Aa("onMouseEnter",["mouseout","mouseover"]),Aa("onMouseLeave",["mouseout","mouseover"]),Aa("onPointerEnter",["pointerout","pointerover"]),Aa("onPointerLeave",["pointerout","pointerover"]),ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function uv(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],g=d.event;d=d.listeners;t:{var b=void 0;if(s)for(var A=d.length-1;0<=A;A--){var C=d[A],O=C.instance,Y=C.currentTarget;if(C=C.listener,O!==b&&g.isPropagationStopped())break t;b=C,g.currentTarget=Y;try{b(g)}catch(et){Jl(et)}g.currentTarget=null,b=O}else for(A=0;A<d.length;A++){if(C=d[A],O=C.instance,Y=C.currentTarget,C=C.listener,O!==b&&g.isPropagationStopped())break t;b=C,g.currentTarget=Y;try{b(g)}catch(et){Jl(et)}g.currentTarget=null,b=O}}}}function Pt(n,s){var l=s[Lr];l===void 0&&(l=s[Lr]=new Set);var d=n+"__bubble";l.has(d)||(dv(s,n,2,!1),l.add(d))}function Rh(n,s,l){var d=0;s&&(d|=4),dv(l,n,d,s)}var fc="_reactListening"+Math.random().toString(36).slice(2);function Nh(n){if(!n[fc]){n[fc]=!0,sg.forEach(function(l){l!=="selectionchange"&&(oS.has(l)||Rh(l,!1,n),Rh(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[fc]||(s[fc]=!0,Rh("selectionchange",!1,s))}}function dv(n,s,l,d){switch(Ov(s)){case 2:var g=PS;break;case 8:g=OS;break;default:g=Vh}l=g.bind(null,s,l,n),g=void 0,!Zu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),d?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function kh(n,s,l,d,g){var b=d;if((s&1)===0&&(s&2)===0&&d!==null)t:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var C=d.stateNode.containerInfo;if(C===g)break;if(A===4)for(A=d.return;A!==null;){var O=A.tag;if((O===3||O===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;C!==null;){if(A=Yi(C),A===null)return;if(O=A.tag,O===5||O===6||O===26||O===27){d=b=A;continue t}C=C.parentNode}}d=d.return}vg(function(){var Y=b,et=Ku(l),st=[];t:{var W=qg.get(n);if(W!==void 0){var K=Tl,At=n;switch(n){case"keypress":if(_l(l)===0)break t;case"keydown":case"keyup":K=eA;break;case"focusin":At="focus",K=nd;break;case"focusout":At="blur",K=nd;break;case"beforeblur":case"afterblur":K=nd;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=sA;break;case jg:case Ug:case Vg:K=qx;break;case Gg:K=rA;break;case"scroll":case"scrollend":K=Hx;break;case"wheel":K=lA;break;case"copy":case"cut":case"paste":K=Xx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Sg;break;case"toggle":case"beforetoggle":K=uA}var vt=(s&4)!==0,Yt=!vt&&(n==="scroll"||n==="scrollend"),V=vt?W!==null?W+"Capture":null:W;vt=[];for(var F=Y,q;F!==null;){var nt=F;if(q=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||q===null||V===null||(nt=Pr(F,V),nt!=null&&vt.push(bo(F,nt,q))),Yt)break;F=F.return}0<vt.length&&(W=new K(W,At,null,l,et),st.push({event:W,listeners:vt}))}}if((s&7)===0){t:{if(W=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",W&&l!==Wu&&(At=l.relatedTarget||l.fromElement)&&(Yi(At)||At[qi]))break t;if((K||W)&&(W=et.window===et?et:(W=et.ownerDocument)?W.defaultView||W.parentWindow:window,K?(At=l.relatedTarget||l.toElement,K=Y,At=At?Yi(At):null,At!==null&&(Yt=o(At),vt=At.tag,At!==Yt||vt!==5&&vt!==27&&vt!==6)&&(At=null)):(K=null,At=Y),K!==At)){if(vt=xg,nt="onMouseLeave",V="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(vt=Sg,nt="onPointerLeave",V="onPointerEnter",F="pointer"),Yt=K==null?W:Gn(K),q=At==null?W:Gn(At),W=new vt(nt,F+"leave",K,l,et),W.target=Yt,W.relatedTarget=q,nt=null,Yi(et)===Y&&(vt=new vt(V,F+"enter",At,l,et),vt.target=q,vt.relatedTarget=Yt,nt=vt),Yt=nt,K&&At)e:{for(vt=K,V=At,F=0,q=vt;q;q=Ja(q))F++;for(q=0,nt=V;nt;nt=Ja(nt))q++;for(;0<F-q;)vt=Ja(vt),F--;for(;0<q-F;)V=Ja(V),q--;for(;F--;){if(vt===V||V!==null&&vt===V.alternate)break e;vt=Ja(vt),V=Ja(V)}vt=null}else vt=null;K!==null&&hv(st,W,K,vt,!1),At!==null&&Yt!==null&&hv(st,Yt,At,vt,!0)}}t:{if(W=Y?Gn(Y):window,K=W.nodeName&&W.nodeName.toLowerCase(),K==="select"||K==="input"&&W.type==="file")var ht=kg;else if(Rg(W))if(Lg)ht=wA;else{ht=vA;var Lt=bA}else K=W.nodeName,!K||K.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&Xu(Y.elementType)&&(ht=kg):ht=yA;if(ht&&(ht=ht(n,Y))){Ng(st,ht,l,et);break t}Lt&&Lt(n,W,Y),n==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&Yu(W,"number",W.value)}switch(Lt=Y?Gn(Y):window,n){case"focusin":(Rg(Lt)||Lt.contentEditable==="true")&&(Ra=Lt,ld=Y,jr=null);break;case"focusout":jr=ld=Ra=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Bg(st,l,et);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":Bg(st,l,et)}var pt;if(sd)t:{switch(n){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Ma?Tg(n,l)&&(yt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(yt="onCompositionStart");yt&&(Eg&&l.locale!=="ko"&&(Ma||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ma&&(pt=yg()):(Xi=et,Ju="value"in Xi?Xi.value:Xi.textContent,Ma=!0)),Lt=pc(Y,yt),0<Lt.length&&(yt=new Ag(yt,n,null,l,et),st.push({event:yt,listeners:Lt}),pt?yt.data=pt:(pt=Mg(l),pt!==null&&(yt.data=pt)))),(pt=hA?fA(n,l):pA(n,l))&&(yt=pc(Y,"onBeforeInput"),0<yt.length&&(Lt=new Ag("onBeforeInput","beforeinput",null,l,et),st.push({event:Lt,listeners:yt}),Lt.data=pt)),sS(st,n,Y,l,et)}uv(st,s)})}function bo(n,s,l){return{instance:n,listener:s,currentTarget:l}}function pc(n,s){for(var l=s+"Capture",d=[];n!==null;){var g=n,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Pr(n,l),g!=null&&d.unshift(bo(n,g,b)),g=Pr(n,s),g!=null&&d.push(bo(n,g,b))),n.tag===3)return d;n=n.return}return[]}function Ja(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function hv(n,s,l,d,g){for(var b=s._reactName,A=[];l!==null&&l!==d;){var C=l,O=C.alternate,Y=C.stateNode;if(C=C.tag,O!==null&&O===d)break;C!==5&&C!==26&&C!==27||Y===null||(O=Y,g?(Y=Pr(l,b),Y!=null&&A.unshift(bo(l,Y,O))):g||(Y=Pr(l,b),Y!=null&&A.push(bo(l,Y,O)))),l=l.return}A.length!==0&&n.push({event:s,listeners:A})}var lS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function fv(n){return(typeof n=="string"?n:""+n).replace(lS,`
`).replace(cS,"")}function pv(n,s){return s=fv(s),fv(n)===s}function gc(){}function qt(n,s,l,d,g,b){switch(l){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||_a(n,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&_a(n,""+d);break;case"className":wl(n,"class",d);break;case"tabIndex":wl(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(n,l,d);break;case"style":mg(n,d,b);break;case"data":if(s!=="object"){wl(n,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=Sl(""+d),n.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&qt(n,s,"name",g.name,g,null),qt(n,s,"formEncType",g.formEncType,g,null),qt(n,s,"formMethod",g.formMethod,g,null),qt(n,s,"formTarget",g.formTarget,g,null)):(qt(n,s,"encType",g.encType,g,null),qt(n,s,"method",g.method,g,null),qt(n,s,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=Sl(""+d),n.setAttribute(l,d);break;case"onClick":d!=null&&(n.onclick=gc);break;case"onScroll":d!=null&&Pt("scroll",n);break;case"onScrollEnd":d!=null&&Pt("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}l=Sl(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""+d):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":d===!0?n.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,d):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(l,d):n.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(l):n.setAttribute(l,d);break;case"popover":Pt("beforetoggle",n),Pt("toggle",n),yl(n,"popover",d);break;case"xlinkActuate":Ai(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ai(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ai(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ai(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ai(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ai(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ai(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ai(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ai(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":yl(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Fx.get(l)||l,yl(n,l,d))}}function Lh(n,s,l,d,g,b){switch(l){case"style":mg(n,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof d=="string"?_a(n,d):(typeof d=="number"||typeof d=="bigint")&&_a(n,""+d);break;case"onScroll":d!=null&&Pt("scroll",n);break;case"onScrollEnd":d!=null&&Pt("scrollend",n);break;case"onClick":d!=null&&(n.onclick=gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ag.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),b=n[Pe]||null,b=b!=null?b[l]:null,typeof b=="function"&&n.removeEventListener(s,b,g),typeof d=="function")){typeof b!="function"&&b!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,d,g);break t}l in n?n[l]=d:d===!0?n.setAttribute(l,""):yl(n,l,d)}}}function Ie(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",n),Pt("load",n);var d=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var A=l[b];if(A!=null)switch(b){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:qt(n,s,b,A,l,null)}}g&&qt(n,s,"srcSet",l.srcSet,l,null),d&&qt(n,s,"src",l.src,l,null);return;case"input":Pt("invalid",n);var C=b=A=g=null,O=null,Y=null;for(d in l)if(l.hasOwnProperty(d)){var et=l[d];if(et!=null)switch(d){case"name":g=et;break;case"type":A=et;break;case"checked":O=et;break;case"defaultChecked":Y=et;break;case"value":b=et;break;case"defaultValue":C=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,s));break;default:qt(n,s,d,et,l,null)}}hg(n,b,C,O,Y,A,g,!1),xl(n);return;case"select":Pt("invalid",n),d=A=b=null;for(g in l)if(l.hasOwnProperty(g)&&(C=l[g],C!=null))switch(g){case"value":b=C;break;case"defaultValue":A=C;break;case"multiple":d=C;default:qt(n,s,g,C,l,null)}s=b,l=A,n.multiple=!!d,s!=null?Ea(n,!!d,s,!1):l!=null&&Ea(n,!!d,l,!0);return;case"textarea":Pt("invalid",n),b=g=d=null;for(A in l)if(l.hasOwnProperty(A)&&(C=l[A],C!=null))switch(A){case"value":d=C;break;case"defaultValue":g=C;break;case"children":b=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:qt(n,s,A,C,l,null)}pg(n,d,g,b),xl(n);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(d=l[O],d!=null))switch(O){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:qt(n,s,O,d,l,null)}return;case"dialog":Pt("beforetoggle",n),Pt("toggle",n),Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":Pt("load",n);break;case"video":case"audio":for(d=0;d<mo.length;d++)Pt(mo[d],n);break;case"image":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"embed":case"source":case"link":Pt("error",n),Pt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(d=l[Y],d!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:qt(n,s,Y,d,l,null)}return;default:if(Xu(s)){for(et in l)l.hasOwnProperty(et)&&(d=l[et],d!==void 0&&Lh(n,s,et,d,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(d=l[C],d!=null&&qt(n,s,C,d,l,null))}function uS(n,s,l,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,A=null,C=null,O=null,Y=null,et=null;for(K in l){var st=l[K];if(l.hasOwnProperty(K)&&st!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=st;default:d.hasOwnProperty(K)||qt(n,s,K,null,d,st)}}for(var W in d){var K=d[W];if(st=l[W],d.hasOwnProperty(W)&&(K!=null||st!=null))switch(W){case"type":b=K;break;case"name":g=K;break;case"checked":Y=K;break;case"defaultChecked":et=K;break;case"value":A=K;break;case"defaultValue":C=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==st&&qt(n,s,W,K,d,st)}}qu(n,A,C,O,Y,et,b,g);return;case"select":K=A=C=W=null;for(b in l)if(O=l[b],l.hasOwnProperty(b)&&O!=null)switch(b){case"value":break;case"multiple":K=O;default:d.hasOwnProperty(b)||qt(n,s,b,null,d,O)}for(g in d)if(b=d[g],O=l[g],d.hasOwnProperty(g)&&(b!=null||O!=null))switch(g){case"value":W=b;break;case"defaultValue":C=b;break;case"multiple":A=b;default:b!==O&&qt(n,s,g,b,d,O)}s=C,l=A,d=K,W!=null?Ea(n,!!l,W,!1):!!d!=!!l&&(s!=null?Ea(n,!!l,s,!0):Ea(n,!!l,l?[]:"",!1));return;case"textarea":K=W=null;for(C in l)if(g=l[C],l.hasOwnProperty(C)&&g!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:qt(n,s,C,null,d,g)}for(A in d)if(g=d[A],b=l[A],d.hasOwnProperty(A)&&(g!=null||b!=null))switch(A){case"value":W=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==b&&qt(n,s,A,g,d,b)}fg(n,W,K);return;case"option":for(var At in l)if(W=l[At],l.hasOwnProperty(At)&&W!=null&&!d.hasOwnProperty(At))switch(At){case"selected":n.selected=!1;break;default:qt(n,s,At,null,d,W)}for(O in d)if(W=d[O],K=l[O],d.hasOwnProperty(O)&&W!==K&&(W!=null||K!=null))switch(O){case"selected":n.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:qt(n,s,O,W,d,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)W=l[vt],l.hasOwnProperty(vt)&&W!=null&&!d.hasOwnProperty(vt)&&qt(n,s,vt,null,d,W);for(Y in d)if(W=d[Y],K=l[Y],d.hasOwnProperty(Y)&&W!==K&&(W!=null||K!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:qt(n,s,Y,W,d,K)}return;default:if(Xu(s)){for(var Yt in l)W=l[Yt],l.hasOwnProperty(Yt)&&W!==void 0&&!d.hasOwnProperty(Yt)&&Lh(n,s,Yt,void 0,d,W);for(et in d)W=d[et],K=l[et],!d.hasOwnProperty(et)||W===K||W===void 0&&K===void 0||Lh(n,s,et,W,d,K);return}}for(var V in l)W=l[V],l.hasOwnProperty(V)&&W!=null&&!d.hasOwnProperty(V)&&qt(n,s,V,null,d,W);for(st in d)W=d[st],K=l[st],!d.hasOwnProperty(st)||W===K||W==null&&K==null||qt(n,s,st,W,d,K)}var Dh=null,Ph=null;function mc(n){return n.nodeType===9?n:n.ownerDocument}function gv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Oh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $h=null;function dS(){var n=window.event;return n&&n.type==="popstate"?n===$h?!1:($h=n,!0):($h=null,!1)}var bv=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,fS=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(n){return vv.resolve(null).then(n).catch(pS)}:bv;function pS(n){setTimeout(function(){throw n})}function us(n){return n==="head"}function yv(n,s){var l=s,d=0,g=0;do{var b=l.nextSibling;if(n.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<d&&8>d){l=d;var A=n.ownerDocument;if(l&1&&vo(A.documentElement),l&2&&vo(A.body),l&4)for(l=A.head,vo(l),A=l.firstChild;A;){var C=A.nextSibling,O=A.nodeName;A[Ns]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=C}}if(g===0){n.removeChild(b),Co(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:d=l.charCodeAt(0)-48;else d=0;l=b}while(l);Co(s)}function Ih(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ih(l),Dr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function gS(n,s,l,d){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[Ns])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=Xn(n.nextSibling),n===null)break}return null}function mS(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Xn(n.nextSibling),n===null))return null;return n}function zh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function bS(n,s){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")s();else{var d=function(){s(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function Xn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var Fh=null;function wv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}function xv(n,s,l){switch(s=mc(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function vo(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Dr(n)}var In=new Map,Av=new Set;function bc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var $i=P.d;P.d={f:vS,r:yS,D:wS,C:xS,L:AS,m:SS,X:_S,S:ES,M:CS};function vS(){var n=$i.f(),s=lc();return n||s}function yS(n){var s=xt(n);s!==null&&s.tag===5&&s.type==="form"?jm(s):$i.r(n)}var tr=typeof document>"u"?null:document;function Sv(n,s,l){var d=tr;if(d&&typeof s=="string"&&s){var g=Nn(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Av.has(g)||(Av.add(g),n={rel:n,crossOrigin:l,href:s},d.querySelector(g)===null&&(s=d.createElement("link"),Ie(s,"link",n),Re(s),d.head.appendChild(s)))}}function wS(n){$i.D(n),Sv("dns-prefetch",n,null)}function xS(n,s){$i.C(n,s),Sv("preconnect",n,s)}function AS(n,s,l){$i.L(n,s,l);var d=tr;if(d&&n&&s){var g='link[rel="preload"][as="'+Nn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Nn(l.imageSizes)+'"]')):g+='[href="'+Nn(n)+'"]';var b=g;switch(s){case"style":b=er(n);break;case"script":b=nr(n)}In.has(b)||(n=p({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),In.set(b,n),d.querySelector(g)!==null||s==="style"&&d.querySelector(yo(b))||s==="script"&&d.querySelector(wo(b))||(s=d.createElement("link"),Ie(s,"link",n),Re(s),d.head.appendChild(s)))}}function SS(n,s){$i.m(n,s);var l=tr;if(l&&n){var d=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Nn(d)+'"][href="'+Nn(n)+'"]',b=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=nr(n)}if(!In.has(b)&&(n=p({rel:"modulepreload",href:n},s),In.set(b,n),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(wo(b)))return}d=l.createElement("link"),Ie(d,"link",n),Re(d),l.head.appendChild(d)}}}function ES(n,s,l){$i.S(n,s,l);var d=tr;if(d&&n){var g=xa(d).hoistableStyles,b=er(n);s=s||"default";var A=g.get(b);if(!A){var C={loading:0,preload:null};if(A=d.querySelector(yo(b)))C.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":s},l),(l=In.get(b))&&Bh(n,l);var O=A=d.createElement("link");Re(O),Ie(O,"link",n),O._p=new Promise(function(Y,et){O.onload=Y,O.onerror=et}),O.addEventListener("load",function(){C.loading|=1}),O.addEventListener("error",function(){C.loading|=2}),C.loading|=4,vc(A,s,d)}A={type:"stylesheet",instance:A,count:1,state:C},g.set(b,A)}}}function _S(n,s){$i.X(n,s);var l=tr;if(l&&n){var d=xa(l).hoistableScripts,g=nr(n),b=d.get(g);b||(b=l.querySelector(wo(g)),b||(n=p({src:n,async:!0},s),(s=In.get(g))&&Hh(n,s),b=l.createElement("script"),Re(b),Ie(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function CS(n,s){$i.M(n,s);var l=tr;if(l&&n){var d=xa(l).hoistableScripts,g=nr(n),b=d.get(g);b||(b=l.querySelector(wo(g)),b||(n=p({src:n,async:!0,type:"module"},s),(s=In.get(g))&&Hh(n,s),b=l.createElement("script"),Re(b),Ie(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function Ev(n,s,l,d){var g=(g=ot.current)?bc(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=er(l.href),l=xa(g).hoistableStyles,d=l.get(s),d||(d={type:"style",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=er(l.href);var b=xa(g).hoistableStyles,A=b.get(n);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,A),(b=g.querySelector(yo(n)))&&!b._p&&(A.instance=b,A.state.loading=5),In.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},In.set(n,l),b||TS(g,n,l,A.state))),s&&d===null)throw Error(i(528,""));return A}if(s&&d!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nr(l),l=xa(g).hoistableScripts,d=l.get(s),d||(d={type:"script",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function er(n){return'href="'+Nn(n)+'"'}function yo(n){return'link[rel="stylesheet"]['+n+"]"}function _v(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function TS(n,s,l,d){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=n.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Ie(s,"link",l),Re(s),n.head.appendChild(s))}function nr(n){return'[src="'+Nn(n)+'"]'}function wo(n){return"script[async]"+n}function Cv(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var d=n.querySelector('style[data-href~="'+Nn(l.href)+'"]');if(d)return s.instance=d,Re(d),d;var g=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),Re(d),Ie(d,"style",g),vc(d,l.precedence,n),s.instance=d;case"stylesheet":g=er(l.href);var b=n.querySelector(yo(g));if(b)return s.state.loading|=4,s.instance=b,Re(b),b;d=_v(l),(g=In.get(g))&&Bh(d,g),b=(n.ownerDocument||n).createElement("link"),Re(b);var A=b;return A._p=new Promise(function(C,O){A.onload=C,A.onerror=O}),Ie(b,"link",d),s.state.loading|=4,vc(b,l.precedence,n),s.instance=b;case"script":return b=nr(l.src),(g=n.querySelector(wo(b)))?(s.instance=g,Re(g),g):(d=l,(g=In.get(b))&&(d=p({},l),Hh(d,g)),n=n.ownerDocument||n,g=n.createElement("script"),Re(g),Ie(g,"link",d),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,vc(d,l.precedence,n));return s.instance}function vc(n,s,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,b=g,A=0;A<d.length;A++){var C=d[A];if(C.dataset.precedence===s)b=C;else if(b!==g)break}b?b.parentNode.insertBefore(n,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Bh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Hh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var yc=null;function Tv(n,s,l){if(yc===null){var d=new Map,g=yc=new Map;g.set(l,d)}else g=yc,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(n))return d;for(d.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var b=l[g];if(!(b[Ns]||b[Me]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(s)||"";A=n+A;var C=d.get(A);C?C.push(b):d.set(A,[b])}}return d}function Mv(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function MS(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Rv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var xo=null;function RS(){}function NS(n,s,l){if(xo===null)throw Error(i(475));var d=xo;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=er(l.href),b=n.querySelector(yo(g));if(b){n=b._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(d.count++,d=wc.bind(d),n.then(d,d)),s.state.loading|=4,s.instance=b,Re(b);return}b=n.ownerDocument||n,l=_v(l),(g=In.get(g))&&Bh(l,g),b=b.createElement("link"),Re(b);var A=b;A._p=new Promise(function(C,O){A.onload=C,A.onerror=O}),Ie(b,"link",l),s.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=wc.bind(d),n.addEventListener("load",s),n.addEventListener("error",s))}}function kS(){if(xo===null)throw Error(i(475));var n=xo;return n.stylesheets&&n.count===0&&jh(n,n.stylesheets),0<n.count?function(s){var l=setTimeout(function(){if(n.stylesheets&&jh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l)}}:null}function wc(){if(this.count--,this.count===0){if(this.stylesheets)jh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var xc=null;function jh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,xc=new Map,s.forEach(LS,n),xc=null,wc.call(n))}function LS(n,s){if(!(s.state.loading&4)){var l=xc.get(n);if(l)var d=l.get(null);else{l=new Map,xc.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var A=g[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),d=A)}d&&l.set(null,d)}g=s.instance,A=g.getAttribute("data-precedence"),b=l.get(A)||d,b===d&&l.set(null,g),l.set(A,g),this.count++,d=wc.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),b?b.parentNode.insertBefore(g,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var Ao={$$typeof:M,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function DS(n,s,l,d,g,b,A,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.hiddenUpdates=Ms(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Nv(n,s,l,d,g,b,A,C,O,Y,et,st){return n=new DS(n,s,l,A,C,O,Y,st),s=1,b===!0&&(s|=24),b=wn(3,null,null,s),n.current=b,b.stateNode=n,s=Sd(),s.refCount++,n.pooledCache=s,s.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:s},Td(b),n}function kv(n){return n?(n=Da,n):Da}function Lv(n,s,l,d,g,b){g=kv(g),d.context===null?d.context=g:d.pendingContext=g,d=Qi(s),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=Zi(n,d,s),l!==null&&(_n(l,n,s),Qr(l,n,s))}function Dv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Uh(n,s){Dv(n,s),(n=n.alternate)&&Dv(n,s)}function Pv(n){if(n.tag===13){var s=La(n,67108864);s!==null&&_n(s,n,67108864),Uh(n,67108864)}}var Ac=!0;function PS(n,s,l,d){var g=T.T;T.T=null;var b=P.p;try{P.p=2,Vh(n,s,l,d)}finally{P.p=b,T.T=g}}function OS(n,s,l,d){var g=T.T;T.T=null;var b=P.p;try{P.p=8,Vh(n,s,l,d)}finally{P.p=b,T.T=g}}function Vh(n,s,l,d){if(Ac){var g=Gh(d);if(g===null)kh(n,s,d,Sc,l),$v(n,d);else if(IS(g,n,s,l,d))d.stopPropagation();else if($v(n,d),s&4&&-1<$S.indexOf(n)){for(;g!==null;){var b=xt(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Vn(b.pendingLanes);if(A!==0){var C=b;for(C.pendingLanes|=2,C.entangledLanes|=2;A;){var O=1<<31-Ve(A);C.entanglements[1]|=O,A&=~O}ai(b),(Ut&6)===0&&(rc=Xe()+500,go(0))}}break;case 13:C=La(b,2),C!==null&&_n(C,b,2),lc(),Uh(b,2)}if(b=Gh(d),b===null&&kh(n,s,d,Sc,l),b===g)break;g=b}g!==null&&d.stopPropagation()}else kh(n,s,d,null,l)}}function Gh(n){return n=Ku(n),qh(n)}var Sc=null;function qh(n){if(Sc=null,n=Yi(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Sc=n,null}function Ov(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case ba:return 2;case va:return 8;case yi:case an:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var Yh=!1,ds=null,hs=null,fs=null,So=new Map,Eo=new Map,ps=[],$S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(n,s){switch(n){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":So.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(s.pointerId)}}function _o(n,s,l,d,g,b){return n===null||n.nativeEvent!==b?(n={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[g]},s!==null&&(s=xt(s),s!==null&&Pv(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function IS(n,s,l,d,g){switch(s){case"focusin":return ds=_o(ds,n,s,l,d,g),!0;case"dragenter":return hs=_o(hs,n,s,l,d,g),!0;case"mouseover":return fs=_o(fs,n,s,l,d,g),!0;case"pointerover":var b=g.pointerId;return So.set(b,_o(So.get(b)||null,n,s,l,d,g)),!0;case"gotpointercapture":return b=g.pointerId,Eo.set(b,_o(Eo.get(b)||null,n,s,l,d,g)),!0}return!1}function Iv(n){var s=Yi(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){n.blockedOn=s,ae(n.priority,function(){if(l.tag===13){var d=En();d=vn(d);var g=La(l,d);g!==null&&_n(g,l,d),Uh(l,d)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ec(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Gh(n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);Wu=d,l.target.dispatchEvent(d),Wu=null}else return s=xt(l),s!==null&&Pv(s),n.blockedOn=l,!1;s.shift()}return!0}function zv(n,s,l){Ec(n)&&l.delete(s)}function zS(){Yh=!1,ds!==null&&Ec(ds)&&(ds=null),hs!==null&&Ec(hs)&&(hs=null),fs!==null&&Ec(fs)&&(fs=null),So.forEach(zv),Eo.forEach(zv)}function _c(n,s){n.blockedOn===s&&(n.blockedOn=null,Yh||(Yh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zS)))}var Cc=null;function Fv(n){Cc!==n&&(Cc=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Cc===n&&(Cc=null);for(var s=0;s<n.length;s+=3){var l=n[s],d=n[s+1],g=n[s+2];if(typeof d!="function"){if(qh(d||l)===null)continue;break}var b=xt(l);b!==null&&(n.splice(s,3),s-=3,qd(b,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function Co(n){function s(O){return _c(O,n)}ds!==null&&_c(ds,n),hs!==null&&_c(hs,n),fs!==null&&_c(fs,n),So.forEach(s),Eo.forEach(s);for(var l=0;l<ps.length;l++){var d=ps[l];d.blockedOn===n&&(d.blockedOn=null)}for(;0<ps.length&&(l=ps[0],l.blockedOn===null);)Iv(l),l.blockedOn===null&&ps.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],b=l[d+1],A=g[Pe]||null;if(typeof b=="function")A||Fv(l);else if(A){var C=null;if(b&&b.hasAttribute("formAction")){if(g=b,A=b[Pe]||null)C=A.formAction;else if(qh(g)!==null)continue}else C=A.action;typeof C=="function"?l[d+1]=C:(l.splice(d,3),d-=3),Fv(l)}}}function Xh(n){this._internalRoot=n}Tc.prototype.render=Xh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,d=En();Lv(l,d,n,s,null,null)},Tc.prototype.unmount=Xh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Lv(n.current,2,null,n,null,null),lc(),s[qi]=null}};function Tc(n){this._internalRoot=n}Tc.prototype.unstable_scheduleHydration=function(n){if(n){var s=bl();n={blockedOn:null,target:n,priority:s};for(var l=0;l<ps.length&&s!==0&&s<ps[l].priority;l++);ps.splice(l,0,n),l===0&&Iv(n)}};var Bv=t.version;if(Bv!=="19.1.1")throw Error(i(527,Bv,"19.1.1"));P.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=h(s),n=n!==null?f(n):null,n=n===null?null:n.stateNode,n};var FS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Ts=Mc.inject(FS),Ee=Mc}catch{}}return Mo.createRoot=function(n,s){if(!r(n))throw Error(i(299));var l=!1,d="",g=nb,b=ib,A=sb,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=Nv(n,1,!1,null,null,l,d,g,b,A,C,null),n[qi]=s.current,Nh(n),new Xh(s)},Mo.hydrateRoot=function(n,s,l){if(!r(n))throw Error(i(299));var d=!1,g="",b=nb,A=ib,C=sb,O=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),s=Nv(n,1,!0,s,l??null,d,g,b,A,C,O,Y),s.context=kv(null),l=s.current,d=En(),d=vn(d),g=Qi(d),g.callback=null,Zi(l,g,d),l=d,s.current.lanes=l,xi(s,l),ai(s),n[qi]=s.current,Nh(n),new Tc(s)},Mo.version="19.1.1",Mo}var Zv;function XS(){if(Zv)return Zh.exports;Zv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Zh.exports=YS(),Zh.exports}var WS=XS();const KS=hp(WS);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jv="popstate";function QS(a={}){function t(i,r){let{pathname:o,search:c,hash:u}=i.location;return Cf("",{pathname:o,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:Yo(r)}return JS(t,e,null,a)}function se(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function gi(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZS(){return Math.random().toString(36).substring(2,10)}function ty(a,t){return{usr:a.state,key:a.key,idx:t}}function Cf(a,t,e=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Er(t):t,state:e,key:t&&t.key||i||ZS()}}function Yo({pathname:a="/",search:t="",hash:e=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(a+=e.charAt(0)==="#"?e:"#"+e),a}function Er(a){let t={};if(a){let e=a.indexOf("#");e>=0&&(t.hash=a.substring(e),a=a.substring(0,e));let i=a.indexOf("?");i>=0&&(t.search=a.substring(i),a=a.substring(0,i)),a&&(t.pathname=a)}return t}function JS(a,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,u="POP",h=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function m(){u="POP";let E=p(),S=E==null?null:E-f;f=E,h&&h({action:u,location:x.location,delta:S})}function v(E,S){u="PUSH";let k=Cf(x.location,E,S);f=p()+1;let M=ty(k,f),N=x.createHref(k);try{c.pushState(M,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(N)}o&&h&&h({action:u,location:x.location,delta:1})}function y(E,S){u="REPLACE";let k=Cf(x.location,E,S);f=p();let M=ty(k,f),N=x.createHref(k);c.replaceState(M,"",N),o&&h&&h({action:u,location:x.location,delta:0})}function w(E){return tE(E)}let x={get action(){return u},get location(){return a(r,c)},listen(E){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(Jv,m),h=E,()=>{r.removeEventListener(Jv,m),h=null}},createHref(E){return t(r,E)},createURL:w,encodeLocation(E){let S=w(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:y,go(E){return c.go(E)}};return x}function tE(a,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),se(e,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:Yo(a);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function _0(a,t,e="/"){return eE(a,t,e,!1)}function eE(a,t,e,i){let r=typeof t=="string"?Er(t):t,o=Ui(r.pathname||"/",e);if(o==null)return null;let c=C0(a);nE(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let f=fE(o);u=dE(c[h],f,i)}return u}function C0(a,t=[],e=[],i="",r=!1){let o=(c,u,h=r,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&h)return;se(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let m=ji([i,p.relativePath]),v=e.concat(p);c.children&&c.children.length>0&&(se(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),C0(c.children,t,v,m,h)),!(c.path==null&&!c.index)&&t.push({path:m,score:cE(m,c.index),routesMeta:v})};return a.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let h of T0(c.path))o(c,u,!0,h)}),t}function T0(a){let t=a.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=T0(i.join("/")),u=[];return u.push(...c.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...c),u.map(h=>a.startsWith("/")&&h===""?"/":h)}function nE(a){a.sort((t,e)=>t.score!==e.score?e.score-t.score:uE(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var iE=/^:[\w-]+$/,sE=3,aE=2,rE=1,oE=10,lE=-2,ey=a=>a==="*";function cE(a,t){let e=a.split("/"),i=e.length;return e.some(ey)&&(i+=lE),t&&(i+=aE),e.filter(r=>!ey(r)).reduce((r,o)=>r+(iE.test(o)?sE:o===""?rE:oE),i)}function uE(a,t){return a.length===t.length&&a.slice(0,-1).every((i,r)=>i===t[r])?a[a.length-1]-t[t.length-1]:0}function dE(a,t,e=!1){let{routesMeta:i}=a,r={},o="/",c=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=au({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),v=h.route;if(!m&&f&&e&&!i[i.length-1].route.index&&(m=au({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),c.push({params:r,pathname:ji([o,m.pathname]),pathnameBase:bE(ji([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=ji([o,m.pathnameBase]))}return c}function au(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,i]=hE(a.path,a.caseSensitive,a.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:m},v)=>{if(p==="*"){let w=u[v]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=u[v];return m&&!y?f[p]=void 0:f[p]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:a}}function hE(a,t=!1,e=!0){gi(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function fE(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gi(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function Ui(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=a.charAt(e);return i&&i!=="/"?null:a.slice(e)||"/"}function pE(a,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof a=="string"?Er(a):a;return{pathname:e?e.startsWith("/")?e:gE(e,t):t,search:vE(i),hash:yE(r)}}function gE(a,t){let e=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function nf(a,t,e,i){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mE(a){return a.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function M0(a){let t=mE(a);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function R0(a,t,e,i=!1){let r;typeof a=="string"?r=Er(a):(r={...a},se(!r.pathname||!r.pathname.includes("?"),nf("?","pathname","search",r)),se(!r.pathname||!r.pathname.includes("#"),nf("#","pathname","hash",r)),se(!r.search||!r.search.includes("#"),nf("#","search","hash",r)));let o=a===""||r.pathname==="",c=o?"/":r.pathname,u;if(c==null)u=e;else{let m=t.length-1;if(!i&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),m-=1;r.pathname=v.join("/")}u=m>=0?t[m]:"/"}let h=pE(r,u),f=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var ji=a=>a.join("/").replace(/\/\/+/g,"/"),bE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),vE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,yE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function wE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var N0=["POST","PUT","PATCH","DELETE"];new Set(N0);var xE=["GET",...N0];new Set(xE);var _r=_.createContext(null);_r.displayName="DataRouter";var xu=_.createContext(null);xu.displayName="DataRouterState";_.createContext(!1);var k0=_.createContext({isTransitioning:!1});k0.displayName="ViewTransition";var AE=_.createContext(new Map);AE.displayName="Fetchers";var SE=_.createContext(null);SE.displayName="Await";var bi=_.createContext(null);bi.displayName="Navigation";var Zo=_.createContext(null);Zo.displayName="Location";var Vi=_.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var pp=_.createContext(null);pp.displayName="RouteError";function L0(a,{relative:t}={}){se(Jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=_.useContext(bi),{hash:r,pathname:o,search:c}=tl(a,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:ji([e,o])),i.createHref({pathname:u,search:c,hash:r})}function Jo(){return _.useContext(Zo)!=null}function da(){return se(Jo(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Zo).location}var D0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P0(a){_.useContext(bi).static||_.useLayoutEffect(a)}function gp(){let{isDataRoute:a}=_.useContext(Vi);return a?$E():EE()}function EE(){se(Jo(),"useNavigate() may be used only in the context of a <Router> component.");let a=_.useContext(_r),{basename:t,navigator:e}=_.useContext(bi),{matches:i}=_.useContext(Vi),{pathname:r}=da(),o=JSON.stringify(M0(i)),c=_.useRef(!1);return P0(()=>{c.current=!0}),_.useCallback((h,f={})=>{if(gi(c.current,D0),!c.current)return;if(typeof h=="number"){e.go(h);return}let p=R0(h,JSON.parse(o),r,f.relative==="path");a==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ji([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,r,a])}_.createContext(null);function tl(a,{relative:t}={}){let{matches:e}=_.useContext(Vi),{pathname:i}=da(),r=JSON.stringify(M0(e));return _.useMemo(()=>R0(a,JSON.parse(r),i,t==="path"),[a,r,i,t])}function _E(a,t){return O0(a,t)}function O0(a,t,e,i){se(Jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=_.useContext(bi),{matches:o}=_.useContext(Vi),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let S=p&&p.path||"";$0(h,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let m=da(),v;if(t){let S=typeof t=="string"?Er(t):t;se(f==="/"||S.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),v=S}else v=m;let y=v.pathname||"/",w=y;if(f!=="/"){let S=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=_0(a,{pathname:w});gi(p||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),gi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=NE(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:ji([f,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:ji([f,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,e,i);return t&&E?_.createElement(Zo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function CE(){let a=OE(),t=wE(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),e?_.createElement("pre",{style:r},e):null,c)}var TE=_.createElement(CE,null),ME=class extends _.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){console.error("React Router caught the following error during render",a,t)}render(){return this.state.error!==void 0?_.createElement(Vi.Provider,{value:this.props.routeContext},_.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RE({routeContext:a,match:t,children:e}){let i=_.useContext(_r);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Vi.Provider,{value:a},e)}function NE(a,t=[],e=null,i=null){if(a==null){if(!e)return null;if(e.errors)a=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)a=e.matches;else return null}let r=a,o=e?.errors;if(o!=null){let h=r.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);se(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let c=!1,u=-1;if(e)for(let h=0;h<r.length;h++){let f=r[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:m}=e,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((h,f,p)=>{let m,v=!1,y=null,w=null;e&&(m=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||TE,c&&(u<0&&p===0?($0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):u===p&&(v=!0,w=f.route.hydrateFallbackElement||null)));let x=t.concat(r.slice(0,p+1)),E=()=>{let S;return m?S=y:v?S=w:f.route.Component?S=_.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,_.createElement(RE,{match:f,routeContext:{outlet:h,matches:x,isDataRoute:e!=null},children:S})};return e&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?_.createElement(ME,{location:e.location,revalidation:e.revalidation,component:y,error:m,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}function mp(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kE(a){let t=_.useContext(_r);return se(t,mp(a)),t}function LE(a){let t=_.useContext(xu);return se(t,mp(a)),t}function DE(a){let t=_.useContext(Vi);return se(t,mp(a)),t}function bp(a){let t=DE(a),e=t.matches[t.matches.length-1];return se(e.route.id,`${a} can only be used on routes that contain a unique "id"`),e.route.id}function PE(){return bp("useRouteId")}function OE(){let a=_.useContext(pp),t=LE("useRouteError"),e=bp("useRouteError");return a!==void 0?a:t.errors?.[e]}function $E(){let{router:a}=kE("useNavigate"),t=bp("useNavigate"),e=_.useRef(!1);return P0(()=>{e.current=!0}),_.useCallback(async(r,o={})=>{gi(e.current,D0),e.current&&(typeof r=="number"?a.navigate(r):await a.navigate(r,{fromRouteId:t,...o}))},[a,t])}var ny={};function $0(a,t,e){!t&&!ny[a]&&(ny[a]=!0,gi(!1,e))}_.memo(IE);function IE({routes:a,future:t,state:e}){return O0(a,void 0,e,t)}function Ks(a){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zE({basename:a="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){se(!Jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=a.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=Er(e));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:v="default"}=e,y=_.useMemo(()=>{let w=Ui(h,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:v},navigationType:i}},[c,h,f,p,m,v,i]);return gi(y!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(bi.Provider,{value:u},_.createElement(Zo.Provider,{children:t,value:y}))}function FE({children:a,location:t}){return _E(Tf(a),t)}function Tf(a,t=[]){let e=[];return _.Children.forEach(a,(i,r)=>{if(!_.isValidElement(i))return;let o=[...t,r];if(i.type===_.Fragment){e.push.apply(e,Tf(i.props.children,o));return}se(i.type===Ks,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Tf(i.props.children,o)),e.push(c)}),e}var Kc="get",Qc="application/x-www-form-urlencoded";function Au(a){return a!=null&&typeof a.tagName=="string"}function BE(a){return Au(a)&&a.tagName.toLowerCase()==="button"}function HE(a){return Au(a)&&a.tagName.toLowerCase()==="form"}function jE(a){return Au(a)&&a.tagName.toLowerCase()==="input"}function UE(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function VE(a,t){return a.button===0&&(!t||t==="_self")&&!UE(a)}var Rc=null;function GE(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var qE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sf(a){return a!=null&&!qE.has(a)?(gi(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):a}function YE(a,t){let e,i,r,o,c;if(HE(a)){let u=a.getAttribute("action");i=u?Ui(u,t):null,e=a.getAttribute("method")||Kc,r=sf(a.getAttribute("enctype"))||Qc,o=new FormData(a)}else if(BE(a)||jE(a)&&(a.type==="submit"||a.type==="image")){let u=a.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=a.getAttribute("formaction")||u.getAttribute("action");if(i=h?Ui(h,t):null,e=a.getAttribute("formmethod")||u.getAttribute("method")||Kc,r=sf(a.getAttribute("formenctype"))||sf(u.getAttribute("enctype"))||Qc,o=new FormData(u,a),!GE()){let{name:f,type:p,value:m}=a;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,m)}}else{if(Au(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Kc,i=null,r=Qc,c=a}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vp(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function XE(a,t,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Ui(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function WE(a,t){if(a.id in t)return t[a.id];try{let e=await import(a.module);return t[a.id]=e,e}catch(e){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KE(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function QE(a,t,e){let i=await Promise.all(a.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await WE(o,e);return c.links?c.links():[]}return[]}));return e_(i.flat(1).filter(KE).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function iy(a,t,e,i,r,o){let c=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,u=(h,f)=>e[f].pathname!==h.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==h.params["*"];return o==="assets"?t.filter((h,f)=>c(h,f)||u(h,f)):o==="data"?t.filter((h,f)=>{let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let m=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function ZE(a,t,{includeHydrateFallback:e}={}){return JE(a.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function JE(a){return[...new Set(a)]}function t_(a){let t={},e=Object.keys(a).sort();for(let i of e)t[i]=a[i];return t}function e_(a,t){let e=new Set;return new Set(t),a.reduce((i,r)=>{let o=JSON.stringify(t_(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function I0(){let a=_.useContext(_r);return vp(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function n_(){let a=_.useContext(xu);return vp(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var yp=_.createContext(void 0);yp.displayName="FrameworkContext";function z0(){let a=_.useContext(yp);return vp(a,"You must render this element inside a <HydratedRouter> element"),a}function i_(a,t){let e=_.useContext(yp),[i,r]=_.useState(!1),[o,c]=_.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,v=_.useRef(null);_.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let x=S=>{S.forEach(k=>{c(k.isIntersecting)})},E=new IntersectionObserver(x,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[a]),_.useEffect(()=>{if(i){let x=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(x)}}},[i]);let y=()=>{r(!0)},w=()=>{r(!1),c(!1)};return e?a!=="intent"?[o,v,{}]:[o,v,{onFocus:Ro(u,y),onBlur:Ro(h,w),onMouseEnter:Ro(f,y),onMouseLeave:Ro(p,w),onTouchStart:Ro(m,y)}]:[!1,v,{}]}function Ro(a,t){return e=>{a&&a(e),e.defaultPrevented||t(e)}}function s_({page:a,...t}){let{router:e}=I0(),i=_.useMemo(()=>_0(e.routes,a,e.basename),[e.routes,a,e.basename]);return i?_.createElement(r_,{page:a,matches:i,...t}):null}function a_(a){let{manifest:t,routeModules:e}=z0(),[i,r]=_.useState([]);return _.useEffect(()=>{let o=!1;return QE(a,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[a,t,e]),i}function r_({page:a,matches:t,...e}){let i=da(),{manifest:r,routeModules:o}=z0(),{basename:c}=I0(),{loaderData:u,matches:h}=n_(),f=_.useMemo(()=>iy(a,t,h,r,i,"data"),[a,t,h,r,i]),p=_.useMemo(()=>iy(a,t,h,r,i,"assets"),[a,t,h,r,i]),m=_.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let w=new Set,x=!1;if(t.forEach(S=>{let k=r.routes[S.route.id];!k||!k.hasLoader||(!f.some(M=>M.route.id===S.route.id)&&S.route.id in u&&o[S.route.id]?.shouldRevalidate||k.hasClientLoader?x=!0:w.add(S.route.id))}),w.size===0)return[];let E=XE(a,c,"data");return x&&w.size>0&&E.searchParams.set("_routes",t.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[c,u,i,r,f,t,a,o]),v=_.useMemo(()=>ZE(p,r),[p,r]),y=a_(p);return _.createElement(_.Fragment,null,m.map(w=>_.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),v.map(w=>_.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),y.map(({key:w,link:x})=>_.createElement("link",{key:w,nonce:e.nonce,...x})))}function o_(...a){return t=>{a.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var F0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F0&&(window.__reactRouterVersion="7.8.1")}catch{}function l_({basename:a,children:t,window:e}){let i=_.useRef();i.current==null&&(i.current=QS({window:e,v5Compat:!0}));let r=i.current,[o,c]=_.useState({action:r.action,location:r.location}),u=_.useCallback(h=>{_.startTransition(()=>c(h))},[c]);return _.useLayoutEffect(()=>r.listen(u),[r,u]),_.createElement(zE,{basename:a,children:t,location:o.location,navigationType:o.action,navigator:r})}var B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H0=_.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:u,target:h,to:f,preventScrollReset:p,viewTransition:m,...v},y){let{basename:w}=_.useContext(bi),x=typeof f=="string"&&B0.test(f),E,S=!1;if(typeof f=="string"&&x&&(E=f,F0))try{let Q=new URL(window.location.href),it=f.startsWith("//")?new URL(Q.protocol+f):new URL(f),I=Ui(it.pathname,w);it.origin===Q.origin&&I!=null?f=I+it.search+it.hash:S=!0}catch{gi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=L0(f,{relative:r}),[M,N,D]=i_(i,v),z=h_(f,{replace:c,state:u,target:h,preventScrollReset:p,relative:r,viewTransition:m});function B(Q){t&&t(Q),Q.defaultPrevented||z(Q)}let U=_.createElement("a",{...v,...D,href:E||k,onClick:S||o?t:B,ref:o_(y,N),target:h,"data-discover":!x&&e==="render"?"true":void 0});return M&&!x?_.createElement(_.Fragment,null,U,_.createElement(s_,{page:k})):U});H0.displayName="Link";var c_=_.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:u,children:h,...f},p){let m=tl(c,{relative:f.relative}),v=da(),y=_.useContext(xu),{navigator:w,basename:x}=_.useContext(bi),E=y!=null&&b_(m)&&u===!0,S=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,k=v.pathname,M=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;e||(k=k.toLowerCase(),M=M?M.toLowerCase():null,S=S.toLowerCase()),M&&x&&(M=Ui(M,x)||M);const N=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let D=k===S||!r&&k.startsWith(S)&&k.charAt(N)==="/",z=M!=null&&(M===S||!r&&M.startsWith(S)&&M.charAt(S.length)==="/"),B={isActive:D,isPending:z,isTransitioning:E},U=D?t:void 0,Q;typeof i=="function"?Q=i(B):Q=[i,D?"active":null,z?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let it=typeof o=="function"?o(B):o;return _.createElement(H0,{...f,"aria-current":U,className:Q,ref:p,style:it,to:c,viewTransition:u},typeof h=="function"?h(B):h)});c_.displayName="NavLink";var u_=_.forwardRef(({discover:a="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Kc,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:m,...v},y)=>{let w=g_(),x=m_(u,{relative:f}),E=c.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&B0.test(u),k=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let N=M.nativeEvent.submitter,D=N?.getAttribute("formmethod")||c;w(N||M.currentTarget,{fetcherKey:t,method:D,navigate:e,replace:r,state:o,relative:f,preventScrollReset:p,viewTransition:m})};return _.createElement("form",{ref:y,method:E,action:x,onSubmit:i?h:k,...v,"data-discover":!S&&a==="render"?"true":void 0})});u_.displayName="Form";function d_(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j0(a){let t=_.useContext(_r);return se(t,d_(a)),t}function h_(a,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let u=gp(),h=da(),f=tl(a,{relative:o});return _.useCallback(p=>{if(VE(p,t)){p.preventDefault();let m=e!==void 0?e:Yo(h)===Yo(f);u(a,{replace:m,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[h,u,f,e,i,t,a,r,o,c])}var f_=0,p_=()=>`__${String(++f_)}__`;function g_(){let{router:a}=j0("useSubmit"),{basename:t}=_.useContext(bi),e=PE();return _.useCallback(async(i,r={})=>{let{action:o,method:c,encType:u,formData:h,body:f}=YE(i,t);if(r.navigate===!1){let p=r.fetcherKey||p_();await a.fetch(p,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await a.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,t,e])}function m_(a,{relative:t}={}){let{basename:e}=_.useContext(bi),i=_.useContext(Vi);se(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...tl(a||".",{relative:t})},c=da();if(a==null){o.search=c.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();o.search=p?`?${p}`:""}}return(!a||a===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ji([e,o.pathname])),Yo(o)}function b_(a,{relative:t}={}){let e=_.useContext(k0);se(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=j0("useViewTransitionState"),r=tl(a,{relative:t});if(!e.isTransitioning)return!1;let o=Ui(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Ui(e.nextLocation.pathname,i)||e.nextLocation.pathname;return au(r.pathname,c)!=null||au(r.pathname,o)!=null}var v_=E0();const y_=hp(v_);function Su(a={}){const{strict:t=!0,errorMessage:e="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:i}=a,r=_.createContext(void 0);r.displayName=i;function o(){var c;const u=_.useContext(r);if(!u&&t){const h=new Error(e);throw h.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,h,o),h}return u}return[r.Provider,o,r]}function Be(a){const t=_.useRef(null);return _.useImperativeHandle(a,()=>t.current),t}function wp(a){return Array.isArray(a)}function w_(a){return wp(a)&&a.length===0}function U0(a){const t=typeof a;return a!=null&&(t==="object"||t==="function")&&!wp(a)}function x_(a){return U0(a)&&Object.keys(a).length===0}function A_(a){return wp(a)?w_(a):U0(a)?x_(a):a==null||a===""}function S_(a){return typeof a=="function"}var gt=a=>a?"true":void 0;function V0(a){var t,e,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a))for(t=0;t<a.length;t++)a[t]&&(e=V0(a[t]))&&(i&&(i+=" "),i+=e);else for(t in a)a[t]&&(i&&(i+=" "),i+=t);return i}function Ot(...a){for(var t=0,e,i,r="";t<a.length;)(e=a[t++])&&(i=V0(e))&&(r&&(r+=" "),r+=i);return r}var E_=(...a)=>{let t=" ";for(const e of a)if(typeof e=="string"&&e.length>0){t=e;break}return t};function __(a){return`${a}-${Math.floor(Math.random()*1e6)}`}function ha(a){if(!a||typeof a!="object")return"";try{return JSON.stringify(a)}catch{return""}}function C_(a,t,e){return Math.min(Math.max(a,t),e)}function br(...a){return(...t)=>{for(let e of a)typeof e=="function"&&e(...t)}}var sy=new Map;function T_(a,t){if(a===t)return a;let e=sy.get(a);if(e)return e.forEach(r=>r.current=t),t;let i=sy.get(t);return i?(i.forEach(r=>r.current=a),a):t}function en(...a){let t={...a[0]};for(let e=1;e<a.length;e++){let i=a[e];for(let r in i){let o=t[r],c=i[r];typeof o=="function"&&typeof c=="function"&&r[0]==="o"&&r[1]==="n"&&r.charCodeAt(2)>=65&&r.charCodeAt(2)<=90?t[r]=br(o,c):(r==="className"||r==="UNSAFE_className")&&typeof o=="string"&&typeof c=="string"?t[r]=Ot(o,c):r==="id"&&o&&c?t.id=T_(o,c):t[r]=c!==void 0?c:o}}return t}function M_(...a){return a.length===1&&a[0]?a[0]:t=>{let e=!1;const i=a.map(r=>{const o=ay(r,t);return e||(e=typeof o=="function"),o});if(e)return()=>{i.forEach((r,o)=>{typeof r=="function"?r?.():ay(a[o],null)})}}}function ay(a,t){if(typeof a=="function")return()=>a(t);a!=null&&"current"in a&&(a.current=t)}function R_(a,t){if(a!=null){if(S_(a)){a(t);return}try{a.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${a}'`)}}}function N_(...a){return t=>{a.forEach(e=>R_(e,t))}}var k_=(a,t)=>{var e;let i=[];const r=(e=_.Children.map(a,c=>_.isValidElement(c)&&c.type===t?(i.push(c),null):c))==null?void 0:e.filter(Boolean),o=i.length>=0?i:void 0;return[r,o]},L_=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),D_=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),ry=/^(data-.*)$/,P_=/^(aria-.*)$/,Nc=/^(on[A-Z].*)$/;function vr(a,t={}){let{labelable:e=!0,enabled:i=!0,propNames:r,omitPropNames:o,omitEventNames:c,omitDataProps:u,omitEventProps:h}=t,f={};if(!i)return a;for(const p in a)o?.has(p)||c?.has(p)&&Nc.test(p)||Nc.test(p)&&!D_.has(p)||u&&ry.test(p)||h&&Nc.test(p)||(Object.prototype.hasOwnProperty.call(a,p)&&(L_.has(p)||e&&P_.test(p)||r?.has(p)||ry.test(p))||Nc.test(p))&&(f[p]=a[p]);return f}var[O_,xp]=Su({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"}),[$_,Ss]=Su({name:"ProviderContext",strict:!1});const I_=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),z_=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function G0(a){if(Intl.Locale){let e=new Intl.Locale(a).maximize(),i=typeof e.getTextInfo=="function"?e.getTextInfo():e.textInfo;if(i)return i.direction==="rtl";if(e.script)return I_.has(e.script)}let t=a.split("-")[0];return z_.has(t)}const q0={prefix:String(Math.round(Math.random()*1e10)),current:0},Y0=Ft.createContext(q0),F_=Ft.createContext(!1);let af=new WeakMap;function B_(a=!1){let t=_.useContext(Y0),e=_.useRef(null);if(e.current===null&&!a){var i,r;let o=(r=Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(o){let c=af.get(o);c==null?af.set(o,{id:t.current,state:o.memoizedState}):o.memoizedState!==c.state&&(t.current=c.id,af.delete(o))}e.current=++t.current}return e.current}function H_(a){let t=_.useContext(Y0),e=B_(!!a),i=`react-aria${t.prefix}`;return a||`${i}-${e}`}function j_(a){let t=Ft.useId(),[e]=_.useState(Ap()),i=e?"react-aria":`react-aria${q0.prefix}`;return a||`${i}-${t}`}const U_=typeof Ft.useId=="function"?j_:H_;function V_(){return!1}function G_(){return!0}function q_(a){return()=>{}}function Ap(){return typeof Ft.useSyncExternalStore=="function"?Ft.useSyncExternalStore(q_,V_,G_):_.useContext(F_)}const Y_=Symbol.for("react-aria.i18n.locale");function X0(){let a=typeof window<"u"&&window[Y_]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([a])}catch{a="en-US"}return{locale:a,direction:G0(a)?"rtl":"ltr"}}let Mf=X0(),$o=new Set;function oy(){Mf=X0();for(let a of $o)a(Mf)}function X_(){let a=Ap(),[t,e]=_.useState(Mf);return _.useEffect(()=>($o.size===0&&window.addEventListener("languagechange",oy),$o.add(e),()=>{$o.delete(e),$o.size===0&&window.removeEventListener("languagechange",oy)}),[]),a?{locale:"en-US",direction:"ltr"}:t}const W_=Ft.createContext(null);function K_(a){let{locale:t,children:e}=a,i=X_(),r=Ft.useMemo(()=>t?{locale:t,direction:G0(t)?"rtl":"ltr"}:i,[i,t]);return Ft.createElement(W_.Provider,{value:r},e)}function Q_(a,t){if(t.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Z_(a,t,e){Q_(a,t),t.set(a,e)}const De=typeof document<"u"?Ft.useLayoutEffect:()=>{};var rf;const J_=(rf=Ft.useInsertionEffect)!==null&&rf!==void 0?rf:De;function mn(a){const t=_.useRef(null);return J_(()=>{t.current=a},[a]),_.useCallback((...e)=>{const i=t.current;return i?.(...e)},[])}function tC(a){let[t,e]=_.useState(a),i=_.useRef(null),r=mn(()=>{if(!i.current)return;let c=i.current.next();if(c.done){i.current=null;return}t===c.value?r():e(c.value)});De(()=>{i.current&&r()});let o=mn(c=>{i.current=c(t),r()});return[t,o]}let eC=!!(typeof window<"u"&&window.document&&window.document.createElement),hr=new Map,Io;typeof FinalizationRegistry<"u"&&(Io=new FinalizationRegistry(a=>{hr.delete(a)}));function ru(a){let[t,e]=_.useState(a),i=_.useRef(null),r=U_(t),o=_.useRef(null);if(Io&&Io.register(o,r),eC){const c=hr.get(r);c&&!c.includes(i)?c.push(i):hr.set(r,[i])}return De(()=>{let c=r;return()=>{Io&&Io.unregister(o),hr.delete(c)}},[r]),_.useEffect(()=>{let c=i.current;return c&&e(c),()=>{c&&(i.current=null)}}),r}function nC(a,t){if(a===t)return a;let e=hr.get(a);if(e)return e.forEach(r=>r.current=t),t;let i=hr.get(t);return i?(i.forEach(r=>r.current=a),a):t}function ly(a=[]){let t=ru(),[e,i]=tC(t),r=_.useCallback(()=>{i(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,i]);return De(r,[t,r,...a]),e}function yr(...a){return(...t)=>{for(let e of a)typeof e=="function"&&e(...t)}}const Kt=a=>{var t;return(t=a?.ownerDocument)!==null&&t!==void 0?t:document},Hn=a=>a&&"window"in a&&a.window===a?a:Kt(a).defaultView||window;function iC(a){return a!==null&&typeof a=="object"&&"nodeType"in a&&typeof a.nodeType=="number"}function sC(a){return iC(a)&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in a}let aC=!1;function Eu(){return aC}function pn(a,t){if(!Eu())return t&&a?a.contains(t):!1;if(!a||!t)return!1;let e=t;for(;e!==null;){if(e===a)return!0;e.tagName==="SLOT"&&e.assignedSlot?e=e.assignedSlot.parentNode:sC(e)?e=e.host:e=e.parentNode}return!1}const bn=(a=document)=>{var t;if(!Eu())return a.activeElement;let e=a.activeElement;for(;e&&"shadowRoot"in e&&(!((t=e.shadowRoot)===null||t===void 0)&&t.activeElement);)e=e.shadowRoot.activeElement;return e};function de(a){return Eu()&&a.target.shadowRoot&&a.composedPath?a.composedPath()[0]:a.target}class rC{get currentNode(){return this._currentNode}set currentNode(t){if(!pn(this.root,t))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const e=[];let i=t,r=t;for(this._currentNode=t;i&&i!==this.root;)if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const c=i,u=this._doc.createTreeWalker(c,this.whatToShow,{acceptNode:this._acceptNode});e.push(u),u.currentNode=r,this._currentSetFor.add(u),i=r=c.host}else i=i.parentNode;const o=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});e.push(o),o.currentNode=r,this._currentSetFor.add(o),this._walkerStack=e}get doc(){return this._doc}firstChild(){let t=this.currentNode,e=this.nextNode();return pn(t,e)?(e&&(this.currentNode=e),e):(this.currentNode=t,null)}lastChild(){let e=this._walkerStack[0].lastChild();return e&&(this.currentNode=e),e}nextNode(){const t=this._walkerStack[0].nextNode();if(t){if(t.shadowRoot){var e;let r;if(typeof this.filter=="function"?r=this.filter(t):!((e=this.filter)===null||e===void 0)&&e.acceptNode&&(r=this.filter.acceptNode(t)),r===NodeFilter.FILTER_ACCEPT)return this.currentNode=t,t;let o=this.nextNode();return o&&(this.currentNode=o),o}return t&&(this.currentNode=t),t}else if(this._walkerStack.length>1){this._walkerStack.shift();let i=this.nextNode();return i&&(this.currentNode=i),i}else return null}previousNode(){const t=this._walkerStack[0];if(t.currentNode===t.root){if(this._currentSetFor.has(t))if(this._currentSetFor.delete(t),this._walkerStack.length>1){this._walkerStack.shift();let r=this.previousNode();return r&&(this.currentNode=r),r}else return null;return null}const e=t.previousNode();if(e){if(e.shadowRoot){var i;let o;if(typeof this.filter=="function"?o=this.filter(e):!((i=this.filter)===null||i===void 0)&&i.acceptNode&&(o=this.filter.acceptNode(e)),o===NodeFilter.FILTER_ACCEPT)return e&&(this.currentNode=e),e;let c=this.lastChild();return c&&(this.currentNode=c),c}return e&&(this.currentNode=e),e}else if(this._walkerStack.length>1){this._walkerStack.shift();let r=this.previousNode();return r&&(this.currentNode=r),r}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(t,e,i,r){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=c=>{if(c.nodeType===Node.ELEMENT_NODE){const h=c.shadowRoot;if(h){const f=this._doc.createTreeWalker(h,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(f),NodeFilter.FILTER_ACCEPT}else{var u;if(typeof this.filter=="function")return this.filter(c);if(!((u=this.filter)===null||u===void 0)&&u.acceptNode)return this.filter.acceptNode(c);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=t,this.root=e,this.filter=r??null,this.whatToShow=i??NodeFilter.SHOW_ALL,this._currentNode=e,this._walkerStack.unshift(t.createTreeWalker(e,i,this._acceptNode));const o=e.shadowRoot;if(o){const c=this._doc.createTreeWalker(o,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(c)}}}function oC(a,t,e,i){return Eu()?new rC(a,t,e,i):a.createTreeWalker(t,e,i)}function W0(a){var t,e,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=W0(a[t]))&&(i&&(i+=" "),i+=e)}else for(e in a)a[e]&&(i&&(i+=" "),i+=e);return i}function ou(){for(var a,t,e=0,i="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=W0(a))&&(i&&(i+=" "),i+=t);return i}function He(...a){let t={...a[0]};for(let e=1;e<a.length;e++){let i=a[e];for(let r in i){let o=t[r],c=i[r];typeof o=="function"&&typeof c=="function"&&r[0]==="o"&&r[1]==="n"&&r.charCodeAt(2)>=65&&r.charCodeAt(2)<=90?t[r]=yr(o,c):(r==="className"||r==="UNSAFE_className")&&typeof o=="string"&&typeof c=="string"?t[r]=ou(o,c):r==="id"&&o&&c?t.id=nC(o,c):t[r]=c!==void 0?c:o}}return t}const lC=new Set(["id"]),cC=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),uC=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),dC=new Set(["dir","lang","hidden","inert","translate"]),cy=new Set(["onClick","onAuxClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onGotPointerCapture","onLostPointerCapture","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionCancel","onTransitionEnd","onTransitionRun","onTransitionStart"]),hC=/^(data-.*)$/;function el(a,t={}){let{labelable:e,isLink:i,global:r,events:o=r,propNames:c}=t,u={};for(const h in a)Object.prototype.hasOwnProperty.call(a,h)&&(lC.has(h)||e&&cC.has(h)||i&&uC.has(h)||r&&dC.has(h)||o&&cy.has(h)||h.endsWith("Capture")&&cy.has(h.slice(0,-7))||c?.has(h)||hC.test(h))&&(u[h]=a[h]);return u}function wr(a){if(fC())a.focus({preventScroll:!0});else{let t=pC(a);a.focus(),gC(t)}}let kc=null;function fC(){if(kc==null){kc=!1;try{document.createElement("div").focus({get preventScroll(){return kc=!0,!0}})}catch{}}return kc}function pC(a){let t=a.parentNode,e=[],i=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==i;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&e.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return i instanceof HTMLElement&&e.push({element:i,scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),e}function gC(a){for(let{element:t,scrollTop:e,scrollLeft:i}of a)t.scrollTop=e,t.scrollLeft=i}function _u(a){var t;if(typeof window>"u"||window.navigator==null)return!1;let e=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(e)&&e.some(i=>a.test(i.brand))||a.test(window.navigator.userAgent)}function Sp(a){var t;return typeof window<"u"&&window.navigator!=null?a.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Es(a){let t=null;return()=>(t==null&&(t=a()),t)}const Xo=Es(function(){return Sp(/^Mac/i)}),mC=Es(function(){return Sp(/^iPhone/i)}),K0=Es(function(){return Sp(/^iPad/i)||Xo()&&navigator.maxTouchPoints>1}),Ep=Es(function(){return mC()||K0()}),bC=Es(function(){return _u(/AppleWebKit/i)&&!Q0()}),Q0=Es(function(){return _u(/Chrome/i)}),_p=Es(function(){return _u(/Android/i)}),vC=Es(function(){return _u(/Firefox/i)}),Z0=_.createContext({isNative:!0,open:wC,useHref:a=>a});function yC(a){let{children:t,navigate:e,useHref:i}=a,r=_.useMemo(()=>({isNative:!1,open:(o,c,u,h)=>{e1(o,f=>{t1(f,c)?e(u,h):aa(f,c)})},useHref:i||(o=>o)}),[e,i]);return Ft.createElement(Z0.Provider,{value:r},t)}function J0(){return _.useContext(Z0)}function t1(a,t){let e=a.getAttribute("target");return(!e||e==="_self")&&a.origin===location.origin&&!a.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function aa(a,t,e=!0){var i,r;let{metaKey:o,ctrlKey:c,altKey:u,shiftKey:h}=t;vC()&&(!((r=window.event)===null||r===void 0||(i=r.type)===null||i===void 0)&&i.startsWith("key"))&&a.target==="_blank"&&(Xo()?o=!0:c=!0);let f=bC()&&Xo()&&!K0()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:c,altKey:u,shiftKey:h}):new MouseEvent("click",{metaKey:o,ctrlKey:c,altKey:u,shiftKey:h,bubbles:!0,cancelable:!0});aa.isOpening=e,wr(a),a.dispatchEvent(f),aa.isOpening=!1}aa.isOpening=!1;function e1(a,t){if(a instanceof HTMLAnchorElement)t(a);else if(a.hasAttribute("data-href")){let e=document.createElement("a");e.href=a.getAttribute("data-href"),a.hasAttribute("data-target")&&(e.target=a.getAttribute("data-target")),a.hasAttribute("data-rel")&&(e.rel=a.getAttribute("data-rel")),a.hasAttribute("data-download")&&(e.download=a.getAttribute("data-download")),a.hasAttribute("data-ping")&&(e.ping=a.getAttribute("data-ping")),a.hasAttribute("data-referrer-policy")&&(e.referrerPolicy=a.getAttribute("data-referrer-policy")),a.appendChild(e),t(e),a.removeChild(e)}}function wC(a,t){e1(a,e=>aa(e,t))}function xC(a){let t=J0();var e;const i=t.useHref((e=a?.href)!==null&&e!==void 0?e:"");return{href:a?.href?i:void 0,target:a?.target,rel:a?.rel,download:a?.download,ping:a?.ping,referrerPolicy:a?.referrerPolicy}}let bs=new Map,Rf=new Set;function uy(){if(typeof window>"u")return;function a(i){return"propertyName"in i}let t=i=>{if(!a(i)||!i.target)return;let r=bs.get(i.target);r||(r=new Set,bs.set(i.target,r),i.target.addEventListener("transitioncancel",e,{once:!0})),r.add(i.propertyName)},e=i=>{if(!a(i)||!i.target)return;let r=bs.get(i.target);if(r&&(r.delete(i.propertyName),r.size===0&&(i.target.removeEventListener("transitioncancel",e),bs.delete(i.target)),bs.size===0)){for(let o of Rf)o();Rf.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",e)}typeof document<"u"&&(document.readyState!=="loading"?uy():document.addEventListener("DOMContentLoaded",uy));function AC(){for(const[a]of bs)"isConnected"in a&&!a.isConnected&&bs.delete(a)}function n1(a){requestAnimationFrame(()=>{AC(),bs.size===0?a():Rf.add(a)})}function Cp(){let a=_.useRef(new Map),t=_.useCallback((r,o,c,u)=>{let h=u?.once?(...f)=>{a.current.delete(c),c(...f)}:c;a.current.set(c,{type:o,eventTarget:r,fn:h,options:u}),r.addEventListener(o,h,u)},[]),e=_.useCallback((r,o,c,u)=>{var h;let f=((h=a.current.get(c))===null||h===void 0?void 0:h.fn)||c;r.removeEventListener(o,f,u),a.current.delete(c)},[]),i=_.useCallback(()=>{a.current.forEach((r,o)=>{e(r.eventTarget,r.type,o,r.options)})},[e]);return _.useEffect(()=>i,[i]),{addGlobalListener:t,removeGlobalListener:e,removeAllGlobalListeners:i}}function SC(a,t){let{id:e,"aria-label":i,"aria-labelledby":r}=a;return e=ru(e),r&&i?r=[...new Set([e,...r.trim().split(/\s+/)])].join(" "):r&&(r=r.trim().split(/\s+/).join(" ")),!i&&!r&&t&&(i=t),{id:e,"aria-label":i,"aria-labelledby":r}}function i1(a,t){De(()=>{if(a&&a.ref&&t)return a.ref.current=t.current,()=>{a.ref&&(a.ref.current=null)}})}function dy(a,t){if(!a)return!1;let e=window.getComputedStyle(a),i=/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY);return i&&t&&(i=a.scrollHeight!==a.clientHeight||a.scrollWidth!==a.clientWidth),i}function s1(a,t){let e=a;for(dy(e,t)&&(e=e.parentElement);e&&!dy(e,t);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function a1(a){return a.mozInputSource===0&&a.isTrusted?!0:_p()&&a.pointerType?a.type==="click"&&a.buttons===1:a.detail===0&&!a.pointerType}function EC(a){return!_p()&&a.width===0&&a.height===0||a.width===1&&a.height===1&&a.pressure===0&&a.detail===0&&a.pointerType==="mouse"}function r1(a,t,e){let i=mn(()=>{e&&e(t)});_.useEffect(()=>{var r;let o=a==null||(r=a.current)===null||r===void 0?void 0:r.form;return o?.addEventListener("reset",i),()=>{o?.removeEventListener("reset",i)}},[a,i])}const _C=typeof Element<"u"&&"checkVisibility"in Element.prototype;function CC(a){const t=Hn(a);if(!(a instanceof t.HTMLElement)&&!(a instanceof t.SVGElement))return!1;let{display:e,visibility:i}=a.style,r=e!=="none"&&i!=="hidden"&&i!=="collapse";if(r){const{getComputedStyle:o}=a.ownerDocument.defaultView;let{display:c,visibility:u}=o(a);r=c!=="none"&&u!=="hidden"&&u!=="collapse"}return r}function TC(a,t){return!a.hasAttribute("hidden")&&!a.hasAttribute("data-react-aria-prevent-focus")&&(a.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?a.hasAttribute("open"):!0)}function Tp(a,t){return _C?a.checkVisibility():a.nodeName!=="#comment"&&CC(a)&&TC(a,t)&&(!a.parentElement||Tp(a.parentElement,a))}const Mp=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])',"permission"],MC=Mp.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Mp.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const RC=Mp.join(':not([hidden]):not([tabindex="-1"]),');function o1(a){return a.matches(MC)&&Tp(a)&&!l1(a)}function NC(a){return a.matches(RC)&&Tp(a)&&!l1(a)}function l1(a){let t=a;for(;t!=null;){if(t instanceof t.ownerDocument.defaultView.HTMLElement&&t.inert)return!0;t=t.parentElement}return!1}function Cu(a,t,e){let[i,r]=_.useState(a||t),o=_.useRef(a!==void 0),c=a!==void 0;_.useEffect(()=>{o.current,o.current=c},[c]);let u=c?a:i,h=_.useCallback((f,...p)=>{let m=(v,...y)=>{e&&(Object.is(u,v)||e(v,...y)),c||(u=v)};typeof f=="function"?r((y,...w)=>{let x=f(c?u:y,...w);return m(x,...p),c?y:x}):(c||r(f),m(f,...p))},[c,u,e]);return[u,h]}const c1=_.createContext({});function Tu(a){const t=_.useRef(null);return t.current===null&&(t.current=a()),t.current}const u1=typeof window<"u",d1=u1?_.useLayoutEffect:_.useEffect,Mu=_.createContext(null),kC=(a,t,e)=>e>t?t:e<a?a:e,LC={};function DC(a){return typeof a=="object"&&a!==null}const h1=a=>t=>typeof t=="string"&&t.startsWith(a),PC=h1("--"),OC=h1("var(--"),Dk=a=>OC(a)?$C.test(a.split("/*")[0].trim()):!1,$C=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rp={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},Nf={...Rp,transform:a=>kC(0,1,a)},Lc={...Rp,default:1},nl=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),Xs=nl("deg"),of=nl("%"),St=nl("px"),Pk=nl("vh"),Ok=nl("vw"),hy={...of,parse:a=>of.parse(a)/100,transform:a=>of.transform(a*100)},Ru=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],f1=new Set(Ru),fy={...Rp,transform:Math.round},IC={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:Lc,scaleX:Lc,scaleY:Lc,scaleZ:Lc,skew:Xs,skewX:Xs,skewY:Xs,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:Nf,originX:hy,originY:hy,originZ:St},p1={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...IC,zIndex:fy,fillOpacity:Nf,strokeOpacity:Nf,numOctaves:fy},g1=(a,t)=>t&&typeof a=="number"?t.transform(a):a;function zC(a){return DC(a)&&"offsetHeight"in a}const ra=a=>!!(a&&a.getVelocity),Wo=_.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});class FC extends _.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,r=zC(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function BC({children:a,isPresent:t,anchorX:e,root:i}){const r=_.useId(),o=_.useRef(null),c=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=_.useContext(Wo);return _.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:m,right:v}=c.current;if(t||!o.current||!h||!f)return;const y=e==="left"?`left: ${m}`:`right: ${v}`;o.current.dataset.motionPopId=r;const w=document.createElement("style");u&&(w.nonce=u);const x=i??document.head;return x.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${y}px !important;
            top: ${p}px !important;
          }
        `),()=>{x.contains(w)&&x.removeChild(w)}},[t]),L.jsx(FC,{isPresent:t,childRef:o,sizeRef:c,children:_.cloneElement(a,{ref:o})})}const HC=({children:a,initial:t,isPresent:e,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:c,anchorX:u,root:h})=>{const f=Tu(jC),p=_.useId();let m=!0,v=_.useMemo(()=>(m=!1,{id:p,initial:t,isPresent:e,custom:r,onExitComplete:y=>{f.set(y,!0);for(const w of f.values())if(!w)return;i&&i()},register:y=>(f.set(y,!1),()=>f.delete(y))}),[e,f,i]);return o&&m&&(v={...v}),_.useMemo(()=>{f.forEach((y,w)=>f.set(w,!1))},[e]),_.useEffect(()=>{!e&&!f.size&&i&&i()},[e]),c==="popLayout"&&(a=L.jsx(BC,{isPresent:e,anchorX:u,root:h,children:a})),L.jsx(Mu.Provider,{value:v,children:a})};function jC(){return new Map}function UC(a=!0){const t=_.useContext(Mu);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:r}=t,o=_.useId();_.useEffect(()=>{if(a)return r(o)},[a]);const c=_.useCallback(()=>a&&i&&i(o),[o,i,a]);return!e&&i?[!1,c]:[!0]}const Dc=a=>a.key||"";function py(a){const t=[];return _.Children.forEach(a,e=>{_.isValidElement(e)&&t.push(e)}),t}const m1=({children:a,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:c=!1,anchorX:u="left",root:h})=>{const[f,p]=UC(c),m=_.useMemo(()=>py(a),[a]),v=c&&!f?[]:m.map(Dc),y=_.useRef(!0),w=_.useRef(m),x=Tu(()=>new Map),[E,S]=_.useState(m),[k,M]=_.useState(m);d1(()=>{y.current=!1,w.current=m;for(let z=0;z<k.length;z++){const B=Dc(k[z]);v.includes(B)?x.delete(B):x.get(B)!==!0&&x.set(B,!1)}},[k,v.length,v.join("-")]);const N=[];if(m!==E){let z=[...m];for(let B=0;B<k.length;B++){const U=k[B],Q=Dc(U);v.includes(Q)||(z.splice(B,0,U),N.push(U))}return o==="wait"&&N.length&&(z=N),M(py(z)),S(m),null}const{forceRender:D}=_.useContext(c1);return L.jsx(L.Fragment,{children:k.map(z=>{const B=Dc(z),U=c&&!f?!1:m===k||v.includes(B),Q=()=>{if(x.has(B))x.set(B,!0);else return;let it=!0;x.forEach(I=>{I||(it=!1)}),it&&(D?.(),M(w.current),c&&p?.(),i&&i())};return L.jsx(HC,{isPresent:U,initial:!y.current||e?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,root:h,onExitComplete:U?void 0:Q,anchorX:u,children:z},B)})})},Np=_.createContext({strict:!1}),gy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lu={};for(const a in gy)lu[a]={isEnabled:t=>gy[a].some(e=>!!t[e])};function kf(a){for(const t in a)lu[t]={...lu[t],...a[t]}}function kp({children:a,features:t,strict:e=!1}){const[,i]=_.useState(!lf(t)),r=_.useRef(void 0);if(!lf(t)){const{renderer:o,...c}=t;r.current=o,kf(c)}return _.useEffect(()=>{lf(t)&&t().then(({renderer:o,...c})=>{kf(c),r.current=o,i(!0)})},[]),L.jsx(Np.Provider,{value:{renderer:r.current,strict:e},children:a})}function lf(a){return typeof a=="function"}const VC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cu(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||VC.has(a)}let b1=a=>!cu(a);function v1(a){typeof a=="function"&&(b1=t=>t.startsWith("on")?!cu(t):a(t))}try{v1(require("@emotion/is-prop-valid").default)}catch{}function GC(a,t,e){const i={};for(const r in a)r==="values"&&typeof a.values=="object"||(b1(r)||e===!0&&cu(r)||!t&&!cu(r)||a.draggable&&r.startsWith("onDrag"))&&(i[r]=a[r]);return i}function qC({children:a,isValidProp:t,...e}){t&&v1(t),e={..._.useContext(Wo),...e},e.isStatic=Tu(()=>e.isStatic);const i=_.useMemo(()=>e,[JSON.stringify(e.transition),e.transformPagePoint,e.reducedMotion]);return L.jsx(Wo.Provider,{value:i,children:a})}const Nu=_.createContext({});function y1(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function Lf(a){return typeof a=="string"||Array.isArray(a)}const YC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],XC=["initial",...YC];function Lp(a){return y1(a.animate)||XC.some(t=>Lf(a[t]))}function WC(a){return!!(Lp(a)||a.variants)}function KC(a,t){if(Lp(a)){const{initial:e,animate:i}=a;return{initial:e===!1||Lf(e)?e:void 0,animate:Lf(i)?i:void 0}}return a.inherit!==!1?t:{}}function QC(a){const{initial:t,animate:e}=KC(a,_.useContext(Nu));return _.useMemo(()=>({initial:t,animate:e}),[my(t),my(e)])}function my(a){return Array.isArray(a)?a.join(" "):a}const ZC={};function w1(a,{layout:t,layoutId:e}){return f1.has(a)||a.startsWith("origin")||(t||e!==void 0)&&(!!ZC[a]||a==="opacity")}const JC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tT=Ru.length;function eT(a,t,e){let i="",r=!0;for(let o=0;o<tT;o++){const c=Ru[o],u=a[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||e){const f=g1(u,p1[c]);if(!h){r=!1;const p=JC[c]||c;i+=`${p}(${f}) `}e&&(t[c]=f)}}return i=i.trim(),e?i=e(t,r?"":i):r&&(i="none"),i}function x1(a,t,e){const{style:i,vars:r,transformOrigin:o}=a;let c=!1,u=!1;for(const h in t){const f=t[h];if(f1.has(h)){c=!0;continue}else if(PC(h)){r[h]=f;continue}else{const p=g1(f,p1[h]);h.startsWith("origin")?(u=!0,o[h]=p):i[h]=p}}if(t.transform||(c||e?i.transform=eT(t,a.transform,e):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=o;i.transformOrigin=`${h} ${f} ${p}`}}const Dp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function A1(a,t,e){for(const i in t)!ra(t[i])&&!w1(i,e)&&(a[i]=t[i])}function nT({transformTemplate:a},t){return _.useMemo(()=>{const e=Dp();return x1(e,t,a),Object.assign({},e.vars,e.style)},[t])}function iT(a,t){const e=a.style||{},i={};return A1(i,e,a),Object.assign(i,nT(a,t)),i}function sT(a,t){const e={},i=iT(a,t);return a.drag&&a.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=i,e}const aT={offset:"stroke-dashoffset",array:"stroke-dasharray"},rT={offset:"strokeDashoffset",array:"strokeDasharray"};function oT(a,t,e=1,i=0,r=!0){a.pathLength=1;const o=r?aT:rT;a[o.offset]=St.transform(-i);const c=St.transform(t),u=St.transform(e);a[o.array]=`${c} ${u}`}function lT(a,{attrX:t,attrY:e,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:c=0,...u},h,f,p){if(x1(a,u,f),h){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:m,style:v}=a;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=p?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),e!==void 0&&(m.y=e),i!==void 0&&(m.scale=i),r!==void 0&&oT(m,r,o,c,!1)}const S1=()=>({...Dp(),attrs:{}}),cT=a=>typeof a=="string"&&a.toLowerCase()==="svg";function uT(a,t,e,i){const r=_.useMemo(()=>{const o=S1();return lT(o,t,cT(i),a.transformTemplate,a.style),{...o.attrs,style:{...o.style}}},[t]);if(a.style){const o={};A1(o,a.style,a),r.style={...o,...r.style}}return r}const dT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E1(a){return typeof a!="string"||a.includes("-")?!1:!!(dT.indexOf(a)>-1||/[A-Z]/u.test(a))}function hT(a,t,e,{latestValues:i},r,o=!1){const u=(E1(a)?uT:sT)(t,i,r,a),h=GC(t,typeof a=="string",o),f=a!==_.Fragment?{...h,...u,ref:e}:{},{children:p}=t,m=_.useMemo(()=>ra(p)?p.get():p,[p]);return _.createElement(a,{...f,children:m})}function by(a){const t=[{},{}];return a?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function fT(a,t,e,i){if(typeof t=="function"){const[r,o]=by(i);t=t(e!==void 0?e:a.custom,r,o)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[r,o]=by(i);t=t(e!==void 0?e:a.custom,r,o)}return t}function pT(a){return ra(a)?a.get():a}function gT({scrapeMotionValuesFromProps:a,createRenderState:t},e,i,r){return{latestValues:mT(e,i,r,a),renderState:t()}}function mT(a,t,e,i){const r={},o=i(a,{});for(const v in o)r[v]=pT(o[v]);let{initial:c,animate:u}=a;const h=Lp(a),f=WC(a);t&&f&&!h&&a.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let p=e?e.initial===!1:!1;p=p||c===!1;const m=p?u:c;if(m&&typeof m!="boolean"&&!y1(m)){const v=Array.isArray(m)?m:[m];for(let y=0;y<v.length;y++){const w=fT(a,v[y]);if(w){const{transitionEnd:x,transition:E,...S}=w;for(const k in S){let M=S[k];if(Array.isArray(M)){const N=p?M.length-1:0;M=M[N]}M!==null&&(r[k]=M)}for(const k in x)r[k]=x[k]}}}return r}const _1=a=>(t,e)=>{const i=_.useContext(Nu),r=_.useContext(Mu),o=()=>gT(a,t,i,r);return e?o():Tu(o)};function C1(a,t,e){const{style:i}=a,r={};for(const o in i)(ra(i[o])||t.style&&ra(t.style[o])||w1(o,a)||e?.getValue(o)?.liveStyle!==void 0)&&(r[o]=i[o]);return r}const bT=_1({scrapeMotionValuesFromProps:C1,createRenderState:Dp});function vT(a,t,e){const i=C1(a,t,e);for(const r in a)if(ra(a[r])||ra(t[r])){const o=Ru.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=a[r]}return i}const yT=_1({scrapeMotionValuesFromProps:vT,createRenderState:S1}),wT=Symbol.for("motionComponentSymbol");function T1(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function xT(a,t,e){return _.useCallback(i=>{i&&a.onMount&&a.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):T1(e)&&(e.current=i))},[t])}const AT=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ST="framerAppearId",ET="data-"+AT(ST),_T=_.createContext({});function CT(a,t,e,i,r){const{visualElement:o}=_.useContext(Nu),c=_.useContext(Np),u=_.useContext(Mu),h=_.useContext(Wo).reducedMotion,f=_.useRef(null);i=i||c.renderer,!f.current&&i&&(f.current=i(a,{visualState:t,parent:o,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,m=_.useContext(_T);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&TT(f.current,e,r,m);const v=_.useRef(!1);_.useInsertionEffect(()=>{p&&v.current&&p.update(e,u)});const y=e[ET],w=_.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return d1(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),w.current&&p.animationState&&p.animationState.animateChanges())}),_.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),w.current=!1),p.enteringChildren=void 0)}),p}function TT(a,t,e,i){const{layoutId:r,layout:o,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=t;a.projection=new e(a.latestValues,t["data-framer-portal-id"]?void 0:M1(a.parent)),a.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!c||u&&T1(u),visualElement:a,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:f})}function M1(a){if(a)return a.options.allowProjection!==!1?a.projection:M1(a.parent)}function cf(a,{forwardMotionProps:t=!1}={},e,i){e&&kf(e);const r=E1(a)?yT:bT;function o(u,h){let f;const p={..._.useContext(Wo),...u,layoutId:MT(u)},{isStatic:m}=p,v=QC(u),y=r(u,m);if(!m&&u1){RT();const w=NT(p);f=w.MeasureLayout,v.visualElement=CT(a,y,p,i,w.ProjectionNode)}return L.jsxs(Nu.Provider,{value:v,children:[f&&v.visualElement?L.jsx(f,{visualElement:v.visualElement,...p}):null,hT(a,u,xT(y,v.visualElement,h),y,m,t)]})}o.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=_.forwardRef(o);return c[wT]=a,c}function MT({layoutId:a}){const t=_.useContext(c1).id;return t&&a!==void 0?t+"-"+a:a}function RT(a,t){_.useContext(Np).strict}function NT(a){const{drag:t,layout:e}=lu;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t?.isEnabled(a)||e?.isEnabled(a)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function kT(a,t){if(typeof Proxy>"u")return cf;const e=new Map,i=(o,c)=>cf(o,c,a,t),r=(o,c)=>i(o,c);return new Proxy(r,{get:(o,c)=>c==="create"?i:(e.has(c)||e.set(c,cf(c,void 0,a,t)),e.get(c))})}const Pp=kT();function Op(a){let t=a;return t.nativeEvent=a,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function R1(a,t){Object.defineProperty(a,"target",{value:t}),Object.defineProperty(a,"currentTarget",{value:t})}function N1(a){let t=_.useRef({isFocused:!1,observer:null});De(()=>{const i=t.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let e=mn(i=>{a?.(i)});return _.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=i.target,o=c=>{if(t.current.isFocused=!1,r.disabled){let u=Op(c);e(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let u=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[e])}let uu=!1;function LT(a){for(;a&&!o1(a);)a=a.parentElement;let t=Hn(a),e=t.document.activeElement;if(!e||e===a)return;uu=!0;let i=!1,r=p=>{(p.target===e||i)&&p.stopImmediatePropagation()},o=p=>{(p.target===e||i)&&(p.stopImmediatePropagation(),!a&&!i&&(i=!0,wr(e),h()))},c=p=>{(p.target===a||i)&&p.stopImmediatePropagation()},u=p=>{(p.target===a||i)&&(p.stopImmediatePropagation(),i||(i=!0,wr(e),h()))};t.addEventListener("blur",r,!0),t.addEventListener("focusout",o,!0),t.addEventListener("focusin",u,!0),t.addEventListener("focus",c,!0);let h=()=>{cancelAnimationFrame(f),t.removeEventListener("blur",r,!0),t.removeEventListener("focusout",o,!0),t.removeEventListener("focusin",u,!0),t.removeEventListener("focus",c,!0),uu=!1,i=!1},f=requestAnimationFrame(h);return h}let lr="default",Df="",Zc=new WeakMap;function DT(a){if(Ep()){if(lr==="default"){const t=Kt(a);Df=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}lr="disabled"}else if(a instanceof HTMLElement||a instanceof SVGElement){let t="userSelect"in a.style?"userSelect":"webkitUserSelect";Zc.set(a,a.style[t]),a.style[t]="none"}}function vy(a){if(Ep()){if(lr!=="disabled")return;lr="restoring",setTimeout(()=>{n1(()=>{if(lr==="restoring"){const t=Kt(a);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=Df||""),Df="",lr="default"}})},300)}else if((a instanceof HTMLElement||a instanceof SVGElement)&&a&&Zc.has(a)){let t=Zc.get(a),e="userSelect"in a.style?"userSelect":"webkitUserSelect";a.style[e]==="none"&&(a.style[e]=t),a.getAttribute("style")===""&&a.removeAttribute("style"),Zc.delete(a)}}const $p=Ft.createContext({register:()=>{}});$p.displayName="PressResponderContext";function PT(a,t){return t.get?t.get.call(a):t.value}function k1(a,t,e){if(!t.has(a))throw new TypeError("attempted to "+e+" private field on non-instance");return t.get(a)}function OT(a,t){var e=k1(a,t,"get");return PT(a,e)}function $T(a,t,e){if(t.set)t.set.call(a,e);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=e}}function yy(a,t,e){var i=k1(a,t,"set");return $T(a,i,e),e}function IT(a){let t=_.useContext($p);if(t){let{register:e,...i}=t;a=He(i,a),e()}return i1(t,a.ref),a}var Pc=new WeakMap;class Oc{continuePropagation(){yy(this,Pc,!1)}get shouldStopPropagation(){return OT(this,Pc)}constructor(t,e,i,r){Z_(this,Pc,{writable:!0,value:void 0}),yy(this,Pc,!0);var o;let c=(o=r?.target)!==null&&o!==void 0?o:i.currentTarget;const u=c?.getBoundingClientRect();let h,f=0,p,m=null;i.clientX!=null&&i.clientY!=null&&(p=i.clientX,m=i.clientY),u&&(p!=null&&m!=null?(h=p-u.left,f=m-u.top):(h=u.width/2,f=u.height/2)),this.type=t,this.pointerType=e,this.target=i.currentTarget,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.x=h,this.y=f}}const wy=Symbol("linkClicked"),xy="react-aria-pressable-style",Ay="data-react-aria-pressable";function xr(a){let{onPress:t,onPressChange:e,onPressStart:i,onPressEnd:r,onPressUp:o,onClick:c,isDisabled:u,isPressed:h,preventFocusOnPress:f,shouldCancelOnPointerExit:p,allowTextSelectionOnPress:m,ref:v,...y}=IT(a),[w,x]=_.useState(!1),E=_.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:S,removeAllGlobalListeners:k}=Cp(),M=mn((I,j)=>{let Z=E.current;if(u||Z.didFirePressStart)return!1;let $=!0;if(Z.isTriggeringEvent=!0,i){let J=new Oc("pressstart",j,I);i(J),$=J.shouldStopPropagation}return e&&e(!0),Z.isTriggeringEvent=!1,Z.didFirePressStart=!0,x(!0),$}),N=mn((I,j,Z=!0)=>{let $=E.current;if(!$.didFirePressStart)return!1;$.didFirePressStart=!1,$.isTriggeringEvent=!0;let J=!0;if(r){let T=new Oc("pressend",j,I);r(T),J=T.shouldStopPropagation}if(e&&e(!1),x(!1),t&&Z&&!u){let T=new Oc("press",j,I);t(T),J&&(J=T.shouldStopPropagation)}return $.isTriggeringEvent=!1,J}),D=mn((I,j)=>{let Z=E.current;if(u)return!1;if(o){Z.isTriggeringEvent=!0;let $=new Oc("pressup",j,I);return o($),Z.isTriggeringEvent=!1,$.shouldStopPropagation}return!0}),z=mn(I=>{let j=E.current;if(j.isPressed&&j.target){j.didFirePressStart&&j.pointerType!=null&&N(Ws(j.target,I),j.pointerType,!1),j.isPressed=!1,j.isOverTarget=!1,j.activePointerId=null,j.pointerType=null,k(),m||vy(j.target);for(let Z of j.disposables)Z();j.disposables=[]}}),B=mn(I=>{p&&z(I)}),U=mn(I=>{c?.(I)}),Q=mn((I,j)=>{if(c){let Z=new MouseEvent("click",I);R1(Z,j),c(Op(Z))}}),it=_.useMemo(()=>{let I=E.current,j={onKeyDown($){if(uf($.nativeEvent,$.currentTarget)&&pn($.currentTarget,de($.nativeEvent))){var J;Sy(de($.nativeEvent),$.key)&&$.preventDefault();let T=!0;if(!I.isPressed&&!$.repeat){I.target=$.currentTarget,I.isPressed=!0,I.pointerType="keyboard",T=M($,"keyboard");let P=$.currentTarget,H=rt=>{uf(rt,P)&&!rt.repeat&&pn(P,de(rt))&&I.target&&D(Ws(I.target,rt),"keyboard")};S(Kt($.currentTarget),"keyup",yr(H,Z),!0)}T&&$.stopPropagation(),$.metaKey&&Xo()&&((J=I.metaKeyEvents)===null||J===void 0||J.set($.key,$.nativeEvent))}else $.key==="Meta"&&(I.metaKeyEvents=new Map)},onClick($){if(!($&&!pn($.currentTarget,de($.nativeEvent)))&&$&&$.button===0&&!I.isTriggeringEvent&&!aa.isOpening){let J=!0;if(u&&$.preventDefault(),!I.ignoreEmulatedMouseEvents&&!I.isPressed&&(I.pointerType==="virtual"||a1($.nativeEvent))){let T=M($,"virtual"),P=D($,"virtual"),H=N($,"virtual");U($),J=T&&P&&H}else if(I.isPressed&&I.pointerType!=="keyboard"){let T=I.pointerType||$.nativeEvent.pointerType||"virtual",P=D(Ws($.currentTarget,$),T),H=N(Ws($.currentTarget,$),T,!0);J=P&&H,I.isOverTarget=!1,U($),z($)}I.ignoreEmulatedMouseEvents=!1,J&&$.stopPropagation()}}},Z=$=>{var J;if(I.isPressed&&I.target&&uf($,I.target)){var T;Sy(de($),$.key)&&$.preventDefault();let H=de($),rt=pn(I.target,de($));N(Ws(I.target,$),"keyboard",rt),rt&&Q($,I.target),k(),$.key!=="Enter"&&Ip(I.target)&&pn(I.target,H)&&!$[wy]&&($[wy]=!0,aa(I.target,$,!1)),I.isPressed=!1,(T=I.metaKeyEvents)===null||T===void 0||T.delete($.key)}else if($.key==="Meta"&&(!((J=I.metaKeyEvents)===null||J===void 0)&&J.size)){var P;let H=I.metaKeyEvents;I.metaKeyEvents=void 0;for(let rt of H.values())(P=I.target)===null||P===void 0||P.dispatchEvent(new KeyboardEvent("keyup",rt))}};if(typeof PointerEvent<"u"){j.onPointerDown=T=>{if(T.button!==0||!pn(T.currentTarget,de(T.nativeEvent)))return;if(EC(T.nativeEvent)){I.pointerType="virtual";return}I.pointerType=T.pointerType;let P=!0;if(!I.isPressed){I.isPressed=!0,I.isOverTarget=!0,I.activePointerId=T.pointerId,I.target=T.currentTarget,m||DT(I.target),P=M(T,I.pointerType);let H=de(T.nativeEvent);"releasePointerCapture"in H&&H.releasePointerCapture(T.pointerId),S(Kt(T.currentTarget),"pointerup",$,!1),S(Kt(T.currentTarget),"pointercancel",J,!1)}P&&T.stopPropagation()},j.onMouseDown=T=>{if(pn(T.currentTarget,de(T.nativeEvent))&&T.button===0){if(f){let P=LT(T.target);P&&I.disposables.push(P)}T.stopPropagation()}},j.onPointerUp=T=>{!pn(T.currentTarget,de(T.nativeEvent))||I.pointerType==="virtual"||T.button===0&&!I.isPressed&&D(T,I.pointerType||T.pointerType)},j.onPointerEnter=T=>{T.pointerId===I.activePointerId&&I.target&&!I.isOverTarget&&I.pointerType!=null&&(I.isOverTarget=!0,M(Ws(I.target,T),I.pointerType))},j.onPointerLeave=T=>{T.pointerId===I.activePointerId&&I.target&&I.isOverTarget&&I.pointerType!=null&&(I.isOverTarget=!1,N(Ws(I.target,T),I.pointerType,!1),B(T))};let $=T=>{if(T.pointerId===I.activePointerId&&I.isPressed&&T.button===0&&I.target){if(pn(I.target,de(T))&&I.pointerType!=null){let P=!1,H=setTimeout(()=>{I.isPressed&&I.target instanceof HTMLElement&&(P?z(T):(wr(I.target),I.target.click()))},80);S(T.currentTarget,"click",()=>P=!0,!0),I.disposables.push(()=>clearTimeout(H))}else z(T);I.isOverTarget=!1}},J=T=>{z(T)};j.onDragStart=T=>{pn(T.currentTarget,de(T.nativeEvent))&&z(T)}}return j},[S,u,f,k,m,z,B,N,M,D,U,Q]);return _.useEffect(()=>{if(!v)return;const I=Kt(v.current);if(!I||!I.head||I.getElementById(xy))return;const j=I.createElement("style");j.id=xy,j.textContent=`
@layer {
  [${Ay}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),I.head.prepend(j)},[v]),_.useEffect(()=>{let I=E.current;return()=>{var j;m||vy((j=I.target)!==null&&j!==void 0?j:void 0);for(let Z of I.disposables)Z();I.disposables=[]}},[m]),{isPressed:h||w,pressProps:He(y,it,{[Ay]:!0})}}function Ip(a){return a.tagName==="A"&&a.hasAttribute("href")}function uf(a,t){const{key:e,code:i}=a,r=t,o=r.getAttribute("role");return(e==="Enter"||e===" "||e==="Spacebar"||i==="Space")&&!(r instanceof Hn(r).HTMLInputElement&&!L1(r,e)||r instanceof Hn(r).HTMLTextAreaElement||r.isContentEditable)&&!((o==="link"||!o&&Ip(r))&&e!=="Enter")}function Ws(a,t){let e=t.clientX,i=t.clientY;return{currentTarget:a,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:e,clientY:i}}function zT(a){return a instanceof HTMLInputElement?!1:a instanceof HTMLButtonElement?a.type!=="submit"&&a.type!=="reset":!Ip(a)}function Sy(a,t){return a instanceof HTMLInputElement?!L1(a,t):zT(a)}const FT=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function L1(a,t){return a.type==="checkbox"||a.type==="radio"?t===" ":FT.has(a.type)}let fa=null,Pf=new Set,Go=new Map,oa=!1,Of=!1;const BT={Tab:!0,Escape:!0};function ku(a,t){for(let e of Pf)e(a,t)}function HT(a){return!(a.metaKey||!Xo()&&a.altKey||a.ctrlKey||a.key==="Control"||a.key==="Shift"||a.key==="Meta")}function du(a){oa=!0,HT(a)&&(fa="keyboard",ku("keyboard",a))}function fr(a){fa="pointer",(a.type==="mousedown"||a.type==="pointerdown")&&(oa=!0,ku("pointer",a))}function D1(a){a1(a)&&(oa=!0,fa="virtual")}function P1(a){a.target===window||a.target===document||uu||!a.isTrusted||(!oa&&!Of&&(fa="virtual",ku("virtual",a)),oa=!1,Of=!1)}function O1(){uu||(oa=!1,Of=!0)}function $f(a){if(typeof window>"u"||typeof document>"u"||Go.get(Hn(a)))return;const t=Hn(a),e=Kt(a);let i=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){oa=!0,i.apply(this,arguments)},e.addEventListener("keydown",du,!0),e.addEventListener("keyup",du,!0),e.addEventListener("click",D1,!0),t.addEventListener("focus",P1,!0),t.addEventListener("blur",O1,!1),typeof PointerEvent<"u"&&(e.addEventListener("pointerdown",fr,!0),e.addEventListener("pointermove",fr,!0),e.addEventListener("pointerup",fr,!0)),t.addEventListener("beforeunload",()=>{$1(a)},{once:!0}),Go.set(t,{focus:i})}const $1=(a,t)=>{const e=Hn(a),i=Kt(a);t&&i.removeEventListener("DOMContentLoaded",t),Go.has(e)&&(e.HTMLElement.prototype.focus=Go.get(e).focus,i.removeEventListener("keydown",du,!0),i.removeEventListener("keyup",du,!0),i.removeEventListener("click",D1,!0),e.removeEventListener("focus",P1,!0),e.removeEventListener("blur",O1,!1),typeof PointerEvent<"u"&&(i.removeEventListener("pointerdown",fr,!0),i.removeEventListener("pointermove",fr,!0),i.removeEventListener("pointerup",fr,!0)),Go.delete(e))};function jT(a){const t=Kt(a);let e;return t.readyState!=="loading"?$f(a):(e=()=>{$f(a)},t.addEventListener("DOMContentLoaded",e)),()=>$1(a,e)}typeof document<"u"&&jT();function I1(){return fa!=="pointer"}function z1(){return fa}function UT(a){fa=a,ku(a,null)}const VT=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function GT(a,t,e){let i=Kt(e?.target);const r=typeof window<"u"?Hn(e?.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Hn(e?.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?Hn(e?.target).HTMLElement:HTMLElement,u=typeof window<"u"?Hn(e?.target).KeyboardEvent:KeyboardEvent;return a=a||i.activeElement instanceof r&&!VT.has(i.activeElement.type)||i.activeElement instanceof o||i.activeElement instanceof c&&i.activeElement.isContentEditable,!(a&&t==="keyboard"&&e instanceof u&&!BT[e.key])}function qT(a,t,e){$f(),_.useEffect(()=>{let i=(r,o)=>{GT(!!e?.isTextInput,r,o)&&a(I1())};return Pf.add(i),()=>{Pf.delete(i)}},t)}function F1(a){const t=Kt(a),e=bn(t);if(z1()==="virtual"){let i=e;n1(()=>{bn(t)===i&&a.isConnected&&wr(a)})}else wr(a)}function B1(a){let{isDisabled:t,onFocus:e,onBlur:i,onFocusChange:r}=a;const o=_.useCallback(h=>{if(h.target===h.currentTarget)return i&&i(h),r&&r(!1),!0},[i,r]),c=N1(o),u=_.useCallback(h=>{const f=Kt(h.target),p=f?bn(f):bn();h.target===h.currentTarget&&p===de(h.nativeEvent)&&(e&&e(h),r&&r(!0),c(h))},[r,e,c]);return{focusProps:{onFocus:!t&&(e||r||i)?u:void 0,onBlur:!t&&(i||r)?o:void 0}}}function Ey(a){if(!a)return;let t=!0;return e=>{let i={...e,preventDefault(){e.preventDefault()},isDefaultPrevented(){return e.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};a(i),t&&e.stopPropagation()}}function YT(a){return{keyboardProps:a.isDisabled?{}:{onKeyDown:Ey(a.onKeyDown),onKeyUp:Ey(a.onKeyUp)}}}let XT=Ft.createContext(null);function WT(a){let t=_.useContext(XT)||{};i1(t,a);let{ref:e,...i}=t;return i}function il(a,t){let{focusProps:e}=B1(a),{keyboardProps:i}=YT(a),r=He(e,i),o=WT(t),c=a.isDisabled?{}:o,u=_.useRef(a.autoFocus);_.useEffect(()=>{u.current&&t.current&&F1(t.current),u.current=!1},[t]);let h=a.excludeFromTabOrder?-1:0;return a.isDisabled&&(h=void 0),{focusableProps:He({...r,tabIndex:h},c)}}function KT({children:a}){let t=_.useMemo(()=>({register:()=>{}}),[]);return Ft.createElement($p.Provider,{value:t},a)}function zp(a){let{isDisabled:t,onBlurWithin:e,onFocusWithin:i,onFocusWithinChange:r}=a,o=_.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:u}=Cp(),h=_.useCallback(m=>{m.currentTarget.contains(m.target)&&o.current.isFocusWithin&&!m.currentTarget.contains(m.relatedTarget)&&(o.current.isFocusWithin=!1,u(),e&&e(m),r&&r(!1))},[e,r,o,u]),f=N1(h),p=_.useCallback(m=>{if(!m.currentTarget.contains(m.target))return;const v=Kt(m.target),y=bn(v);if(!o.current.isFocusWithin&&y===de(m.nativeEvent)){i&&i(m),r&&r(!0),o.current.isFocusWithin=!0,f(m);let w=m.currentTarget;c(v,"focus",x=>{if(o.current.isFocusWithin&&!pn(w,x.target)){let E=new v.defaultView.FocusEvent("blur",{relatedTarget:x.target});R1(E,w);let S=Op(E);h(S)}},{capture:!0})}},[i,r,f,c,h]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:p,onBlur:h}}}let If=!1,$c=0;function QT(){If=!0,setTimeout(()=>{If=!1},50)}function _y(a){a.pointerType==="touch"&&QT()}function ZT(){if(!(typeof document>"u"))return $c===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",_y),$c++,()=>{$c--,!($c>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",_y)}}function Ar(a){let{onHoverStart:t,onHoverChange:e,onHoverEnd:i,isDisabled:r}=a,[o,c]=_.useState(!1),u=_.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;_.useEffect(ZT,[]);let{addGlobalListener:h,removeAllGlobalListeners:f}=Cp(),{hoverProps:p,triggerHoverEnd:m}=_.useMemo(()=>{let v=(x,E)=>{if(u.pointerType=E,r||E==="touch"||u.isHovered||!x.currentTarget.contains(x.target))return;u.isHovered=!0;let S=x.currentTarget;u.target=S,h(Kt(x.target),"pointerover",k=>{u.isHovered&&u.target&&!pn(u.target,k.target)&&y(k,k.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:S,pointerType:E}),e&&e(!0),c(!0)},y=(x,E)=>{let S=u.target;u.pointerType="",u.target=null,!(E==="touch"||!u.isHovered||!S)&&(u.isHovered=!1,f(),i&&i({type:"hoverend",target:S,pointerType:E}),e&&e(!1),c(!1))},w={};return typeof PointerEvent<"u"&&(w.onPointerEnter=x=>{If&&x.pointerType==="mouse"||v(x,x.pointerType)},w.onPointerLeave=x=>{!r&&x.currentTarget.contains(x.target)&&y(x,x.pointerType)}),{hoverProps:w,triggerHoverEnd:y}},[t,e,i,r,u,h,f]);return _.useEffect(()=>{r&&m({currentTarget:u.target},u.pointerType)},[r]),{hoverProps:p,isHovered:o}}const Cy=Ft.createContext(null),zf="react-aria-focus-scope-restore";let Zt=null;function JT(a){let{children:t,contain:e,restoreFocus:i,autoFocus:r}=a,o=_.useRef(null),c=_.useRef(null),u=_.useRef([]),{parentNode:h}=_.useContext(Cy)||{},f=_.useMemo(()=>new Bf({scopeRef:u}),[u]);De(()=>{let v=h||we.root;if(we.getTreeNode(v.scopeRef)&&Zt&&!hu(Zt,v.scopeRef)){let y=we.getTreeNode(Zt);y&&(v=y)}v.addChild(f),we.addNode(f)},[f,h]),De(()=>{let v=we.getTreeNode(u);v&&(v.contain=!!e)},[e]),De(()=>{var v;let y=(v=o.current)===null||v===void 0?void 0:v.nextSibling,w=[],x=E=>E.stopPropagation();for(;y&&y!==c.current;)w.push(y),y.addEventListener(zf,x),y=y.nextSibling;return u.current=w,()=>{for(let E of w)E.removeEventListener(zf,x)}},[t]),s2(u,i,e),n2(u,e),a2(u,i,e),i2(u,r),_.useEffect(()=>{const v=bn(Kt(u.current?u.current[0]:void 0));let y=null;if(jn(v,u.current)){for(let w of we.traverse())w.scopeRef&&jn(v,w.scopeRef.current)&&(y=w);y===we.getTreeNode(u)&&(Zt=y.scopeRef)}},[u]),De(()=>()=>{var v,y,w;let x=(w=(y=we.getTreeNode(u))===null||y===void 0||(v=y.parent)===null||v===void 0?void 0:v.scopeRef)!==null&&w!==void 0?w:null;(u===Zt||hu(u,Zt))&&(!x||we.getTreeNode(x))&&(Zt=x),we.removeTreeNode(u)},[u]);let p=_.useMemo(()=>t2(u),[]),m=_.useMemo(()=>({focusManager:p,parentNode:f}),[f,p]);return Ft.createElement(Cy.Provider,{value:m},Ft.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:o}),t,Ft.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:c}))}function t2(a){return{focusNext(t={}){let e=a.current,{from:i,tabbable:r,wrap:o,accept:c}=t;var u;let h=i||bn(Kt((u=e[0])!==null&&u!==void 0?u:void 0)),f=e[0].previousElementSibling,p=Zs(e),m=ws(p,{tabbable:r,accept:c},e);m.currentNode=jn(h,e)?h:f;let v=m.nextNode();return!v&&o&&(m.currentNode=f,v=m.nextNode()),v&&Hi(v,!0),v},focusPrevious(t={}){let e=a.current,{from:i,tabbable:r,wrap:o,accept:c}=t;var u;let h=i||bn(Kt((u=e[0])!==null&&u!==void 0?u:void 0)),f=e[e.length-1].nextElementSibling,p=Zs(e),m=ws(p,{tabbable:r,accept:c},e);m.currentNode=jn(h,e)?h:f;let v=m.previousNode();return!v&&o&&(m.currentNode=f,v=m.previousNode()),v&&Hi(v,!0),v},focusFirst(t={}){let e=a.current,{tabbable:i,accept:r}=t,o=Zs(e),c=ws(o,{tabbable:i,accept:r},e);c.currentNode=e[0].previousElementSibling;let u=c.nextNode();return u&&Hi(u,!0),u},focusLast(t={}){let e=a.current,{tabbable:i,accept:r}=t,o=Zs(e),c=ws(o,{tabbable:i,accept:r},e);c.currentNode=e[e.length-1].nextElementSibling;let u=c.previousNode();return u&&Hi(u,!0),u}}}function Zs(a){return a[0].parentElement}function zo(a){let t=we.getTreeNode(Zt);for(;t&&t.scopeRef!==a;){if(t.contain)return!1;t=t.parent}return!0}function e2(a){if(a.checked)return!0;let t=[];if(!a.form)t=[...Kt(a).querySelectorAll(`input[type="radio"][name="${CSS.escape(a.name)}"]`)].filter(o=>!o.form);else{var e,i;let o=(i=a.form)===null||i===void 0||(e=i.elements)===null||e===void 0?void 0:e.namedItem(a.name);t=[...o??[]]}return t?!t.some(o=>o.checked):!1}function n2(a,t){let e=_.useRef(void 0),i=_.useRef(void 0);De(()=>{let r=a.current;if(!t){i.current&&(cancelAnimationFrame(i.current),i.current=void 0);return}const o=Kt(r?r[0]:void 0);let c=f=>{if(f.key!=="Tab"||f.altKey||f.ctrlKey||f.metaKey||!zo(a)||f.isComposing)return;let p=bn(o),m=a.current;if(!m||!jn(p,m))return;let v=Zs(m),y=ws(v,{tabbable:!0},m);if(!p)return;y.currentNode=p;let w=f.shiftKey?y.previousNode():y.nextNode();w||(y.currentNode=f.shiftKey?m[m.length-1].nextElementSibling:m[0].previousElementSibling,w=f.shiftKey?y.previousNode():y.nextNode()),f.preventDefault(),w&&Hi(w,!0)},u=f=>{(!Zt||hu(Zt,a))&&jn(de(f),a.current)?(Zt=a,e.current=de(f)):zo(a)&&!Js(de(f),a)?e.current?e.current.focus():Zt&&Zt.current&&Ff(Zt.current):zo(a)&&(e.current=de(f))},h=f=>{i.current&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{let p=z1(),m=(p==="virtual"||p===null)&&_p()&&Q0(),v=bn(o);if(!m&&v&&zo(a)&&!Js(v,a)){Zt=a;let w=de(f);if(w&&w.isConnected){var y;e.current=w,(y=e.current)===null||y===void 0||y.focus()}else Zt.current&&Ff(Zt.current)}})};return o.addEventListener("keydown",c,!1),o.addEventListener("focusin",u,!1),r?.forEach(f=>f.addEventListener("focusin",u,!1)),r?.forEach(f=>f.addEventListener("focusout",h,!1)),()=>{o.removeEventListener("keydown",c,!1),o.removeEventListener("focusin",u,!1),r?.forEach(f=>f.removeEventListener("focusin",u,!1)),r?.forEach(f=>f.removeEventListener("focusout",h,!1))}},[a,t]),De(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[i])}function H1(a){return Js(a)}function jn(a,t){return!a||!t?!1:t.some(e=>e.contains(a))}function Js(a,t=null){if(a instanceof Element&&a.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:e}of we.traverse(we.getTreeNode(t)))if(e&&jn(a,e.current))return!0;return!1}function hu(a,t){var e;let i=(e=we.getTreeNode(t))===null||e===void 0?void 0:e.parent;for(;i;){if(i.scopeRef===a)return!0;i=i.parent}return!1}function Hi(a,t=!1){if(a!=null&&!t)try{F1(a)}catch{}else if(a!=null)try{a.focus()}catch{}}function j1(a,t=!0){let e=a[0].previousElementSibling,i=Zs(a),r=ws(i,{tabbable:t},a);r.currentNode=e;let o=r.nextNode();return t&&!o&&(i=Zs(a),r=ws(i,{tabbable:!1},a),r.currentNode=e,o=r.nextNode()),o}function Ff(a,t=!0){Hi(j1(a,t))}function i2(a,t){const e=Ft.useRef(t);_.useEffect(()=>{if(e.current){Zt=a;const i=Kt(a.current?a.current[0]:void 0);!jn(bn(i),Zt.current)&&a.current&&Ff(a.current)}e.current=!1},[a])}function s2(a,t,e){De(()=>{if(t||e)return;let i=a.current;const r=Kt(i?i[0]:void 0);let o=c=>{let u=de(c);jn(u,a.current)?Zt=a:H1(u)||(Zt=null)};return r.addEventListener("focusin",o,!1),i?.forEach(c=>c.addEventListener("focusin",o,!1)),()=>{r.removeEventListener("focusin",o,!1),i?.forEach(c=>c.removeEventListener("focusin",o,!1))}},[a,t,e])}function Ty(a){let t=we.getTreeNode(Zt);for(;t&&t.scopeRef!==a;){if(t.nodeToRestore)return!1;t=t.parent}return t?.scopeRef===a}function a2(a,t,e){const i=_.useRef(typeof document<"u"?bn(Kt(a.current?a.current[0]:void 0)):null);De(()=>{let r=a.current;const o=Kt(r?r[0]:void 0);if(!t||e)return;let c=()=>{(!Zt||hu(Zt,a))&&jn(bn(o),a.current)&&(Zt=a)};return o.addEventListener("focusin",c,!1),r?.forEach(u=>u.addEventListener("focusin",c,!1)),()=>{o.removeEventListener("focusin",c,!1),r?.forEach(u=>u.removeEventListener("focusin",c,!1))}},[a,e]),De(()=>{const r=Kt(a.current?a.current[0]:void 0);if(!t)return;let o=c=>{if(c.key!=="Tab"||c.altKey||c.ctrlKey||c.metaKey||!zo(a)||c.isComposing)return;let u=r.activeElement;if(!Js(u,a)||!Ty(a))return;let h=we.getTreeNode(a);if(!h)return;let f=h.nodeToRestore,p=ws(r.body,{tabbable:!0});p.currentNode=u;let m=c.shiftKey?p.previousNode():p.nextNode();if((!f||!f.isConnected||f===r.body)&&(f=void 0,h.nodeToRestore=void 0),(!m||!Js(m,a))&&f){p.currentNode=f;do m=c.shiftKey?p.previousNode():p.nextNode();while(Js(m,a));c.preventDefault(),c.stopPropagation(),m?Hi(m,!0):H1(f)?Hi(f,!0):u.blur()}};return e||r.addEventListener("keydown",o,!0),()=>{e||r.removeEventListener("keydown",o,!0)}},[a,t,e]),De(()=>{const r=Kt(a.current?a.current[0]:void 0);if(!t)return;let o=we.getTreeNode(a);if(o){var c;return o.nodeToRestore=(c=i.current)!==null&&c!==void 0?c:void 0,()=>{let u=we.getTreeNode(a);if(!u)return;let h=u.nodeToRestore,f=bn(r);if(t&&h&&(f&&Js(f,a)||f===r.body&&Ty(a))){let p=we.clone();requestAnimationFrame(()=>{if(r.activeElement===r.body){let m=p.getTreeNode(a);for(;m;){if(m.nodeToRestore&&m.nodeToRestore.isConnected){My(m.nodeToRestore);return}m=m.parent}for(m=p.getTreeNode(a);m;){if(m.scopeRef&&m.scopeRef.current&&we.getTreeNode(m.scopeRef)){let v=j1(m.scopeRef.current,!0);My(v);return}m=m.parent}}})}}}},[a,t])}function My(a){a.dispatchEvent(new CustomEvent(zf,{bubbles:!0,cancelable:!0}))&&Hi(a)}function ws(a,t,e){let i=t?.tabbable?NC:o1,r=a?.nodeType===Node.ELEMENT_NODE?a:null,o=Kt(r),c=oC(o,a||o,NodeFilter.SHOW_ELEMENT,{acceptNode(u){var h;return!(t==null||(h=t.from)===null||h===void 0)&&h.contains(u)||t?.tabbable&&u.tagName==="INPUT"&&u.getAttribute("type")==="radio"&&(!e2(u)||c.currentNode.tagName==="INPUT"&&c.currentNode.type==="radio"&&c.currentNode.name===u.name)?NodeFilter.FILTER_REJECT:i(u)&&(!e||jn(u,e))&&(!t?.accept||t.accept(u))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t?.from&&(c.currentNode=t.from),c}class Fp{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,e,i){let r=this.fastMap.get(e??null);if(!r)return;let o=new Bf({scopeRef:t});r.addChild(o),o.parent=r,this.fastMap.set(t,o),i&&(o.nodeToRestore=i)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let e=this.fastMap.get(t);if(!e)return;let i=e.parent;for(let o of this.traverse())o!==e&&e.nodeToRestore&&o.nodeToRestore&&e.scopeRef&&e.scopeRef.current&&jn(o.nodeToRestore,e.scopeRef.current)&&(o.nodeToRestore=e.nodeToRestore);let r=e.children;i&&(i.removeChild(e),r.size>0&&r.forEach(o=>i&&i.addChild(o))),this.fastMap.delete(e.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let e of t.children)yield*this.traverse(e)}clone(){var t;let e=new Fp;var i;for(let r of this.traverse())e.addTreeNode(r.scopeRef,(i=(t=r.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&i!==void 0?i:null,r.nodeToRestore);return e}constructor(){this.fastMap=new Map,this.root=new Bf({scopeRef:null}),this.fastMap.set(null,this.root)}}class Bf{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let we=new Fp;function la(a={}){let{autoFocus:t=!1,isTextInput:e,within:i}=a,r=_.useRef({isFocused:!1,isFocusVisible:t||I1()}),[o,c]=_.useState(!1),[u,h]=_.useState(()=>r.current.isFocused&&r.current.isFocusVisible),f=_.useCallback(()=>h(r.current.isFocused&&r.current.isFocusVisible),[]),p=_.useCallback(y=>{r.current.isFocused=y,c(y),f()},[f]);qT(y=>{r.current.isFocusVisible=y,f()},[],{isTextInput:e});let{focusProps:m}=B1({isDisabled:i,onFocusChange:p}),{focusWithinProps:v}=zp({isDisabled:!i,onFocusWithinChange:p});return{isFocused:o,isFocusVisible:u,focusProps:i?v:m}}const df=typeof document<"u"&&window.visualViewport,r2=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ic=0,hf;function o2(a={}){let{isDisabled:t}=a;De(()=>{if(!t)return Ic++,Ic===1&&(Ep()?hf=c2():hf=l2()),()=>{Ic--,Ic===0&&hf()}},[t])}function l2(){let a=window.innerWidth-document.documentElement.clientWidth;return yr(a>0&&("scrollbarGutter"in document.documentElement.style?ta(document.documentElement,"scrollbarGutter","stable"):ta(document.documentElement,"paddingRight",`${a}px`)),ta(document.documentElement,"overflow","hidden"))}function c2(){let a,t,e=f=>{a=s1(f.target,!0),!(a===document.documentElement&&a===document.body)&&a instanceof HTMLElement&&window.getComputedStyle(a).overscrollBehavior==="auto"&&(t=ta(a,"overscrollBehavior","contain"))},i=f=>{if(!a||a===document.documentElement||a===document.body){f.preventDefault();return}a.scrollHeight===a.clientHeight&&a.scrollWidth===a.clientWidth&&f.preventDefault()},r=()=>{t&&t()},o=f=>{let p=f.target;u2(p)&&(u(),p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",df&&(df.height<window.innerHeight?requestAnimationFrame(()=>{Ry(p)}):df.addEventListener("resize",()=>Ry(p),{once:!0}))}))},c=null,u=()=>{if(c)return;let f=()=>{window.scrollTo(0,0)},p=window.pageXOffset,m=window.pageYOffset;c=yr(No(window,"scroll",f),ta(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),ta(document.documentElement,"overflow","hidden"),ta(document.body,"marginTop",`-${m}px`),()=>{window.scrollTo(p,m)}),window.scrollTo(0,0)},h=yr(No(document,"touchstart",e,{passive:!1,capture:!0}),No(document,"touchmove",i,{passive:!1,capture:!0}),No(document,"touchend",r,{passive:!1,capture:!0}),No(document,"focus",o,!0));return()=>{t?.(),c?.(),h()}}function ta(a,t,e){let i=a.style[t];return a.style[t]=e,()=>{a.style[t]=i}}function No(a,t,e,i){return a.addEventListener(t,e,i),()=>{a.removeEventListener(t,e,i)}}function Ry(a){let t=document.scrollingElement||document.documentElement,e=a;for(;e&&e!==t;){let i=s1(e);if(i!==document.documentElement&&i!==document.body&&i!==e){let r=i.getBoundingClientRect().top,o=e.getBoundingClientRect().top;o>r+e.clientHeight&&(i.scrollTop+=o-r)}e=i.parentElement}}function u2(a){return a instanceof HTMLInputElement&&!r2.has(a.type)||a instanceof HTMLTextAreaElement||a instanceof HTMLElement&&a.isContentEditable}const d2=_.createContext({});function h2(){var a;return(a=_.useContext(d2))!==null&&a!==void 0?a:{}}const Hf=Ft.createContext(null);function f2(a){let{children:t}=a,e=_.useContext(Hf),[i,r]=_.useState(0),o=_.useMemo(()=>({parent:e,modalCount:i,addModal(){r(c=>c+1),e&&e.addModal()},removeModal(){r(c=>c-1),e&&e.removeModal()}}),[e,i]);return Ft.createElement(Hf.Provider,{value:o},t)}function p2(){let a=_.useContext(Hf);return{modalProviderProps:{"aria-hidden":a&&a.modalCount>0?!0:void 0}}}function g2(a){let{modalProviderProps:t}=p2();return Ft.createElement("div",{"data-overlay-container":!0,...a,...t})}function m2(a){return Ft.createElement(f2,null,Ft.createElement(g2,a))}const Ny={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function b2(a={}){let{style:t,isFocusable:e}=a,[i,r]=_.useState(!1),{focusWithinProps:o}=zp({isDisabled:!e,onFocusWithinChange:u=>r(u)}),c=_.useMemo(()=>i?t:t?{...Ny,...t}:Ny,[i]);return{visuallyHiddenProps:{...o,style:c}}}function v2(a){let{children:t,elementType:e="div",isFocusable:i,style:r,...o}=a,{visuallyHiddenProps:c}=b2(a);return Ft.createElement(e,He(o,c),t)}const y2=Ft.createContext(null);function ky(a){let t=Ap(),{portalContainer:e=t?null:document.body,isExiting:i}=a,[r,o]=_.useState(!1),c=_.useMemo(()=>({contain:r,setContain:o}),[r,o]),{getContainer:u}=h2();if(!a.portalContainer&&u&&(e=u()),!e)return null;let h=a.children;return a.disableFocusManagement||(h=Ft.createElement(JT,{restoreFocus:!0,contain:(a.shouldContainFocus||r)&&!i},h)),h=Ft.createElement(y2.Provider,{value:c},Ft.createElement(KT,null,h)),y_.createPortal(h,e)}var w2=({children:a,navigate:t,disableAnimation:e,useHref:i,disableRipple:r=!1,skipFramerMotionAnimations:o=e,reducedMotion:c="never",validationBehavior:u,locale:h="en-US",labelPlacement:f,defaultDates:p,createCalendar:m,spinnerVariant:v,...y})=>{let w=a;t&&(w=L.jsx(yC,{navigate:t,useHref:i,children:w}));const x=_.useMemo(()=>(e&&o&&(LC.skipAnimations=!0),{createCalendar:m,defaultDates:p,disableAnimation:e,disableRipple:r,validationBehavior:u,labelPlacement:f,spinnerVariant:v}),[m,p?.maxDate,p?.minDate,e,r,u,f,v]);return L.jsx($_,{value:x,children:L.jsx(K_,{locale:h,children:L.jsx(qC,{reducedMotion:c,children:L.jsx(m2,{...y,children:w})})})})};function x2(a){const t=Ss(),e=t?.labelPlacement;return _.useMemo(()=>{var i,r;const o=(r=(i=a.labelPlacement)!=null?i:e)!=null?r:"inside";return o==="inside"&&!a.label?"outside":o},[a.labelPlacement,e,a.label])}function Ue(a){return _.forwardRef(a)}var pa=(a,t,e=!0)=>{if(!t)return[a,{}];const i=t.reduce((r,o)=>o in a?{...r,[o]:a[o]}:r,{});return e?[Object.keys(a).filter(o=>!t.includes(o)).reduce((o,c)=>({...o,[c]:a[c]}),{}),i]:[a,i]},A2={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground"},S2={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground"},E2={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger"},_2={default:"bg-default/40 text-default-700",primary:"bg-primary/20 text-primary-600",secondary:"bg-secondary/20 text-secondary-600",success:"bg-success/20 text-success-700 dark:text-success",warning:"bg-warning/20 text-warning-700 dark:text-warning",danger:"bg-danger/20 text-danger-600 dark:text-danger-500"},C2={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger"},T2={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger"},M2={default:"border-default text-default-foreground",primary:"border-primary text-primary",secondary:"border-secondary text-secondary",success:"border-success text-success",warning:"border-warning text-warning",danger:"border-danger text-danger"},Tt={solid:A2,shadow:S2,bordered:E2,flat:_2,faded:C2,light:T2,ghost:M2},R2={".spinner-bar-animation":{"animation-delay":"calc(-1.2s + (0.1s * var(--bar-index)))",transform:"rotate(calc(30deg * var(--bar-index)))translate(140%)"},".spinner-dot-animation":{"animation-delay":"calc(250ms * var(--dot-index))"},".spinner-dot-blink-animation":{"animation-delay":"calc(200ms * var(--dot-index))"}},N2={".leading-inherit":{"line-height":"inherit"},".bg-img-inherit":{"background-image":"inherit"},".bg-clip-inherit":{"background-clip":"inherit"},".text-fill-inherit":{"-webkit-text-fill-color":"inherit"},".tap-highlight-transparent":{"-webkit-tap-highlight-color":"transparent"},".input-search-cancel-button-none":{"&::-webkit-search-cancel-button":{"-webkit-appearance":"none"}}},k2={".scrollbar-hide":{"-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}},".scrollbar-default":{"-ms-overflow-style":"auto","scrollbar-width":"auto","&::-webkit-scrollbar":{display:"block"}}},L2={".text-tiny":{"font-size":"var(--heroui-font-size-tiny)","line-height":"var(--heroui-line-height-tiny)"},".text-small":{"font-size":"var(--heroui-font-size-small)","line-height":"var(--heroui-line-height-small)"},".text-medium":{"font-size":"var(--heroui-font-size-medium)","line-height":"var(--heroui-line-height-medium)"},".text-large":{"font-size":"var(--heroui-font-size-large)","line-height":"var(--heroui-line-height-large)"}},li="250ms",D2={".transition-background":{"transition-property":"background","transition-timing-function":"ease","transition-duration":li},".transition-colors-opacity":{"transition-property":"color, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":li},".transition-width":{"transition-property":"width","transition-timing-function":"ease","transition-duration":li},".transition-height":{"transition-property":"height","transition-timing-function":"ease","transition-duration":li},".transition-size":{"transition-property":"width, height","transition-timing-function":"ease","transition-duration":li},".transition-left":{"transition-property":"left","transition-timing-function":"ease","transition-duration":li},".transition-transform-opacity":{"transition-property":"transform, scale, opacity rotate","transition-timing-function":"ease","transition-duration":li},".transition-transform-background":{"transition-property":"transform, scale, background","transition-timing-function":"ease","transition-duration":li},".transition-transform-colors":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke","transition-timing-function":"ease","transition-duration":li},".transition-transform-colors-opacity":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":li}},P2={...N2,...D2,...k2,...L2,...R2},zc=["small","medium","large"],Ly={theme:{spacing:["divider"],radius:zc},classGroups:{shadow:[{shadow:zc}],opacity:[{opacity:["disabled"]}],"font-size":[{text:["tiny",...zc]}],"border-w":[{border:zc}],"bg-image":["bg-stripe-gradient-default","bg-stripe-gradient-primary","bg-stripe-gradient-secondary","bg-stripe-gradient-success","bg-stripe-gradient-warning","bg-stripe-gradient-danger"],transition:Object.keys(P2).filter(a=>a.includes(".transition")).map(a=>a.replace(".",""))}},Dy=a=>a===!1?"false":a===!0?"true":a===0?"0":a,hn=a=>{if(!a||typeof a!="object")return!0;for(let t in a)return!1;return!0},O2=(a,t)=>{if(a===t)return!0;if(!a||!t)return!1;let e=Object.keys(a),i=Object.keys(t);if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!i.includes(o)||a[o]!==t[o])return!1}return!0};function U1(a,t){for(let e=0;e<a.length;e++){let i=a[e];Array.isArray(i)?U1(i,t):t.push(i)}}var V1=(...a)=>{let t=[];U1(a,t);let e=[];for(let i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e},G1=(a,t)=>{let e={};for(let i in a){let r=a[i];if(i in t){let o=t[i];Array.isArray(r)||Array.isArray(o)?e[i]=V1(o,r):typeof r=="object"&&typeof o=="object"&&r&&o?e[i]=G1(r,o):e[i]=o+" "+r}else e[i]=r}for(let i in t)i in a||(e[i]=t[i]);return e},$2=/\s+/g,Py=a=>!a||typeof a!="string"?a:a.replace($2," ").trim();const Bp="-",I2=a=>{const t=F2(a),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=a;return{getClassGroupId:c=>{const u=c.split(Bp);return u[0]===""&&u.length!==1&&u.shift(),q1(u,t)||z2(c)},getConflictingClassGroupIds:(c,u)=>{const h=e[c]||[];return u&&i[c]?[...h,...i[c]]:h}}},q1=(a,t)=>{if(a.length===0)return t.classGroupId;const e=a[0],i=t.nextPart.get(e),r=i?q1(a.slice(1),i):void 0;if(r)return r;if(t.validators.length===0)return;const o=a.join(Bp);return t.validators.find(({validator:c})=>c(o))?.classGroupId},Oy=/^\[(.+)\]$/,z2=a=>{if(Oy.test(a)){const t=Oy.exec(a)[1],e=t?.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},F2=a=>{const{theme:t,classGroups:e}=a,i={nextPart:new Map,validators:[]};for(const r in e)jf(e[r],i,r,t);return i},jf=(a,t,e,i)=>{a.forEach(r=>{if(typeof r=="string"){const o=r===""?t:$y(t,r);o.classGroupId=e;return}if(typeof r=="function"){if(B2(r)){jf(r(i),t,e,i);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([o,c])=>{jf(c,$y(t,o),e,i)})})},$y=(a,t)=>{let e=a;return t.split(Bp).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},B2=a=>a.isThemeGetter,H2=a=>{if(a<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const r=(o,c)=>{e.set(o,c),t++,t>a&&(t=0,i=e,e=new Map)};return{get(o){let c=e.get(o);if(c!==void 0)return c;if((c=i.get(o))!==void 0)return r(o,c),c},set(o,c){e.has(o)?e.set(o,c):r(o,c)}}},Uf="!",Vf=":",j2=Vf.length,U2=a=>{const{prefix:t,experimentalParseClassName:e}=a;let i=r=>{const o=[];let c=0,u=0,h=0,f;for(let w=0;w<r.length;w++){let x=r[w];if(c===0&&u===0){if(x===Vf){o.push(r.slice(h,w)),h=w+j2;continue}if(x==="/"){f=w;continue}}x==="["?c++:x==="]"?c--:x==="("?u++:x===")"&&u--}const p=o.length===0?r:r.substring(h),m=V2(p),v=m!==p,y=f&&f>h?f-h:void 0;return{modifiers:o,hasImportantModifier:v,baseClassName:m,maybePostfixModifierPosition:y}};if(t){const r=t+Vf,o=i;i=c=>c.startsWith(r)?o(c.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(e){const r=i;i=o=>e({className:o,parseClassName:r})}return i},V2=a=>a.endsWith(Uf)?a.substring(0,a.length-1):a.startsWith(Uf)?a.substring(1):a,G2=a=>{const t=Object.fromEntries(a.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let o=[];return i.forEach(c=>{c[0]==="["||t[c]?(r.push(...o.sort(),c),o=[]):o.push(c)}),r.push(...o.sort()),r}},q2=a=>({cache:H2(a.cacheSize),parseClassName:U2(a),sortModifiers:G2(a),...I2(a)}),Y2=/\s+/,X2=(a,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:o}=t,c=[],u=a.trim().split(Y2);let h="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:m,modifiers:v,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:x}=e(p);if(m){h=p+(h.length>0?" "+h:h);continue}let E=!!x,S=i(E?w.substring(0,x):w);if(!S){if(!E){h=p+(h.length>0?" "+h:h);continue}if(S=i(w),!S){h=p+(h.length>0?" "+h:h);continue}E=!1}const k=o(v).join(":"),M=y?k+Uf:k,N=M+S;if(c.includes(N))continue;c.push(N);const D=r(S,E);for(let z=0;z<D.length;++z){const B=D[z];c.push(M+B)}h=p+(h.length>0?" "+h:h)}return h};function Y1(){let a=0,t,e,i="";for(;a<arguments.length;)(t=arguments[a++])&&(e=X1(t))&&(i&&(i+=" "),i+=e);return i}const X1=a=>{if(typeof a=="string")return a;let t,e="";for(let i=0;i<a.length;i++)a[i]&&(t=X1(a[i]))&&(e&&(e+=" "),e+=t);return e};function fu(a,...t){let e,i,r,o=c;function c(h){const f=t.reduce((p,m)=>m(p),a());return e=q2(f),i=e.cache.get,r=e.cache.set,o=u,u(h)}function u(h){const f=i(h);if(f)return f;const p=X2(h,e);return r(h,p),p}return function(){return o(Y1.apply(null,arguments))}}const ve=a=>{const t=e=>e[a]||[];return t.isThemeGetter=!0,t},W1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,K1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,W2=/^\d+\/\d+$/,K2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Z2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,J2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=a=>W2.test(a),Nt=a=>!!a&&!Number.isNaN(Number(a)),Ii=a=>!!a&&Number.isInteger(Number(a)),Jc=a=>a.endsWith("%")&&Nt(a.slice(0,-1)),di=a=>K2.test(a),Q1=()=>!0,eM=a=>Q2.test(a)&&!Z2.test(a),Z1=()=>!1,nM=a=>J2.test(a),iM=a=>tM.test(a),J1=a=>!ut(a)&&!dt(a),tw=a=>Cr(a,ow,Z1),ut=a=>W1.test(a),ms=a=>Cr(a,lw,eM),tu=a=>Cr(a,sM,Nt),Gf=a=>Cr(a,aw,Z1),ew=a=>Cr(a,rw,iM),Fo=a=>Cr(a,cw,nM),dt=a=>K1.test(a),sr=a=>Tr(a,lw),nw=a=>Tr(a,aM),qf=a=>Tr(a,aw),iw=a=>Tr(a,ow),sw=a=>Tr(a,rw),Bo=a=>Tr(a,cw,!0),Cr=(a,t,e)=>{const i=W1.exec(a);return i?i[1]?t(i[1]):e(i[2]):!1},Tr=(a,t,e=!1)=>{const i=K1.exec(a);return i?i[1]?t(i[1]):e:!1},aw=a=>a==="position"||a==="percentage",rw=a=>a==="image"||a==="url",ow=a=>a==="length"||a==="size"||a==="bg-size",lw=a=>a==="length",sM=a=>a==="number",aM=a=>a==="family-name",cw=a=>a==="shadow",rM=Object.defineProperty({__proto__:null,isAny:Q1,isAnyNonArbitrary:J1,isArbitraryImage:ew,isArbitraryLength:ms,isArbitraryNumber:tu,isArbitraryPosition:Gf,isArbitraryShadow:Fo,isArbitrarySize:tw,isArbitraryValue:ut,isArbitraryVariable:dt,isArbitraryVariableFamilyName:nw,isArbitraryVariableImage:sw,isArbitraryVariableLength:sr,isArbitraryVariablePosition:qf,isArbitraryVariableShadow:Bo,isArbitraryVariableSize:iw,isFraction:Qs,isInteger:Ii,isNumber:Nt,isPercent:Jc,isTshirtSize:di},Symbol.toStringTag,{value:"Module"}),pu=()=>{const a=ve("color"),t=ve("font"),e=ve("text"),i=ve("font-weight"),r=ve("tracking"),o=ve("leading"),c=ve("breakpoint"),u=ve("container"),h=ve("spacing"),f=ve("radius"),p=ve("shadow"),m=ve("inset-shadow"),v=ve("text-shadow"),y=ve("drop-shadow"),w=ve("blur"),x=ve("perspective"),E=ve("aspect"),S=ve("ease"),k=ve("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...N(),dt,ut],z=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],U=()=>[dt,ut,h],Q=()=>[Qs,"full","auto",...U()],it=()=>[Ii,"none","subgrid",dt,ut],I=()=>["auto",{span:["full",Ii,dt,ut]},Ii,dt,ut],j=()=>[Ii,"auto",dt,ut],Z=()=>["auto","min","max","fr",dt,ut],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...U()],P=()=>[Qs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],H=()=>[a,dt,ut],rt=()=>[...N(),qf,Gf,{position:[dt,ut]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",iw,tw,{size:[dt,ut]}],tt=()=>[Jc,sr,ms],X=()=>["","none","full",f,dt,ut],at=()=>["",Nt,sr,ms],lt=()=>["solid","dashed","dotted","double"],ot=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ft=()=>[Nt,Jc,qf,Gf],Rt=()=>["","none",w,dt,ut],jt=()=>["none",Nt,dt,ut],fe=()=>["none",Nt,dt,ut],Se=()=>[Nt,dt,ut],pe=()=>[Qs,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[di],breakpoint:[di],color:[Q1],container:[di],"drop-shadow":[di],ease:["in","out","in-out"],font:[J1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[di],shadow:[di],spacing:["px",Nt],text:[di],"text-shadow":[di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qs,ut,dt,E]}],container:["container"],columns:[{columns:[Nt,ut,dt,u]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{start:Q()}],end:[{end:Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[Ii,"auto",dt,ut]}],basis:[{basis:[Qs,"full","auto",u,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Nt,Qs,"auto","initial","none",ut]}],grow:[{grow:["",Nt,dt,ut]}],shrink:[{shrink:["",Nt,dt,ut]}],order:[{order:[Ii,"first","last","none",dt,ut]}],"grid-cols":[{"grid-cols":it()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":it()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[u,"screen",...P()]}],"min-w":[{"min-w":[u,"screen","none",...P()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",e,sr,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,dt,tu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jc,ut]}],"font-family":[{font:[nw,ut,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,dt,ut]}],"line-clamp":[{"line-clamp":[Nt,"none",dt,tu]}],leading:[{leading:[o,...U()]}],"list-image":[{"list-image":["none",dt,ut]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",dt,ut]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...lt(),"wavy"]}],"text-decoration-thickness":[{decoration:[Nt,"from-font","auto",dt,ms]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Nt,"auto",dt,ut]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt,ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt,ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:rt()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ii,dt,ut],radial:["",dt,ut],conic:[Ii,dt,ut]},sw,ew]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:tt()}],"gradient-via-pos":[{via:tt()}],"gradient-to-pos":[{to:tt()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:at()}],"border-w-x":[{"border-x":at()}],"border-w-y":[{"border-y":at()}],"border-w-s":[{"border-s":at()}],"border-w-e":[{"border-e":at()}],"border-w-t":[{"border-t":at()}],"border-w-r":[{"border-r":at()}],"border-w-b":[{"border-b":at()}],"border-w-l":[{"border-l":at()}],"divide-x":[{"divide-x":at()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":at()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...lt(),"hidden","none"]}],"divide-style":[{divide:[...lt(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...lt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Nt,dt,ut]}],"outline-w":[{outline:["",Nt,sr,ms]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",p,Bo,Fo]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",m,Bo,Fo]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:at()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Nt,ms]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":at()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",v,Bo,Fo]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Nt,dt,ut]}],"mix-blend":[{"mix-blend":[...ot(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ot()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ft()}],"mask-image-linear-to-pos":[{"mask-linear-to":ft()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":ft()}],"mask-image-t-to-pos":[{"mask-t-to":ft()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":ft()}],"mask-image-r-to-pos":[{"mask-r-to":ft()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":ft()}],"mask-image-b-to-pos":[{"mask-b-to":ft()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":ft()}],"mask-image-l-to-pos":[{"mask-l-to":ft()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":ft()}],"mask-image-x-to-pos":[{"mask-x-to":ft()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":ft()}],"mask-image-y-to-pos":[{"mask-y-to":ft()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[dt,ut]}],"mask-image-radial-from-pos":[{"mask-radial-from":ft()}],"mask-image-radial-to-pos":[{"mask-radial-to":ft()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ft()}],"mask-image-conic-to-pos":[{"mask-conic-to":ft()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:rt()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",dt,ut]}],filter:[{filter:["","none",dt,ut]}],blur:[{blur:Rt()}],brightness:[{brightness:[Nt,dt,ut]}],contrast:[{contrast:[Nt,dt,ut]}],"drop-shadow":[{"drop-shadow":["","none",y,Bo,Fo]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Nt,dt,ut]}],"hue-rotate":[{"hue-rotate":[Nt,dt,ut]}],invert:[{invert:["",Nt,dt,ut]}],saturate:[{saturate:[Nt,dt,ut]}],sepia:[{sepia:["",Nt,dt,ut]}],"backdrop-filter":[{"backdrop-filter":["","none",dt,ut]}],"backdrop-blur":[{"backdrop-blur":Rt()}],"backdrop-brightness":[{"backdrop-brightness":[Nt,dt,ut]}],"backdrop-contrast":[{"backdrop-contrast":[Nt,dt,ut]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Nt,dt,ut]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Nt,dt,ut]}],"backdrop-invert":[{"backdrop-invert":["",Nt,dt,ut]}],"backdrop-opacity":[{"backdrop-opacity":[Nt,dt,ut]}],"backdrop-saturate":[{"backdrop-saturate":[Nt,dt,ut]}],"backdrop-sepia":[{"backdrop-sepia":["",Nt,dt,ut]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",dt,ut]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Nt,"initial",dt,ut]}],ease:[{ease:["linear","initial",S,dt,ut]}],delay:[{delay:[Nt,dt,ut]}],animate:[{animate:["none",k,dt,ut]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,dt,ut]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:jt()}],"rotate-x":[{"rotate-x":jt()}],"rotate-y":[{"rotate-y":jt()}],"rotate-z":[{"rotate-z":jt()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[dt,ut,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt,ut]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt,ut]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Nt,sr,ms,tu]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uw=(a,{cacheSize:t,prefix:e,experimentalParseClassName:i,extend:r={},override:o={}})=>(Ho(a,"cacheSize",t),Ho(a,"prefix",e),Ho(a,"experimentalParseClassName",i),Fc(a.theme,o.theme),Fc(a.classGroups,o.classGroups),Fc(a.conflictingClassGroups,o.conflictingClassGroups),Fc(a.conflictingClassGroupModifiers,o.conflictingClassGroupModifiers),Ho(a,"orderSensitiveModifiers",o.orderSensitiveModifiers),Bc(a.theme,r.theme),Bc(a.classGroups,r.classGroups),Bc(a.conflictingClassGroups,r.conflictingClassGroups),Bc(a.conflictingClassGroupModifiers,r.conflictingClassGroupModifiers),dw(a,r,"orderSensitiveModifiers"),a),Ho=(a,t,e)=>{e!==void 0&&(a[t]=e)},Fc=(a,t)=>{if(t)for(const e in t)Ho(a,e,t[e])},Bc=(a,t)=>{if(t)for(const e in t)dw(a,t,e)},dw=(a,t,e)=>{const i=t[e];i!==void 0&&(a[e]=a[e]?a[e].concat(i):i)},hw=(a,...t)=>typeof a=="function"?fu(pu,a,...t):fu(()=>uw(pu(),a),...t),fw=fu(pu),oM=Object.freeze(Object.defineProperty({__proto__:null,createTailwindMerge:fu,extendTailwindMerge:hw,fromTheme:ve,getDefaultConfig:pu,mergeConfigs:uw,twJoin:Y1,twMerge:fw,validators:rM},Symbol.toStringTag,{value:"Module"}));var lM=a=>hn(a)?fw:hw({...a,extend:{theme:a.theme,classGroups:a.classGroups,conflictingClassGroupModifiers:a.conflictingClassGroupModifiers,conflictingClassGroups:a.conflictingClassGroups,...a.extend}}),cM={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},gu=(...a)=>{let t=[];pw(a,t);let e="";for(let i=0;i<t.length;i++)t[i]&&(e&&(e+=" "),e+=t[i]);return e||void 0};function pw(a,t){for(let e=0;e<a.length;e++){let i=a[e];Array.isArray(i)?pw(i,t):i&&t.push(i)}}var ff=null,Yf={},Xf=!1,Hc=(...a)=>t=>{let e=gu(a);return!e||!t.twMerge?e:((!ff||Xf)&&(Xf=!1,ff=lM(Yf)),ff(e)||void 0)},Iy=(a,t)=>{for(let e in t)e in a?a[e]=gu(a[e],t[e]):a[e]=t[e];return a},uM=(a,t)=>{let{extend:e=null,slots:i={},variants:r={},compoundVariants:o=[],compoundSlots:c=[],defaultVariants:u={}}=a,h={...cM,...t},f=e?.base?gu(e.base,a?.base):a?.base,p=e?.variants&&!hn(e.variants)?G1(r,e.variants):r,m=e?.defaultVariants&&!hn(e.defaultVariants)?{...e.defaultVariants,...u}:u;!hn(h.twMergeConfig)&&!O2(h.twMergeConfig,Yf)&&(Xf=!0,Yf=h.twMergeConfig);let v=hn(e?.slots),y=hn(i)?{}:{base:gu(a?.base,v&&e?.base),...i},w=v?y:Iy({...e?.slots},hn(y)?{base:a?.base}:y),x=hn(e?.compoundVariants)?o:V1(e?.compoundVariants,o),E=k=>{if(hn(p)&&hn(i)&&v)return Hc(f,k?.class,k?.className)(h);if(x&&!Array.isArray(x))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof x}`);if(c&&!Array.isArray(c))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof c}`);let M=(j,Z,$=[],J)=>{let T=$;if(typeof Z=="string"){let P=Py(Z).split(" ");for(let H=0;H<P.length;H++)T.push(`${j}:${P[H]}`)}else if(Array.isArray(Z))for(let P=0;P<Z.length;P++)T.push(`${j}:${Z[P]}`);else if(typeof Z=="object"&&typeof J=="string"&&J in Z){let P=Z[J];if(P&&typeof P=="string"){let H=Py(P).split(" "),rt=[];for(let R=0;R<H.length;R++)rt.push(`${j}:${H[R]}`);T[J]=T[J]?T[J].concat(rt):rt}else if(Array.isArray(P)&&P.length>0){let H=[];for(let rt=0;rt<P.length;rt++)H.push(`${j}:${P[rt]}`);T[J]=H}}return T},N=(j,Z=p,$=null,J=null)=>{let T=Z[j];if(!T||hn(T))return null;let P=J?.[j]??k?.[j];if(P===null)return null;let H=Dy(P),rt=Array.isArray(h.responsiveVariants)&&h.responsiveVariants.length>0||h.responsiveVariants===!0,R=m?.[j],G=[];if(typeof H=="object"&&rt)for(let[at,lt]of Object.entries(H)){let ot=T[lt];if(at==="initial"){R=lt;continue}Array.isArray(h.responsiveVariants)&&!h.responsiveVariants.includes(at)||(G=M(at,ot,G,$))}let tt=H!=null&&typeof H!="object"?H:Dy(R),X=T[tt||"false"];return typeof G=="object"&&typeof $=="string"&&G[$]?Iy(G,X):G.length>0?(G.push(X),$==="base"?G.join(" "):G):X},D=()=>{if(!p)return null;let j=Object.keys(p),Z=[];for(let $=0;$<j.length;$++){let J=N(j[$],p);J&&Z.push(J)}return Z},z=(j,Z)=>{if(!p||typeof p!="object")return null;let $=[];for(let J in p){let T=N(J,p,j,Z),P=j==="base"&&typeof T=="string"?T:T&&T[j];P&&$.push(P)}return $},B={};for(let j in k){let Z=k[j];Z!==void 0&&(B[j]=Z)}let U=(j,Z)=>{let $=typeof k?.[j]=="object"?{[j]:k[j]?.initial}:{};return{...m,...B,...$,...Z}},Q=(j=[],Z)=>{let $=[],J=j.length;for(let T=0;T<J;T++){let{class:P,className:H,...rt}=j[T],R=!0,G=U(null,Z);for(let tt in rt){let X=rt[tt],at=G[tt];if(Array.isArray(X)){if(!X.includes(at)){R=!1;break}}else{if((X==null||X===!1)&&(at==null||at===!1))continue;if(at!==X){R=!1;break}}}R&&(P&&$.push(P),H&&$.push(H))}return $},it=j=>{let Z=Q(x,j);if(!Array.isArray(Z))return Z;let $={},J=Hc;for(let T=0;T<Z.length;T++){let P=Z[T];if(typeof P=="string")$.base=J($.base,P)(h);else if(typeof P=="object")for(let H in P)$[H]=J($[H],P[H])(h)}return $},I=j=>{if(c.length<1)return null;let Z={},$=U(null,j);for(let J=0;J<c.length;J++){let{slots:T=[],class:P,className:H,...rt}=c[J];if(!hn(rt)){let R=!0;for(let G in rt){let tt=$[G],X=rt[G];if(tt===void 0||(Array.isArray(X)?!X.includes(tt):X!==tt)){R=!1;break}}if(!R)continue}for(let R=0;R<T.length;R++){let G=T[R];Z[G]||(Z[G]=[]),Z[G].push([P,H])}}return Z};if(!hn(i)||!v){let j={};if(typeof w=="object"&&!hn(w)){let Z=Hc;for(let $ in w)j[$]=J=>{let T=it(J),P=I(J);return Z(w[$],z($,J),T?T[$]:void 0,P?P[$]:void 0,J?.class,J?.className)(h)}}return j}return Hc(f,D(),Q(x),k?.class,k?.className)(h)},S=()=>{if(!(!p||typeof p!="object"))return Object.keys(p)};return E.variantKeys=S(),E.extend=e,E.base=f,E.slots=w,E.variants=p,E.defaultVariants=m,E.compoundSlots=c,E.compoundVariants=x,E},Qn=(a,t)=>{var e,i,r;return uM(a,{...t,twMerge:(e=void 0)!=null?e:!0,twMergeConfig:{theme:{...(i=void 0)==null?void 0:i.theme,...Ly.theme},classGroups:{...(r=void 0)==null?void 0:r.classGroups,...Ly.classGroups}}})},zy=Qn({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",label:"text-foreground dark:text-foreground-dark font-regular",circle1:"absolute w-full h-full rounded-full",circle2:"absolute w-full h-full rounded-full",dots:"relative rounded-full mx-auto",spinnerBars:["absolute","animate-fade-out","rounded-full","w-[25%]","h-[8%]","left-[calc(37.5%)]","top-[calc(46%)]","spinner-bar-animation"]},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",dots:"size-1",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",dots:"size-1.5",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",dots:"size-2",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current",dots:"bg-current",spinnerBars:"bg-current"},white:{circle1:"border-b-white",circle2:"border-b-white",dots:"bg-white",spinnerBars:"bg-white"},default:{circle1:"border-b-default",circle2:"border-b-default",dots:"bg-default",spinnerBars:"bg-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary",dots:"bg-primary",spinnerBars:"bg-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary",dots:"bg-secondary",spinnerBars:"bg-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success",dots:"bg-success",spinnerBars:"bg-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning",dots:"bg-warning",spinnerBars:"bg-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger",dots:"bg-danger",spinnerBars:"bg-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}},variant:{default:{circle1:["animate-spinner-ease-spin","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["opacity-75","animate-spinner-linear-spin","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"]},gradient:{circle1:["border-0","bg-gradient-to-b","from-transparent","via-transparent","to-primary","animate-spinner-linear-spin","[animation-duration:1s]","[-webkit-mask:radial-gradient(closest-side,rgba(0,0,0,0.0)calc(100%-3px),rgba(0,0,0,1)calc(100%-3px))]"],circle2:["hidden"]},wave:{wrapper:"translate-y-3/4",dots:["animate-sway","spinner-dot-animation"]},dots:{wrapper:"translate-y-2/4",dots:["animate-blink","spinner-dot-blink-animation"]},spinner:{},simple:{wrapper:"text-foreground h-5 w-5 animate-spin",circle1:"opacity-25",circle2:"opacity-75"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground",variant:"default"},compoundVariants:[{variant:"gradient",color:"current",class:{circle1:"to-current"}},{variant:"gradient",color:"white",class:{circle1:"to-white"}},{variant:"gradient",color:"default",class:{circle1:"to-default"}},{variant:"gradient",color:"primary",class:{circle1:"to-primary"}},{variant:"gradient",color:"secondary",class:{circle1:"to-secondary"}},{variant:"gradient",color:"success",class:{circle1:"to-success"}},{variant:"gradient",color:"warning",class:{circle1:"to-warning"}},{variant:"gradient",color:"danger",class:{circle1:"to-danger"}},{variant:"wave",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"wave",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"wave",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"dots",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"dots",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"dots",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"simple",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"simple",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"simple",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"simple",color:"current",class:{wrapper:"text-current"}},{variant:"simple",color:"white",class:{wrapper:"text-white"}},{variant:"simple",color:"default",class:{wrapper:"text-default"}},{variant:"simple",color:"primary",class:{wrapper:"text-primary"}},{variant:"simple",color:"secondary",class:{wrapper:"text-secondary"}},{variant:"simple",color:"success",class:{wrapper:"text-success"}},{variant:"simple",color:"warning",class:{wrapper:"text-warning"}},{variant:"simple",color:"danger",class:{wrapper:"text-danger"}}]}),sl=["outline-solid outline-transparent","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],gw=["outline-solid outline-transparent","group-data-[focus-visible=true]:z-10","group-data-[focus-visible=true]:ring-2","group-data-[focus-visible=true]:ring-focus","group-data-[focus-visible=true]:ring-offset-2","group-data-[focus-visible=true]:ring-offset-background"],ir={default:["[&+.border-medium.border-default]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(var(--heroui-border-width-medium)*-1)]"]},dM=["font-inherit","text-[100%]","leading-[1.15]","m-0","p-0","overflow-visible","box-border","absolute","top-0","w-full","h-full","opacity-[0.0001]","z-[1]","cursor-pointer","disabled:cursor-default"],Fy=Qn({slots:{base:"group relative max-w-fit inline-flex items-center justify-start cursor-pointer touch-none tap-highlight-transparent select-none",wrapper:["px-1","relative","inline-flex","items-center","justify-start","shrink-0","overflow-hidden","bg-default-200","rounded-full",...gw],thumb:["z-10","flex","items-center","justify-center","bg-white","shadow-small","rounded-full","origin-right","pointer-events-none"],hiddenInput:dM,startContent:"z-0 absolute start-1.5 text-current",endContent:"z-0 absolute end-1.5 text-default-600",thumbIcon:"text-black",label:"relative text-foreground select-none ms-2"},variants:{color:{default:{wrapper:["group-data-[selected=true]:bg-default-400","group-data-[selected=true]:text-default-foreground"]},primary:{wrapper:["group-data-[selected=true]:bg-primary","group-data-[selected=true]:text-primary-foreground"]},secondary:{wrapper:["group-data-[selected=true]:bg-secondary","group-data-[selected=true]:text-secondary-foreground"]},success:{wrapper:["group-data-[selected=true]:bg-success","group-data-[selected=true]:text-success-foreground"]},warning:{wrapper:["group-data-[selected=true]:bg-warning","group-data-[selected=true]:text-warning-foreground"]},danger:{wrapper:["group-data-[selected=true]:bg-danger","data-[selected=true]:text-danger-foreground"]}},size:{sm:{wrapper:"w-10 h-6",thumb:["w-4 h-4 text-tiny","group-data-[selected=true]:ms-4"],endContent:"text-tiny",startContent:"text-tiny",label:"text-small"},md:{wrapper:"w-12 h-7",thumb:["w-5 h-5 text-small","group-data-[selected=true]:ms-5"],endContent:"text-small",startContent:"text-small",label:"text-medium"},lg:{wrapper:"w-14 h-8",thumb:["w-6 h-6 text-medium","group-data-[selected=true]:ms-6"],endContent:"text-medium",startContent:"text-medium",label:"text-large"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{wrapper:"transition-none",thumb:"transition-none"},false:{wrapper:"transition-background",thumb:"transition-all",startContent:["opacity-0","scale-50","transition-transform-opacity","group-data-[selected=true]:scale-100","group-data-[selected=true]:opacity-100"],endContent:["opacity-100","transition-transform-opacity","group-data-[selected=true]:translate-x-3","group-data-[selected=true]:opacity-0"]}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1},compoundVariants:[{disableAnimation:!1,size:"sm",class:{thumb:["group-data-[pressed=true]:w-5","group-data-[selected]:group-data-[pressed]:ml-3"]}},{disableAnimation:!1,size:"md",class:{thumb:["group-data-[pressed=true]:w-6","group-data-[selected]:group-data-[pressed]:ml-4"]}},{disableAnimation:!1,size:"lg",class:{thumb:["group-data-[pressed=true]:w-7","group-data-[selected]:group-data-[pressed]:ml-5"]}}]}),By=Qn({slots:{base:"group flex flex-col data-[hidden=true]:hidden",label:["absolute","z-10","pointer-events-none","origin-top-left","shrink-0","rtl:origin-top-right","subpixel-antialiased","block","text-small","text-foreground-500"],mainWrapper:"h-full",inputWrapper:"relative w-full inline-flex tap-highlight-transparent flex-row items-center shadow-xs px-3 gap-3",innerWrapper:"inline-flex w-full items-center h-full box-border",input:["w-full font-normal bg-transparent !outline-solid outline-transparent placeholder:text-foreground-500 focus-visible:outline-solid outline-transparent","data-[has-start-content=true]:ps-1.5","data-[has-end-content=true]:pe-1.5","data-[type=color]:rounded-none","file:cursor-pointer file:bg-transparent file:border-0","autofill:bg-transparent bg-clip-text"],clearButton:["p-2","-m-2","z-10","absolute","end-3","start-auto","pointer-events-none","appearance-none","outline-solid outline-transparent","select-none","opacity-0","cursor-pointer","active:!opacity-70","rounded-full",...sl],helperWrapper:"hidden group-data-[has-helper=true]:flex p-1 relative flex-col gap-1.5",description:"text-tiny text-foreground-400",errorMessage:"text-tiny text-danger"},variants:{variant:{flat:{inputWrapper:["bg-default-100","data-[hover=true]:bg-default-200","group-data-[focus=true]:bg-default-100"]},faded:{inputWrapper:["bg-default-100","border-medium","border-default-200","data-[hover=true]:border-default-400 focus-within:border-default-400"],value:"group-data-[has-value=true]:text-default-foreground"},bordered:{inputWrapper:["border-medium","border-default-200","data-[hover=true]:border-default-400","group-data-[focus=true]:border-default-foreground"]},underlined:{inputWrapper:["!px-1","!pb-0","!gap-0","relative","box-border","border-b-medium","shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","border-default-200","!rounded-none","hover:border-default-300","after:content-['']","after:w-0","after:origin-center","after:bg-default-foreground","after:absolute","after:left-1/2","after:-translate-x-1/2","after:-bottom-[2px]","after:h-[2px]","group-data-[focus=true]:after:w-full"],innerWrapper:"pb-1",label:"group-data-[filled-within=true]:text-foreground"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{label:"text-tiny",inputWrapper:"h-8 min-h-8 px-2 rounded-small",input:"text-small",clearButton:"text-medium"},md:{inputWrapper:"h-10 min-h-10 rounded-medium",input:"text-small",clearButton:"text-large hover:!opacity-100"},lg:{label:"text-medium",inputWrapper:"h-12 min-h-12 rounded-large",input:"text-medium",clearButton:"text-large hover:!opacity-100"}},radius:{none:{inputWrapper:"rounded-none"},sm:{inputWrapper:"rounded-small"},md:{inputWrapper:"rounded-medium"},lg:{inputWrapper:"rounded-large"},full:{inputWrapper:"rounded-full"}},labelPlacement:{outside:{mainWrapper:"flex flex-col"},"outside-left":{base:"flex-row items-center flex-nowrap data-[has-helper=true]:items-start",inputWrapper:"flex-1",mainWrapper:"flex flex-col",label:"relative text-foreground pe-2 ps-2 pointer-events-auto"},"outside-top":{mainWrapper:"flex flex-col",label:"relative text-foreground pb-2 pointer-events-auto"},inside:{label:"cursor-text",inputWrapper:"flex-col items-start justify-center gap-0",innerWrapper:"group-data-[has-label=true]:items-end"}},fullWidth:{true:{base:"w-full"},false:{}},isClearable:{true:{input:"peer pe-6 input-search-cancel-button-none",clearButton:["peer-data-[filled=true]:pointer-events-auto","peer-data-[filled=true]:opacity-70 peer-data-[filled=true]:block","peer-data-[filled=true]:scale-100"]}},isDisabled:{true:{base:"opacity-disabled pointer-events-none",inputWrapper:"pointer-events-none",label:"pointer-events-none"}},isInvalid:{true:{label:"!text-danger",input:"!placeholder:text-danger !text-danger"}},isRequired:{true:{label:"after:content-['*'] after:text-danger after:ms-0.5"}},isMultiline:{true:{label:"relative",inputWrapper:"!h-auto",innerWrapper:"items-start group-data-[has-label=true]:items-start",input:"resize-none data-[hide-scroll=true]:scrollbar-hide",clearButton:"absolute top-2 right-2 rtl:right-auto rtl:left-2 z-10"}},disableAnimation:{true:{input:"transition-none",inputWrapper:"transition-none",label:"transition-none"},false:{inputWrapper:"transition-background motion-reduce:transition-none !duration-150",label:["will-change-auto","!duration-200","!ease-out","motion-reduce:transition-none","transition-[transform,color,left,opacity,translate,scale]"],clearButton:["scale-90","ease-out","duration-150","transition-[opacity,transform]","motion-reduce:transition-none","motion-reduce:scale-100"]}}},defaultVariants:{variant:"flat",color:"default",size:"md",fullWidth:!0,isDisabled:!1,isMultiline:!1},compoundVariants:[{variant:"flat",color:"default",class:{input:"group-data-[has-value=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{inputWrapper:["bg-primary-100","data-[hover=true]:bg-primary-50","text-primary","group-data-[focus=true]:bg-primary-50","placeholder:text-primary"],input:"placeholder:text-primary",label:"text-primary"}},{variant:"flat",color:"secondary",class:{inputWrapper:["bg-secondary-100","text-secondary","data-[hover=true]:bg-secondary-50","group-data-[focus=true]:bg-secondary-50","placeholder:text-secondary"],input:"placeholder:text-secondary",label:"text-secondary"}},{variant:"flat",color:"success",class:{inputWrapper:["bg-success-100","text-success-600","dark:text-success","placeholder:text-success-600","dark:placeholder:text-success","data-[hover=true]:bg-success-50","group-data-[focus=true]:bg-success-50"],input:"placeholder:text-success-600 dark:placeholder:text-success",label:"text-success-600 dark:text-success"}},{variant:"flat",color:"warning",class:{inputWrapper:["bg-warning-100","text-warning-600","dark:text-warning","placeholder:text-warning-600","dark:placeholder:text-warning","data-[hover=true]:bg-warning-50","group-data-[focus=true]:bg-warning-50"],input:"placeholder:text-warning-600 dark:placeholder:text-warning",label:"text-warning-600 dark:text-warning"}},{variant:"flat",color:"danger",class:{inputWrapper:["bg-danger-100","text-danger","dark:text-danger-500","placeholder:text-danger","dark:placeholder:text-danger-500","data-[hover=true]:bg-danger-50","group-data-[focus=true]:bg-danger-50"],input:"placeholder:text-danger dark:placeholder:text-danger-500",label:"text-danger dark:text-danger-500"}},{variant:"faded",color:"primary",class:{label:"text-primary",inputWrapper:"data-[hover=true]:border-primary focus-within:border-primary"}},{variant:"faded",color:"secondary",class:{label:"text-secondary",inputWrapper:"data-[hover=true]:border-secondary focus-within:border-secondary"}},{variant:"faded",color:"success",class:{label:"text-success",inputWrapper:"data-[hover=true]:border-success focus-within:border-success"}},{variant:"faded",color:"warning",class:{label:"text-warning",inputWrapper:"data-[hover=true]:border-warning focus-within:border-warning"}},{variant:"faded",color:"danger",class:{label:"text-danger",inputWrapper:"data-[hover=true]:border-danger focus-within:border-danger"}},{variant:"underlined",color:"default",class:{input:"group-data-[has-value=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{inputWrapper:"after:bg-primary",label:"text-primary"}},{variant:"underlined",color:"secondary",class:{inputWrapper:"after:bg-secondary",label:"text-secondary"}},{variant:"underlined",color:"success",class:{inputWrapper:"after:bg-success",label:"text-success"}},{variant:"underlined",color:"warning",class:{inputWrapper:"after:bg-warning",label:"text-warning"}},{variant:"underlined",color:"danger",class:{inputWrapper:"after:bg-danger",label:"text-danger"}},{variant:"bordered",color:"primary",class:{inputWrapper:"group-data-[focus=true]:border-primary",label:"text-primary"}},{variant:"bordered",color:"secondary",class:{inputWrapper:"group-data-[focus=true]:border-secondary",label:"text-secondary"}},{variant:"bordered",color:"success",class:{inputWrapper:"group-data-[focus=true]:border-success",label:"text-success"}},{variant:"bordered",color:"warning",class:{inputWrapper:"group-data-[focus=true]:border-warning",label:"text-warning"}},{variant:"bordered",color:"danger",class:{inputWrapper:"group-data-[focus=true]:border-danger",label:"text-danger"}},{labelPlacement:"inside",color:"default",class:{label:"group-data-[filled-within=true]:text-default-600"}},{labelPlacement:"outside",color:"default",class:{label:"group-data-[filled-within=true]:text-foreground"}},{radius:"full",size:["sm"],class:{inputWrapper:"px-3"}},{radius:"full",size:"md",class:{inputWrapper:"px-4"}},{radius:"full",size:"lg",class:{inputWrapper:"px-5"}},{disableAnimation:!1,variant:["faded","bordered"],class:{inputWrapper:"transition-colors motion-reduce:transition-none"}},{disableAnimation:!1,variant:"underlined",class:{inputWrapper:"after:transition-width motion-reduce:after:transition-none"}},{variant:["flat","faded"],class:{inputWrapper:[...gw]}},{isInvalid:!0,variant:"flat",class:{inputWrapper:["!bg-danger-50","data-[hover=true]:!bg-danger-100","group-data-[focus=true]:!bg-danger-50"]}},{isInvalid:!0,variant:"bordered",class:{inputWrapper:"!border-danger group-data-[focus=true]:!border-danger"}},{isInvalid:!0,variant:"underlined",class:{inputWrapper:"after:!bg-danger"}},{labelPlacement:"inside",size:"sm",class:{inputWrapper:"h-12 py-1.5 px-3"}},{labelPlacement:"inside",size:"md",class:{inputWrapper:"h-14 py-2"}},{labelPlacement:"inside",size:"lg",class:{inputWrapper:"h-16 py-2.5 gap-0"}},{labelPlacement:"inside",size:"sm",variant:["bordered","faded"],class:{inputWrapper:"py-1"}},{labelPlacement:["inside","outside"],class:{label:["group-data-[filled-within=true]:pointer-events-auto"]}},{labelPlacement:"outside",isMultiline:!1,class:{base:"relative justify-end",label:["pb-0","z-20","top-1/2","-translate-y-1/2","group-data-[filled-within=true]:start-0"]}},{labelPlacement:["inside"],class:{label:["group-data-[filled-within=true]:scale-85"]}},{labelPlacement:["inside"],variant:"flat",class:{innerWrapper:"pb-0.5"}},{variant:"underlined",size:"sm",class:{innerWrapper:"pb-1"}},{variant:"underlined",size:["md","lg"],class:{innerWrapper:"pb-1.5"}},{labelPlacement:"inside",size:["sm","md"],class:{label:"text-small"}},{labelPlacement:"inside",isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_var(--heroui-font-size-tiny)/2_-_8px)]"]}},{labelPlacement:"inside",isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_var(--heroui-font-size-small)/2_-_6px)]"]}},{labelPlacement:"inside",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_var(--heroui-font-size-small)/2_-_8px)]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_var(--heroui-font-size-tiny)/2_-_8px_-_var(--heroui-border-width-medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_var(--heroui-font-size-small)/2_-_6px_-_var(--heroui-border-width-medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_var(--heroui-font-size-small)/2_-_8px_-_var(--heroui-border-width-medium))]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_var(--heroui-font-size-tiny)/2_-_5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_var(--heroui-font-size-small)/2_-_3.5px)]"]}},{labelPlacement:"inside",variant:"underlined",size:"lg",isMultiline:!1,class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_var(--heroui-font-size-small)/2_-_4px)]"]}},{labelPlacement:"outside",size:"sm",isMultiline:!1,class:{label:["start-2","text-tiny","group-data-[filled-within=true]:-translate-y-[calc(100%_+_var(--heroui-font-size-tiny)/2_+_16px)]"],base:"data-[has-label=true]:mt-[calc(var(--heroui-font-size-small)_+_8px)]"}},{labelPlacement:"outside",size:"md",isMultiline:!1,class:{label:["start-3","end-auto","text-small","group-data-[filled-within=true]:-translate-y-[calc(100%_+_var(--heroui-font-size-small)/2_+_20px)]"],base:"data-[has-label=true]:mt-[calc(var(--heroui-font-size-small)_+_10px)]"}},{labelPlacement:"outside",size:"lg",isMultiline:!1,class:{label:["start-3","end-auto","text-medium","group-data-[filled-within=true]:-translate-y-[calc(100%_+_var(--heroui-font-size-small)/2_+_24px)]"],base:"data-[has-label=true]:mt-[calc(var(--heroui-font-size-small)_+_12px)]"}},{labelPlacement:"outside-left",size:"sm",class:{label:"group-data-[has-helper=true]:pt-2"}},{labelPlacement:"outside-left",size:"md",class:{label:"group-data-[has-helper=true]:pt-3"}},{labelPlacement:"outside-left",size:"lg",class:{label:"group-data-[has-helper=true]:pt-4"}},{labelPlacement:["outside","outside-left"],isMultiline:!0,class:{inputWrapper:"py-2"}},{labelPlacement:"outside",isMultiline:!0,class:{label:"pb-1.5"}},{labelPlacement:"inside",isMultiline:!0,class:{label:"pb-0.5",input:"pt-0"}},{isMultiline:!0,disableAnimation:!1,class:{input:"transition-height !duration-100 motion-reduce:transition-none"}},{labelPlacement:["inside","outside"],class:{label:["pe-2","max-w-full","text-ellipsis","overflow-hidden"]}},{isMultiline:!0,radius:"full",class:{inputWrapper:"data-[has-multiple-rows=true]:rounded-large"}},{isClearable:!0,isMultiline:!0,class:{clearButton:["group-data-[has-value=true]:opacity-70 group-data-[has-value=true]:block","group-data-[has-value=true]:scale-100","group-data-[has-value=true]:pointer-events-auto"]}}]}),Hy=Qn({slots:{base:["px-1.5","py-0.5","inline-flex","space-x-0.5","rtl:space-x-reverse","items-center","font-sans","font-normal","text-center","text-small","shadow-small","bg-default-100","text-foreground-600","rounded-small"],abbr:"no-underline",content:""},variants:{},defaultVariants:{}}),Wf=Qn({base:["relative inline-flex items-center outline-solid outline-transparent tap-highlight-transparent",...sl],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-hover active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),hM="flex mx-1 text-current self-center",jy=Qn({slots:{base:["flex","z-40","w-full","h-auto","items-center","justify-center","data-[menu-open=true]:border-none"],wrapper:["z-40","flex","px-6","gap-4","w-full","flex-row","relative","flex-nowrap","items-center","justify-between","h-[var(--navbar-height)]"],toggle:["group","flex","items-center","justify-center","w-6","h-full","outline-solid outline-transparent","rounded-small","tap-highlight-transparent",...sl],srOnly:["sr-only"],toggleIcon:["w-full","h-full","pointer-events-none","flex","flex-col","items-center","justify-center","text-inherit","group-data-[pressed=true]:opacity-70","transition-opacity","before:content-['']","before:block","before:h-px","before:w-6","before:bg-current","before:transition-transform","before:duration-150","before:-translate-y-1","before:rotate-0","group-data-[open=true]:before:translate-y-px","group-data-[open=true]:before:rotate-45","after:content-['']","after:block","after:h-px","after:w-6","after:bg-current","after:transition-transform","after:duration-150","after:translate-y-1","after:rotate-0","group-data-[open=true]:after:translate-y-0","group-data-[open=true]:after:-rotate-45"],brand:["flex","basis-0","flex-row","flex-grow","flex-nowrap","justify-start","bg-transparent","items-center","no-underline","text-medium","whitespace-nowrap","box-border"],content:["flex","gap-4","h-full","flex-row","flex-nowrap","items-center","data-[justify=start]:justify-start","data-[justify=start]:flex-grow","data-[justify=start]:basis-0","data-[justify=center]:justify-center","data-[justify=end]:justify-end","data-[justify=end]:flex-grow","data-[justify=end]:basis-0"],item:["text-medium","whitespace-nowrap","box-border","list-none","data-[active=true]:font-semibold"],menu:["z-30","px-6","pt-2","fixed","flex","max-w-full","top-[var(--navbar-height)]","inset-x-0","bottom-0","w-screen","flex-col","gap-2","overflow-y-auto"],menuItem:["text-large","data-[active=true]:font-semibold"]},variants:{position:{static:{base:"static"},sticky:{base:"sticky top-0 inset-x-0"}},maxWidth:{sm:{wrapper:"max-w-[640px]"},md:{wrapper:"max-w-[768px]"},lg:{wrapper:"max-w-[1024px]"},xl:{wrapper:"max-w-[1280px]"},"2xl":{wrapper:"max-w-[1536px]"},full:{wrapper:"max-w-full"}},hideOnScroll:{true:{base:["sticky","top-0","inset-x-0"]}},isBordered:{true:{base:["border-b","border-divider"]}},isBlurred:{false:{base:"bg-background",menu:"bg-background"},true:{base:["backdrop-blur-lg","data-[menu-open=true]:backdrop-blur-xl","backdrop-saturate-150","bg-background/70"],menu:["backdrop-blur-xl","backdrop-saturate-150","bg-background/70"]}},disableAnimation:{true:{menu:["hidden","h-[calc(100dvh_-_var(--navbar-height))]","data-[open=true]:flex"]}}},defaultVariants:{maxWidth:"lg",position:"sticky",isBlurred:!0}}),fM=Qn({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),pM=Qn({base:"flex flex-col gap-2 items-start"}),gM=Qn({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-solid outline-transparent","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent","transform-gpu data-[pressed=true]:scale-[0.97]","cursor-pointer",...sl],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none data-[pressed=true]:scale-100",false:"transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1},compoundVariants:[{variant:"solid",color:"default",class:Tt.solid.default},{variant:"solid",color:"primary",class:Tt.solid.primary},{variant:"solid",color:"secondary",class:Tt.solid.secondary},{variant:"solid",color:"success",class:Tt.solid.success},{variant:"solid",color:"warning",class:Tt.solid.warning},{variant:"solid",color:"danger",class:Tt.solid.danger},{variant:"shadow",color:"default",class:Tt.shadow.default},{variant:"shadow",color:"primary",class:Tt.shadow.primary},{variant:"shadow",color:"secondary",class:Tt.shadow.secondary},{variant:"shadow",color:"success",class:Tt.shadow.success},{variant:"shadow",color:"warning",class:Tt.shadow.warning},{variant:"shadow",color:"danger",class:Tt.shadow.danger},{variant:"bordered",color:"default",class:Tt.bordered.default},{variant:"bordered",color:"primary",class:Tt.bordered.primary},{variant:"bordered",color:"secondary",class:Tt.bordered.secondary},{variant:"bordered",color:"success",class:Tt.bordered.success},{variant:"bordered",color:"warning",class:Tt.bordered.warning},{variant:"bordered",color:"danger",class:Tt.bordered.danger},{variant:"flat",color:"default",class:Tt.flat.default},{variant:"flat",color:"primary",class:Tt.flat.primary},{variant:"flat",color:"secondary",class:Tt.flat.secondary},{variant:"flat",color:"success",class:Tt.flat.success},{variant:"flat",color:"warning",class:Tt.flat.warning},{variant:"flat",color:"danger",class:Tt.flat.danger},{variant:"faded",color:"default",class:Tt.faded.default},{variant:"faded",color:"primary",class:Tt.faded.primary},{variant:"faded",color:"secondary",class:Tt.faded.secondary},{variant:"faded",color:"success",class:Tt.faded.success},{variant:"faded",color:"warning",class:Tt.faded.warning},{variant:"faded",color:"danger",class:Tt.faded.danger},{variant:"light",color:"default",class:[Tt.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[Tt.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[Tt.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[Tt.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[Tt.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[Tt.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:[Tt.ghost.default,"data-[hover=true]:!bg-default"]},{variant:"ghost",color:"primary",class:[Tt.ghost.primary,"data-[hover=true]:!bg-primary data-[hover=true]:!text-primary-foreground"]},{variant:"ghost",color:"secondary",class:[Tt.ghost.secondary,"data-[hover=true]:!bg-secondary data-[hover=true]:!text-secondary-foreground"]},{variant:"ghost",color:"success",class:[Tt.ghost.success,"data-[hover=true]:!bg-success data-[hover=true]:!text-success-foreground"]},{variant:"ghost",color:"warning",class:[Tt.ghost.warning,"data-[hover=true]:!bg-warning data-[hover=true]:!text-warning-foreground"]},{variant:"ghost",color:"danger",class:[Tt.ghost.danger,"data-[hover=true]:!bg-danger data-[hover=true]:!text-danger-foreground"]},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:ir.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:ir.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:ir.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:ir.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:ir.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:ir.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});Qn({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});var Uy=Qn({slots:{base:["flex","flex-col","relative","overflow-hidden","h-auto","outline-solid outline-transparent","text-foreground","box-border","bg-content1",...sl],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,isFooterBlurred:!1}}),mw=Ue((a,t)=>{var e;const{as:i,className:r,children:o,...c}=a,u=i||"div",h=Be(t),{slots:f,classNames:p}=xp(),m=Ot(p?.body,r);return L.jsx(u,{ref:h,className:(e=f.body)==null?void 0:e.call(f,{class:m}),...c,children:o})});mw.displayName="HeroUI.CardBody";var bw=mw,vw=Ue((a,t)=>{var e;const{as:i,className:r,children:o,...c}=a,u=i||"div",h=Be(t),{slots:f,classNames:p}=xp(),m=Ot(p?.footer,r);return L.jsx(u,{ref:h,className:(e=f.footer)==null?void 0:e.call(f,{class:m}),...c,children:o})});vw.displayName="HeroUI.CardFooter";var mM=vw,yw=Ue((a,t)=>{var e;const{as:i,className:r,children:o,...c}=a,u=i||"div",h=Be(t),{slots:f,classNames:p}=xp(),m=Ot(p?.header,r);return L.jsx(u,{ref:h,className:(e=f.header)==null?void 0:e.call(f,{class:m}),...c,children:o})});yw.displayName="HeroUI.CardHeader";var ww=yw;function xw(a,t){let{elementType:e="button",isDisabled:i,onPress:r,onPressStart:o,onPressEnd:c,onPressUp:u,onPressChange:h,preventFocusOnPress:f,allowFocusWhenDisabled:p,onClick:m,href:v,target:y,rel:w,type:x="button",allowTextSelectionOnPress:E}=a,S;e==="button"?S={type:x,disabled:i}:S={role:"button",href:e==="a"&&!i?v:void 0,target:e==="a"?y:void 0,type:e==="input"?x:void 0,disabled:e==="input"?i:void 0,"aria-disabled":!i||e==="input"?void 0:i,rel:e==="a"?w:void 0};let{pressProps:k,isPressed:M}=xr({onClick:m,onPressStart:o,onPressEnd:c,onPressUp:u,onPressChange:h,onPress:r,isDisabled:i,preventFocusOnPress:f,allowTextSelectionOnPress:E,ref:t}),{focusableProps:N}=il(a,t);p&&(N.tabIndex=i?-1:N.tabIndex);let D=He(N,k,el(a,{labelable:!0}));return{isPressed:M,buttonProps:He(S,D,{"aria-haspopup":a["aria-haspopup"],"aria-expanded":a["aria-expanded"],"aria-controls":a["aria-controls"],"aria-pressed":a["aria-pressed"],"aria-current":a["aria-current"]})}}const bM="modulepreload",vM=function(a){return"/"+a},Vy={},Lu=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let h=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");r=h(e.map(f=>{if(f=vM(f),f in Vy)return;Vy[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":bM,p||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),p)return new Promise((y,w)=>{v.addEventListener("load",y),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return r.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};var yM=()=>Lu(()=>import("./index-C1YvN0bz.js"),[]).then(a=>a.default),Aw=a=>{const{ripples:t=[],motionProps:e,color:i="currentColor",style:r,onClear:o}=a;return L.jsx(L.Fragment,{children:t.map(c=>{const u=C_(.01*c.size,.2,c.size>100?.75:.5);return L.jsx(kp,{features:yM,children:L.jsx(m1,{mode:"popLayout",children:L.jsx(Pp.span,{animate:{transform:"scale(2)",opacity:0},className:"heroui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:i,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:c.y,left:c.x,width:`${c.size}px`,height:`${c.size}px`,...r},transition:{duration:u},onAnimationComplete:()=>{o(c.key)},...e})})},c.key)})})};Aw.displayName="HeroUI.Ripple";var Sw=Aw;function Ew(a={}){const[t,e]=_.useState([]),i=_.useCallback(o=>{const c=o.target,u=Math.max(c.clientWidth,c.clientHeight);e(h=>[...h,{key:__(h.length.toString()),size:u,x:o.x-u/2,y:o.y-u/2}])},[]),r=_.useCallback(o=>{e(c=>c.filter(u=>u.key!==o))},[]);return{ripples:t,onClear:r,onPress:i,...a}}function wM(a){var t,e,i,r;const o=Ss(),[c,u]=pa(a,Uy.variantKeys),{ref:h,as:f,children:p,onClick:m,onPress:v,autoFocus:y,className:w,classNames:x,allowTextSelectionOnPress:E=!0,...S}=c,k=Be(h),M=f||(a.isPressable?"button":"div"),N=typeof M=="string",D=(e=(t=a.disableAnimation)!=null?t:o?.disableAnimation)!=null?e:!1,z=(r=(i=a.disableRipple)!=null?i:o?.disableRipple)!=null?r:!1,B=Ot(x?.base,w),{onClear:U,onPress:Q,ripples:it}=Ew(),I=_.useCallback(X=>{z||D||k.current&&Q(X)},[z,D,k,Q]),{buttonProps:j,isPressed:Z}=xw({onPress:br(v,I),elementType:f,isDisabled:!a.isPressable,onClick:m,allowTextSelectionOnPress:E,...S},k),{hoverProps:$,isHovered:J}=Ar({isDisabled:!a.isHoverable,...S}),{isFocusVisible:T,isFocused:P,focusProps:H}=la({autoFocus:y}),rt=_.useMemo(()=>Uy({...u,disableAnimation:D}),[ha(u),D]),R=_.useMemo(()=>({slots:rt,classNames:x,disableAnimation:D,isDisabled:a.isDisabled,isFooterBlurred:a.isFooterBlurred,fullWidth:a.fullWidth}),[rt,x,a.isDisabled,a.isFooterBlurred,D,a.fullWidth]),G=_.useCallback((X={})=>({ref:k,className:rt.base({class:B}),tabIndex:a.isPressable?0:-1,"data-hover":gt(J),"data-pressed":gt(Z),"data-focus":gt(P),"data-focus-visible":gt(T),"data-disabled":gt(a.isDisabled),...en(a.isPressable?{...j,...H,role:"button"}:{},a.isHoverable?$:{},vr(S,{enabled:N}),vr(X))}),[k,rt,B,N,a.isPressable,a.isHoverable,a.isDisabled,J,Z,T,j,H,$,S]),tt=_.useCallback(()=>({ripples:it,onClear:U}),[it,U]);return{context:R,domRef:k,Component:M,classNames:x,children:p,isHovered:J,isPressed:Z,disableAnimation:D,isPressable:a.isPressable,isHoverable:a.isHoverable,disableRipple:z,handlePress:I,isFocusVisible:T,getCardProps:G,getRippleProps:tt}}var _w=Ue((a,t)=>{const{children:e,context:i,Component:r,isPressable:o,disableAnimation:c,disableRipple:u,getCardProps:h,getRippleProps:f}=wM({...a,ref:t});return L.jsxs(r,{...h(),children:[L.jsx(O_,{value:i,children:e}),o&&!c&&!u&&L.jsx(Sw,{...f()})]})});_w.displayName="HeroUI.Card";var Cw=_w;function xM(a){var t,e;const[i,r]=pa(a,zy.variantKeys),o=Ss(),c=(e=(t=a?.variant)!=null?t:o?.spinnerVariant)!=null?e:"default",{children:u,className:h,classNames:f,label:p,...m}=i,v=_.useMemo(()=>zy({...r}),[ha(r)]),y=Ot(f?.base,h),w=p||u,x=_.useMemo(()=>w&&typeof w=="string"?w:m["aria-label"]?"":"Loading",[u,w,m["aria-label"]]),E=_.useCallback(()=>({"aria-label":x,className:v.base({class:y}),...m}),[x,v,y,m]);return{label:w,slots:v,classNames:f,variant:c,getSpinnerProps:E}}var Tw=Ue((a,t)=>{const{slots:e,classNames:i,label:r,variant:o,getSpinnerProps:c}=xM({...a});return o==="wave"||o==="dots"?L.jsxs("div",{ref:t,...c(),children:[L.jsx("div",{className:e.wrapper({class:i?.wrapper}),children:[...new Array(3)].map((u,h)=>L.jsx("i",{className:e.dots({class:i?.dots}),style:{"--dot-index":h}},`dot-${h}`))}),r&&L.jsx("span",{className:e.label({class:i?.label}),children:r})]}):o==="simple"?L.jsxs("div",{ref:t,...c(),children:[L.jsxs("svg",{className:e.wrapper({class:i?.wrapper}),fill:"none",viewBox:"0 0 24 24",children:[L.jsx("circle",{className:e.circle1({class:i?.circle1}),cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),L.jsx("path",{className:e.circle2({class:i?.circle2}),d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})]}),r&&L.jsx("span",{className:e.label({class:i?.label}),children:r})]}):o==="spinner"?L.jsxs("div",{ref:t,...c(),children:[L.jsx("div",{className:e.wrapper({class:i?.wrapper}),children:[...new Array(12)].map((u,h)=>L.jsx("i",{className:e.spinnerBars({class:i?.spinnerBars}),style:{"--bar-index":h}},`star-${h}`))}),r&&L.jsx("span",{className:e.label({class:i?.label}),children:r})]}):L.jsxs("div",{ref:t,...c(),children:[L.jsxs("div",{className:e.wrapper({class:i?.wrapper}),children:[L.jsx("i",{className:e.circle1({class:i?.circle1})}),L.jsx("i",{className:e.circle2({class:i?.circle2})})]}),r&&L.jsx("span",{className:e.label({class:i?.label}),children:r})]})});Tw.displayName="HeroUI.Spinner";var Hp=Tw;function AM(a,t){let{elementType:e="a",onPress:i,onPressStart:r,onPressEnd:o,onClick:c,isDisabled:u,...h}=a,f={};e!=="a"&&(f={role:"link",tabIndex:u?void 0:0});let{focusableProps:p}=il(a,t),{pressProps:m,isPressed:v}=xr({onClick:c,onPress:i,onPressStart:r,onPressEnd:o,isDisabled:u,ref:t}),y=el(h,{labelable:!0,isLink:e==="a"}),w=He(p,m),x=J0(),E=xC(a);return{isPressed:v,linkProps:He(y,E,{...w,...f,"aria-disabled":u||void 0,"aria-current":a["aria-current"],onClick:S=>{var k;(k=m.onClick)==null||k.call(m,S),!x.isNative&&S.currentTarget instanceof HTMLAnchorElement&&S.currentTarget.href&&!S.isDefaultPrevented()&&t1(S.currentTarget,S)&&a.href&&(S.preventDefault(),x.open(S.currentTarget,S,a.href,a.routerOptions))}})}}function SM(a){var t,e,i,r;const o=Ss(),[c,u]=pa(a,Wf.variantKeys),{ref:h,as:f,children:p,anchorIcon:m,isExternal:v=!1,showAnchorIcon:y=!1,autoFocus:w=!1,className:x,onPress:E,onPressStart:S,onPressEnd:k,onClick:M,...N}=c,D=f||"a",z=Be(h),B=(e=(t=a?.disableAnimation)!=null?t:o?.disableAnimation)!=null?e:!1,{linkProps:U}=AM({...N,onPress:E,onPressStart:S,onPressEnd:k,onClick:M,isDisabled:a.isDisabled,elementType:`${f}`},z),{isFocused:Q,isFocusVisible:it,focusProps:I}=la({autoFocus:w});v&&(N.rel=(i=N.rel)!=null?i:"noopener noreferrer",N.target=(r=N.target)!=null?r:"_blank");const j=_.useMemo(()=>Wf({...u,disableAnimation:B,className:x}),[ha(u),B,x]),Z=_.useCallback(()=>({ref:z,className:j,"data-focus":gt(Q),"data-disabled":gt(a.isDisabled),"data-focus-visible":gt(it),...en(I,U,N)}),[j,Q,it,I,U,N]);return{Component:D,children:p,anchorIcon:m,showAnchorIcon:y,getLinkProps:Z}}var EM=a=>L.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...a,children:[L.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),L.jsx("path",{d:"M15 3h6v6"}),L.jsx("path",{d:"M10 14L21 3"})]}),_M=a=>L.jsx("svg",{"aria-hidden":"true",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...a,children:L.jsx("path",{d:"M12 2a10 10 0 1010 10A10.016 10.016 0 0012 2zm3.36 12.3a.754.754 0 010 1.06.748.748 0 01-1.06 0l-2.3-2.3-2.3 2.3a.748.748 0 01-1.06 0 .754.754 0 010-1.06l2.3-2.3-2.3-2.3A.75.75 0 019.7 8.64l2.3 2.3 2.3-2.3a.75.75 0 011.06 1.06l-2.3 2.3z",fill:"currentColor"})}),Mw=Ue((a,t)=>{const{Component:e,children:i,showAnchorIcon:r,anchorIcon:o=L.jsx(EM,{className:hM}),getLinkProps:c}=SM({ref:t,...a});return L.jsx(e,{...c(),children:L.jsxs(L.Fragment,{children:[i,r&&o]})})});Mw.displayName="HeroUI.Link";var pi=Mw;function CM(a){const[t,e]=pa(a,Hy.variantKeys),{as:i,children:r,className:o,keys:c,title:u,classNames:h,...f}=t,p=i||"kbd",m=_.useMemo(()=>Hy({...e}),[ha(e)]),v=Ot(h?.base,o),y=typeof c=="string"?[c]:Array.isArray(c)?c:[];return{Component:p,slots:m,classNames:h,title:u,children:r,keysToRender:y,getKbdProps:(x={})=>({...f,...x,className:Ot(m.base({class:Ot(v,x.className)}))})}}var TM={command:"",shift:"",ctrl:"",option:"",enter:"",delete:"",escape:"",tab:"",capslock:"",up:"",right:"",down:"",left:"",pageup:"",pagedown:"",home:"",end:"",help:"?",space:"",fn:"Fn",win:"",alt:""},MM={command:"Command",shift:"Shift",ctrl:"Control",option:"Option",enter:"Enter",delete:"Delete",escape:"Escape",tab:"Tab",capslock:"Caps Lock",up:"Up",right:"Right",down:"Down",left:"Left",pageup:"Page Up",pagedown:"Page Down",home:"Home",end:"End",help:"Help",space:"Space",fn:"Fn",win:"Win",alt:"Alt"},Rw=Ue((a,t)=>{const{Component:e,children:i,slots:r,classNames:o,keysToRender:c,getKbdProps:u}=CM({...a}),h=_.useMemo(()=>c.map(f=>L.jsx("abbr",{className:r.abbr({class:o?.abbr}),title:MM[f],children:TM[f]},f)),[c]);return L.jsxs(e,{ref:t,...u(),children:[h,i&&L.jsx("span",{className:r.content({class:o?.content}),children:i})]})});Rw.displayName="HeroUI.Kbd";var RM=Rw,Nw=globalThis?.document?_.useLayoutEffect:_.useEffect;function NM(a){let{id:t,label:e,"aria-labelledby":i,"aria-label":r,labelElementType:o="label"}=a;t=ru(t);let c=ru(),u={};e&&(i=i?`${c} ${i}`:c,u={id:c,htmlFor:o==="label"?t:void 0});let h=SC({id:t,"aria-label":r,"aria-labelledby":i});return{labelProps:u,fieldProps:h}}function kM(a){let{description:t,errorMessage:e,isInvalid:i,validationState:r}=a,{labelProps:o,fieldProps:c}=NM(a),u=ly([!!t,!!e,i,r]),h=ly([!!t,!!e,i,r]);return c=He(c,{"aria-describedby":[u,h,a["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:o,fieldProps:c,descriptionProps:{id:u},errorMessageProps:{id:h}}}function LM(a,t,e){let{validationBehavior:i,focus:r}=a;De(()=>{if(i==="native"&&e?.current&&!e.current.disabled){let f=t.realtimeValidation.isInvalid?t.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";e.current.setCustomValidity(f),e.current.hasAttribute("title")||(e.current.title=""),t.realtimeValidation.isInvalid||t.updateValidation(PM(e.current))}});let o=_.useRef(!1),c=mn(()=>{o.current||t.resetValidation()}),u=mn(f=>{var p;t.displayValidation.isInvalid||t.commitValidation();let m=e==null||(p=e.current)===null||p===void 0?void 0:p.form;if(!f.defaultPrevented&&e&&m&&OM(m)===e.current){var v;r?r():(v=e.current)===null||v===void 0||v.focus(),UT("keyboard")}f.preventDefault()}),h=mn(()=>{t.commitValidation()});_.useEffect(()=>{let f=e?.current;if(!f)return;let p=f.form,m=p?.reset;return p&&(p.reset=()=>{o.current=!window.event||window.event.type==="message"&&window.event.target instanceof MessagePort,m?.call(p),o.current=!1}),f.addEventListener("invalid",u),f.addEventListener("change",h),p?.addEventListener("reset",c),()=>{f.removeEventListener("invalid",u),f.removeEventListener("change",h),p?.removeEventListener("reset",c),p&&(p.reset=m)}},[e,u,h,c,i])}function DM(a){let t=a.validity;return{badInput:t.badInput,customError:t.customError,patternMismatch:t.patternMismatch,rangeOverflow:t.rangeOverflow,rangeUnderflow:t.rangeUnderflow,stepMismatch:t.stepMismatch,tooLong:t.tooLong,tooShort:t.tooShort,typeMismatch:t.typeMismatch,valueMissing:t.valueMissing,valid:t.valid}}function PM(a){return{isInvalid:!a.validity.valid,validationDetails:DM(a),validationErrors:a.validationMessage?[a.validationMessage]:[]}}function OM(a){for(let t=0;t<a.elements.length;t++){let e=a.elements[t];if(!e.validity.valid)return e}return null}const kw={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},Lw={...kw,customError:!0,valid:!1},ko={isInvalid:!1,validationDetails:kw,validationErrors:[]},Dw=_.createContext({}),Gy="__formValidationState"+Date.now();function $M(a){if(a[Gy]){let{realtimeValidation:t,displayValidation:e,updateValidation:i,resetValidation:r,commitValidation:o}=a[Gy];return{realtimeValidation:t,displayValidation:e,updateValidation:i,resetValidation:r,commitValidation:o}}return IM(a)}function IM(a){let{isInvalid:t,validationState:e,name:i,value:r,builtinValidation:o,validate:c,validationBehavior:u="aria"}=a;e&&(t||(t=e==="invalid"));let h=t!==void 0?{isInvalid:t,validationErrors:[],validationDetails:Lw}:null,f=_.useMemo(()=>{if(!c||r==null)return null;let it=zM(c,r);return qy(it)},[c,r]);o?.validationDetails.valid&&(o=void 0);let p=_.useContext(Dw),m=_.useMemo(()=>i?Array.isArray(i)?i.flatMap(it=>Kf(p[it])):Kf(p[i]):[],[p,i]),[v,y]=_.useState(p),[w,x]=_.useState(!1);p!==v&&(y(p),x(!1));let E=_.useMemo(()=>qy(w?[]:m),[w,m]),S=_.useRef(ko),[k,M]=_.useState(ko),N=_.useRef(ko),D=()=>{if(!z)return;B(!1);let it=f||o||S.current;pf(it,N.current)||(N.current=it,M(it))},[z,B]=_.useState(!1);return _.useEffect(D),{realtimeValidation:h||E||f||o||ko,displayValidation:u==="native"?h||E||k:h||E||f||o||k,updateValidation(it){u==="aria"&&!pf(k,it)?M(it):S.current=it},resetValidation(){let it=ko;pf(it,N.current)||(N.current=it,M(it)),u==="native"&&B(!1),x(!0)},commitValidation(){u==="native"&&B(!0),x(!0)}}}function Kf(a){return a?Array.isArray(a)?a:[a]:[]}function zM(a,t){if(typeof a=="function"){let e=a(t);if(e&&typeof e!="boolean")return Kf(e)}return[]}function qy(a){return a.length?{isInvalid:!0,validationErrors:a,validationDetails:Lw}:null}function pf(a,t){return a===t?!0:!!a&&!!t&&a.isInvalid===t.isInvalid&&a.validationErrors.length===t.validationErrors.length&&a.validationErrors.every((e,i)=>e===t.validationErrors[i])&&Object.entries(a.validationDetails).every(([e,i])=>t.validationDetails[e]===i)}function FM(a,t){let{inputElementType:e="input",isDisabled:i=!1,isRequired:r=!1,isReadOnly:o=!1,type:c="text",validationBehavior:u="aria"}=a,[h,f]=Cu(a.value,a.defaultValue||"",a.onChange),{focusableProps:p}=il(a,t),m=$M({...a,value:h}),{isInvalid:v,validationErrors:y,validationDetails:w}=m.displayValidation,{labelProps:x,fieldProps:E,descriptionProps:S,errorMessageProps:k}=kM({...a,isInvalid:v,errorMessage:a.errorMessage||y}),M=el(a,{labelable:!0});const N={type:c,pattern:a.pattern};let[D]=_.useState(h);var z;return r1(t,(z=a.defaultValue)!==null&&z!==void 0?z:D,f),LM(a,m,t),_.useEffect(()=>{if(t.current instanceof Hn(t.current).HTMLTextAreaElement){let B=t.current;Object.defineProperty(B,"defaultValue",{get:()=>B.value,set:()=>{},configurable:!0})}},[t]),{labelProps:x,inputProps:He(M,e==="input"?N:void 0,{disabled:i,readOnly:o,required:r&&u==="native","aria-required":r&&u==="aria"||void 0,"aria-invalid":v||void 0,"aria-errormessage":a["aria-errormessage"],"aria-activedescendant":a["aria-activedescendant"],"aria-autocomplete":a["aria-autocomplete"],"aria-haspopup":a["aria-haspopup"],"aria-controls":a["aria-controls"],value:h,onChange:B=>f(B.target.value),autoComplete:a.autoComplete,autoCapitalize:a.autoCapitalize,maxLength:a.maxLength,minLength:a.minLength,name:a.name,form:a.form,placeholder:a.placeholder,inputMode:a.inputMode,autoCorrect:a.autoCorrect,spellCheck:a.spellCheck,[parseInt(Ft.version,10)>=17?"enterKeyHint":"enterkeyhint"]:a.enterKeyHint,onCopy:a.onCopy,onCut:a.onCut,onPaste:a.onPaste,onCompositionEnd:a.onCompositionEnd,onCompositionStart:a.onCompositionStart,onCompositionUpdate:a.onCompositionUpdate,onSelect:a.onSelect,onBeforeInput:a.onBeforeInput,onInput:a.onInput,...p,...E}),descriptionProps:S,errorMessageProps:k,isInvalid:v,validationErrors:y,validationDetails:w}}var Yy=Symbol("default");function BM(a){const t=_.useRef(null),e=_.useRef(void 0),i=_.useCallback(r=>{if(typeof a=="function"){const o=a,c=o(r);return()=>{typeof c=="function"?c():o(null)}}else if(a)return a.current=r,()=>{a.current=null}},[a]);return _.useMemo(()=>({get current(){return t.current},set current(r){t.current=r,e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=i(r))}}),[i])}function Pw(a,t){let e=_.useContext(a);if(t===null)return null;if(e&&typeof e=="object"&&"slots"in e&&e.slots){let i=new Intl.ListFormat().format(Object.keys(e.slots).map(o=>`"${o}"`));if(!t&&!e.slots[Yy])throw new Error(`A slot prop is required. Valid slot names are ${i}.`);let r=t||Yy;if(!e.slots[r])throw new Error(`Invalid slot "${t}". Valid slot names are ${i}.`);return e.slots[r]}return e}function HM(a,t,e){let i=Pw(e,a.slot)||{},{ref:r,...o}=i,c=BM(_.useMemo(()=>M_(t,r),[t,r])),u=en(o,a);return"style"in o&&o.style&&"style"in a&&a.style&&(typeof o.style=="function"||typeof a.style=="function"?u.style=h=>{let f=typeof o.style=="function"?o.style(h):o.style,p={...h.defaultStyle,...f},m=typeof a.style=="function"?a.style({...h,defaultStyle:p}):a.style;return{...p,...m}}:u.style={...o.style,...a.style}),[u,c]}var Qf=_.createContext(null);_.forwardRef(function(t,e){[t,e]=HM(t,e,Qf);let{validationErrors:i,validationBehavior:r="native",children:o,className:c,...u}=t;const h=_.useMemo(()=>pM({className:c}),[c]);return L.jsx("form",{noValidate:r!=="native",...u,ref:e,className:h,children:L.jsx(Qf.Provider,{value:{...t,validationBehavior:r},children:L.jsx(Dw.Provider,{value:i??{},children:o})})})});function jM(a){var t,e,i,r,o,c,u;const h=Ss(),{validationBehavior:f}=Pw(Qf)||{},[p,m]=pa(a,By.variantKeys),{ref:v,as:y,type:w,label:x,baseRef:E,wrapperRef:S,description:k,className:M,classNames:N,autoFocus:D,startContent:z,endContent:B,onClear:U,onChange:Q,validationState:it,validationBehavior:I=(t=f??h?.validationBehavior)!=null?t:"native",innerWrapperRef:j,onValueChange:Z=()=>{},...$}=p,J=_.useCallback(xt=>{Z(xt??"")},[Z]),[T,P]=_.useState(!1),H=y||"div",rt=(i=(e=a.disableAnimation)!=null?e:h?.disableAnimation)!=null?i:!1,R=Be(v),G=Be(E),tt=Be(S),X=Be(j),[at,lt]=Cu(p.value,(r=p.defaultValue)!=null?r:"",J),ot=w==="file",ft=((u=(c=(o=R?.current)==null?void 0:o.files)==null?void 0:c.length)!=null?u:0)>0,Rt=["date","time","month","week","range"].includes(w),jt=!A_(at)||Rt||ft,fe=jt||T,Se=w==="hidden",pe=a.isMultiline,sn=Ot(N?.base,M,jt?"is-filled":""),Mn=_.useCallback(()=>{var xt;ot?R.current.value="":lt(""),U?.(),(xt=R.current)==null||xt.focus()},[lt,U,ot]);Nw(()=>{R.current&&lt(R.current.value)},[R.current]);const{labelProps:vi,inputProps:Ct,isInvalid:Xe,validationErrors:_s,validationDetails:ba,descriptionProps:va,errorMessageProps:yi}=FM({...a,validationBehavior:I,autoCapitalize:a.autoCapitalize,value:at,"aria-label":a.label?a["aria-label"]:E_(a["aria-label"],a.placeholder),inputElementType:pe?"textarea":"input",onChange:lt},R);ot&&(delete Ct.value,delete Ct.onChange);const{isFocusVisible:an,isFocused:Cs,focusProps:dl}=la({autoFocus:D,isTextInput:!0}),{isHovered:ya,hoverProps:Ts}=Ar({isDisabled:!!a?.isDisabled}),{isHovered:Ee,hoverProps:Zn}=Ar({isDisabled:!!a?.isDisabled}),{focusProps:Ve,isFocusVisible:hl}=la(),{focusWithinProps:fl}=zp({onFocusWithinChange:P}),{pressProps:pl}=xr({isDisabled:!!a?.isDisabled||!!a?.isReadOnly,onPress:Mn}),Un=it==="invalid"||Xe,rn=x2({labelPlacement:a.labelPlacement,label:x}),Vn=typeof p.errorMessage=="function"?p.errorMessage({isInvalid:Un,validationErrors:_s,validationDetails:ba}):p.errorMessage||_s?.join(" "),Jn=!!U||a.isClearable,Gi=!!x||!!k||!!Vn,wi=!!p.placeholder,Nr=!!x,wa=!!k||!!Vn,Ms=rn==="outside-left",xi=rn==="outside-top",gl=rn==="outside"||Ms||xi,ml=rn==="inside",Rs=R.current?(!R.current.value||R.current.value===""||!at||at==="")&&wi:!1,vn=!!z,kr=gl?Ms||xi||wi||rn==="outside"&&vn:!1,bl=rn==="outside"&&!wi&&!vn,ae=_.useMemo(()=>By({...m,isInvalid:Un,labelPlacement:rn,isClearable:Jn,disableAnimation:rt}),[ha(m),Un,rn,Jn,vn,rt]),ti=_.useCallback((xt={})=>({ref:G,className:ae.base({class:sn}),"data-slot":"base","data-filled":gt(jt||wi||vn||Rs||ot),"data-filled-within":gt(fe||wi||vn||Rs||ot),"data-focus-within":gt(T),"data-focus-visible":gt(an),"data-readonly":gt(a.isReadOnly),"data-focus":gt(Cs),"data-hover":gt(ya||Ee),"data-required":gt(a.isRequired),"data-invalid":gt(Un),"data-disabled":gt(a.isDisabled),"data-has-elements":gt(Gi),"data-has-helper":gt(wa),"data-has-label":gt(Nr),"data-has-value":gt(!Rs),"data-hidden":gt(Se),...fl,...xt}),[ae,sn,jt,Cs,ya,Ee,Un,wa,Nr,Gi,Rs,vn,T,an,fe,wi,fl,Se,a.isReadOnly,a.isRequired,a.isDisabled]),Me=_.useCallback((xt={})=>({"data-slot":"label",className:ae.label({class:N?.label}),...en(vi,Zn,xt)}),[ae,Ee,vi,N?.label]),Pe=_.useCallback(xt=>{xt.key==="Escape"&&at&&(Jn||U)&&!a.isReadOnly&&(lt(""),U?.())},[at,lt,U,Jn,a.isReadOnly]),qi=_.useCallback((xt={})=>({"data-slot":"input","data-filled":gt(jt),"data-filled-within":gt(fe),"data-has-start-content":gt(vn),"data-has-end-content":gt(!!B),"data-type":w,className:ae.input({class:Ot(N?.input,jt?"is-filled":"",pe?"pe-0":"",w==="password"?"[&::-ms-reveal]:hidden":"")}),...en(dl,Ct,vr($,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(Ct))}),xt),"aria-readonly":gt(a.isReadOnly),onChange:br(Ct.onChange,Q),onKeyDown:br(Ct.onKeyDown,xt.onKeyDown,Pe),ref:R}),[ae,at,dl,Ct,$,jt,fe,vn,B,N?.input,a.isReadOnly,a.isRequired,Q,Pe]),Lr=_.useCallback((xt={})=>({ref:tt,"data-slot":"input-wrapper","data-hover":gt(ya||Ee),"data-focus-visible":gt(an),"data-focus":gt(Cs),className:ae.inputWrapper({class:Ot(N?.inputWrapper,jt?"is-filled":"")}),...en(xt,Ts),onClick:Gn=>{R.current&&Gn.currentTarget===Gn.target&&R.current.focus()},style:{cursor:"text",...xt.style}}),[ae,ya,Ee,an,Cs,at,N?.inputWrapper]),Hu=_.useCallback((xt={})=>({...xt,ref:X,"data-slot":"inner-wrapper",onClick:Gn=>{R.current&&Gn.currentTarget===Gn.target&&R.current.focus()},className:ae.innerWrapper({class:Ot(N?.innerWrapper,xt?.className)})}),[ae,N?.innerWrapper]),ju=_.useCallback((xt={})=>({...xt,"data-slot":"main-wrapper",className:ae.mainWrapper({class:Ot(N?.mainWrapper,xt?.className)})}),[ae,N?.mainWrapper]),vl=_.useCallback((xt={})=>({...xt,"data-slot":"helper-wrapper",className:ae.helperWrapper({class:Ot(N?.helperWrapper,xt?.className)})}),[ae,N?.helperWrapper]),Ns=_.useCallback((xt={})=>({...xt,...va,"data-slot":"description",className:ae.description({class:Ot(N?.description,xt?.className)})}),[ae,N?.description]),Dr=_.useCallback((xt={})=>({...xt,...yi,"data-slot":"error-message",className:ae.errorMessage({class:Ot(N?.errorMessage,xt?.className)})}),[ae,yi,N?.errorMessage]),Yi=_.useCallback((xt={})=>({...xt,type:"button",tabIndex:-1,disabled:a.isDisabled,"aria-label":"clear input","data-slot":"clear-button","data-focus-visible":gt(hl),className:ae.clearButton({class:Ot(N?.clearButton,xt?.className)}),...en(pl,Ve)}),[ae,hl,pl,Ve,N?.clearButton]);return{Component:H,classNames:N,domRef:R,label:x,description:k,startContent:z,endContent:B,labelPlacement:rn,isClearable:Jn,hasHelper:wa,hasStartContent:vn,isLabelOutside:kr,isOutsideLeft:Ms,isOutsideTop:xi,isLabelOutsideAsPlaceholder:bl,shouldLabelBeOutside:gl,shouldLabelBeInside:ml,hasPlaceholder:wi,isInvalid:Un,errorMessage:Vn,getBaseProps:ti,getLabelProps:Me,getInputProps:qi,getMainWrapperProps:ju,getInputWrapperProps:Lr,getInnerWrapperProps:Hu,getHelperWrapperProps:vl,getDescriptionProps:Ns,getErrorMessageProps:Dr,getClearButtonProps:Yi}}var Ow=Ue((a,t)=>{const{Component:e,label:i,description:r,isClearable:o,startContent:c,endContent:u,labelPlacement:h,hasHelper:f,isOutsideLeft:p,isOutsideTop:m,shouldLabelBeOutside:v,errorMessage:y,isInvalid:w,getBaseProps:x,getLabelProps:E,getInputProps:S,getInnerWrapperProps:k,getInputWrapperProps:M,getMainWrapperProps:N,getHelperWrapperProps:D,getDescriptionProps:z,getErrorMessageProps:B,getClearButtonProps:U}=jM({...a,ref:t}),Q=i?L.jsx("label",{...E(),children:i}):null,it=_.useMemo(()=>o?L.jsx("button",{...U(),children:u||L.jsx(_M,{})}):u,[o,U]),I=_.useMemo(()=>{const $=w&&y;return!f||!($||r)?null:L.jsx("div",{...D(),children:$?L.jsx("div",{...B(),children:y}):L.jsx("div",{...z(),children:r})})},[f,w,y,r,D,B,z]),j=_.useMemo(()=>L.jsxs("div",{...k(),children:[c,L.jsx("input",{...S()}),it]}),[c,it,S,k]),Z=_.useMemo(()=>v?L.jsxs("div",{...N(),children:[L.jsxs("div",{...M(),children:[!p&&!m?Q:null,j]}),I]}):L.jsxs(L.Fragment,{children:[L.jsxs("div",{...M(),children:[Q,j]}),I]}),[h,I,v,Q,j,y,r,N,M,B,z]);return L.jsxs(e,{...x(),children:[p||m?Q:null,Z]})});Ow.displayName="HeroUI.Input";var UM=Ow,[VM,Mr]=Su({name:"NavbarContext",strict:!0,errorMessage:"useNavbarContext: `context` is undefined. Seems you forgot to wrap component within <Navbar />"}),GM={enter:{height:"calc(100vh - var(--navbar-height))",transition:{duration:.3,easings:"easeOut"}},exit:{height:0,transition:{duration:.25,easings:"easeIn"}}},qM=()=>Lu(()=>import("./index-C1YvN0bz.js"),[]).then(a=>a.default),$w=Ue((a,t)=>{var e,i;const{className:r,children:o,portalContainer:c,motionProps:u,style:h,...f}=a,p=Be(t),{slots:m,isMenuOpen:v,height:y,disableAnimation:w,classNames:x}=Mr(),E=Ot(x?.menu,r);return w?v?L.jsx(ky,{portalContainer:c,children:L.jsx("ul",{ref:p,className:(e=m.menu)==null?void 0:e.call(m,{class:E}),"data-open":gt(v),style:{"--navbar-height":typeof y=="number"?`${y}px`:y},...f,children:o})}):null:L.jsx(m1,{mode:"wait",children:v?L.jsx(ky,{portalContainer:c,children:L.jsx(kp,{features:qM,children:L.jsx(Pp.ul,{ref:p,layoutScroll:!0,animate:"enter",className:(i=m.menu)==null?void 0:i.call(m,{class:E}),"data-open":gt(v),exit:"exit",initial:"exit",style:{"--navbar-height":typeof y=="number"?`${y}px`:y,...h},variants:GM,...en(u,f),children:o})})}):null})});$w.displayName="HeroUI.NavbarMenu";var Iw=$w,Xy={easeIn:[.4,0,1,1],easeOut:[0,0,.2,1]},YM={visible:{y:0,transition:{ease:Xy.easeOut}},hidden:{y:"-100%",transition:{ease:Xy.easeIn}}},XM=typeof window<"u";function Wy(a){return XM?a?{x:a.scrollLeft,y:a.scrollTop}:{x:window.scrollX,y:window.scrollY}:{x:0,y:0}}var WM=a=>{const{elementRef:t,delay:e=30,callback:i,isEnabled:r}=a,o=_.useRef(r?Wy(t?.current):{x:0,y:0}),c=_.useRef(null),u=_.useCallback(()=>{const h=Wy(t?.current);typeof i=="function"&&i({prevPos:o.current,currPos:h}),o.current=h,c.current=null},[i,t]);return _.useEffect(()=>{if(!r)return;const h=()=>{e?(c.current&&clearTimeout(c.current),c.current=setTimeout(u,e)):u()},f=t?.current||window;return f.addEventListener("scroll",h),()=>{f.removeEventListener("scroll",h),c.current&&(clearTimeout(c.current),c.current=null)}},[t?.current,e,u,r]),o.current};function KM(){return typeof window.ResizeObserver<"u"}function QM(a){const{ref:t,box:e,onResize:i}=a;_.useEffect(()=>{let r=t?.current;if(r)if(KM()){const o=new window.ResizeObserver(c=>{c.length&&i()});return o.observe(r,{box:e}),()=>{r&&o.unobserve(r)}}else return window.addEventListener("resize",i,!1),()=>{window.removeEventListener("resize",i,!1)}},[i,t,e])}function ZM(a){var t,e;const i=Ss(),[r,o]=pa(a,jy.variantKeys),{ref:c,as:u,parentRef:h,height:f="4rem",shouldHideOnScroll:p=!1,disableScrollHandler:m=!1,shouldBlockScroll:v=!0,onScrollPositionChange:y,isMenuOpen:w,isMenuDefaultOpen:x,onMenuOpenChange:E=()=>{},motionProps:S,className:k,classNames:M,...N}=r,D=u||"nav",z=(e=(t=a.disableAnimation)!=null?t:i?.disableAnimation)!=null?e:!1,B=Be(c),U=_.useRef(0),Q=_.useRef(0),[it,I]=_.useState(!1),j=_.useCallback(R=>{E(R||!1)},[E]),[Z,$]=Cu(w,x??!1,j),J=()=>{if(B.current){const R=B.current.offsetWidth;R!==U.current&&(U.current=R)}};o2({isDisabled:!(v&&Z)}),QM({ref:B,onResize:()=>{var R;const G=(R=B.current)==null?void 0:R.offsetWidth,tt=window.innerWidth-document.documentElement.clientWidth;G&&G+tt==U.current||G!==U.current&&(J(),$(!1))}}),_.useEffect(()=>{var R;J(),Q.current=((R=B.current)==null?void 0:R.offsetHeight)||0},[]);const T=_.useMemo(()=>jy({...o,disableAnimation:z,hideOnScroll:p}),[ha(o),z,p]),P=Ot(M?.base,k);return WM({elementRef:h,isEnabled:p||!m,callback:({prevPos:R,currPos:G})=>{y?.(G.y),p&&I(tt=>{const X=G.y>R.y&&G.y>Q.current;return X!==tt?X:tt})}}),{Component:D,slots:T,domRef:B,height:f,isHidden:it,disableAnimation:z,shouldHideOnScroll:p,isMenuOpen:Z,classNames:M,setIsMenuOpen:$,motionProps:S,getBaseProps:(R={})=>({...en(N,R),"data-hidden":gt(it),"data-menu-open":gt(Z),ref:B,className:T.base({class:Ot(P,R?.className)}),style:{"--navbar-height":typeof f=="number"?`${f}px`:f,...N?.style,...R?.style}}),getWrapperProps:(R={})=>({...R,"data-menu-open":gt(Z),className:T.wrapper({class:Ot(M?.wrapper,R?.className)})})}}var JM=()=>Lu(()=>import("./index-C1YvN0bz.js"),[]).then(a=>a.default),zw=Ue((a,t)=>{const{children:e,...i}=a,r=ZM({...i,ref:t}),o=r.Component,[c,u]=k_(e,Iw),h=L.jsxs(L.Fragment,{children:[L.jsx("header",{...r.getWrapperProps(),children:c}),u]});return L.jsx(VM,{value:r,children:r.shouldHideOnScroll?L.jsx(kp,{features:JM,children:L.jsx(Pp.nav,{animate:r.isHidden?"hidden":"visible",initial:!1,variants:YM,...en(r.getBaseProps(),r.motionProps),children:h})}):L.jsx(o,{...r.getBaseProps(),children:h})})});zw.displayName="HeroUI.Navbar";var tR=zw,Fw=Ue((a,t)=>{var e;const{as:i,className:r,children:o,...c}=a,u=i||"div",h=Be(t),{slots:f,classNames:p}=Mr(),m=Ot(p?.brand,r);return L.jsx(u,{ref:h,className:(e=f.brand)==null?void 0:e.call(f,{class:m}),...c,children:o})});Fw.displayName="HeroUI.NavbarBrand";var eR=Fw,Bw=Ue((a,t)=>{var e;const{as:i,className:r,children:o,justify:c="start",...u}=a,h=i||"ul",f=Be(t),{slots:p,classNames:m}=Mr(),v=Ot(m?.content,r);return L.jsx(h,{ref:f,className:(e=p.content)==null?void 0:e.call(p,{class:v}),"data-justify":c,...u,children:o})});Bw.displayName="HeroUI.NavbarContent";var gf=Bw,Hw=Ue((a,t)=>{var e;const{as:i,className:r,children:o,isActive:c,...u}=a,h=i||"li",f=Be(t),{slots:p,classNames:m}=Mr(),v=Ot(m?.item,r);return L.jsx(h,{ref:f,className:(e=p.item)==null?void 0:e.call(p,{class:v}),"data-active":gt(c),...u,children:o})});Hw.displayName="HeroUI.NavbarItem";var mf=Hw,jw=Ue((a,t)=>{var e;const{className:i,children:r,isActive:o,...c}=a,u=Be(t),{slots:h,isMenuOpen:f,classNames:p}=Mr(),m=Ot(p?.menuItem,i);return L.jsx("li",{ref:u,className:(e=h.menuItem)==null?void 0:e.call(h,{class:m}),"data-active":gt(o),"data-open":gt(f),...c,children:r})});jw.displayName="HeroUI.NavbarMenuItem";var nR=jw;function iR(a,t){let{elementType:e="button",isDisabled:i,onPress:r,onPressStart:o,onPressEnd:c,onPressUp:u,onPressChange:h,preventFocusOnPress:f,allowFocusWhenDisabled:p,onClick:m,href:v,target:y,rel:w,type:x="button"}=a,E;e==="button"?E={type:x,disabled:i,form:a.form,formAction:a.formAction,formEncType:a.formEncType,formMethod:a.formMethod,formNoValidate:a.formNoValidate,formTarget:a.formTarget,name:a.name,value:a.value}:E={role:"button",href:e==="a"&&!i?v:void 0,target:e==="a"?y:void 0,type:e==="input"?x:void 0,disabled:e==="input"?i:void 0,"aria-disabled":!i||e==="input"?void 0:i,rel:e==="a"?w:void 0};let{pressProps:S,isPressed:k}=xr({onPressStart:o,onPressEnd:c,onPressChange:h,onPress:r,onPressUp:u,onClick:m,isDisabled:i,preventFocusOnPress:f,ref:t}),{focusableProps:M}=il(a,t);p&&(M.tabIndex=i?-1:M.tabIndex);let N=He(M,S,el(a,{labelable:!0}));return{isPressed:k,buttonProps:He(E,N,{"aria-haspopup":a["aria-haspopup"],"aria-expanded":a["aria-expanded"],"aria-controls":a["aria-controls"],"aria-pressed":a["aria-pressed"],"aria-current":a["aria-current"]})}}function sR(a,t,e){const{isSelected:i}=t,{isPressed:r,buttonProps:o}=iR({...a,onPress:yr(t.toggle,a.onPress)},e);return{isPressed:r,isSelected:i,isDisabled:a.isDisabled||!1,buttonProps:He(o,{"aria-pressed":i})}}function Uw(a={}){let{isReadOnly:t}=a,[e,i]=Cu(a.isSelected,a.defaultSelected||!1,a.onChange),[r]=_.useState(e);function o(h){t||i(h)}function c(){t||i(!e)}var u;return{isSelected:e,defaultSelected:(u=a.defaultSelected)!==null&&u!==void 0?u:r,setSelected:o,toggle:c}}var Vw=Ue((a,t)=>{var e;const{as:i,icon:r,className:o,onChange:c,autoFocus:u,srOnlyText:h,...f}=a,p=i||"button",m=Be(t),{slots:v,classNames:y,isMenuOpen:w,setIsMenuOpen:x}=Mr(),S=Uw({...f,isSelected:w,onChange:I=>{c?.(I),x(I)}}),{buttonProps:k,isPressed:M}=sR(a,S,m),{isFocusVisible:N,focusProps:D}=la({autoFocus:u}),{isHovered:z,hoverProps:B}=Ar({}),U=Ot(y?.toggle,o),Q=_.useMemo(()=>typeof r=="function"?r(w??!1):r||L.jsx("span",{className:v.toggleIcon({class:y?.toggleIcon})}),[r,w,v.toggleIcon,y?.toggleIcon]),it=_.useMemo(()=>h||(S.isSelected?"close navigation menu":"open navigation menu"),[h,w]);return L.jsxs(p,{ref:m,className:(e=v.toggle)==null?void 0:e.call(v,{class:U}),"data-focus-visible":gt(N),"data-hover":gt(z),"data-open":gt(w),"data-pressed":gt(M),...en(k,D,B,f),children:[L.jsx("span",{className:v.srOnly(),children:it}),Q]})});Vw.displayName="HeroUI.NavbarMenuToggle";var aR=Vw;const Bn={name:"UTC ",navItems:[{label:"",href:"/"},{label:"",href:"/calendar"},{label:"",href:"/search"},{label:"",href:"/teacher-schedule"},{label:"",href:"/class-schedule"}],navMenuItems:[{label:"Profile",href:"/profile"},{label:"Dashboard",href:"/dashboard"},{label:"Projects",href:"/projects"},{label:"Team",href:"/team"},{label:"Calendar",href:"/calendar"},{label:"Settings",href:"/settings"},{label:"Help & Feedback",href:"/help-feedback"},{label:"Logout",href:"/logout"}],links:{utaipei:{sky:"https://my.utaipei.edu.tw/utaipei/index_sky.html"},hero_ui:{github:"https://github.com/frontio-ai/heroui",docs:"https://heroui.com"},github:{api:"https://allen0099.github.io/utaipei-course-crawler",web:"https://github.com/allen0099/utaipei-course-web",crawler:"https://github.com/allen0099/utaipei-course-crawler"}}};function rR(a,t,e){let{isDisabled:i=!1,isReadOnly:r=!1,value:o,name:c,form:u,children:h,"aria-label":f,"aria-labelledby":p,validationState:m="valid",isInvalid:v,onPressStart:y,onPressEnd:w,onPressChange:x,onPress:E,onPressUp:S,onClick:k}=a,M=I=>{I.stopPropagation(),t.setSelected(I.target.checked)},{pressProps:N,isPressed:D}=xr({onPressStart:y,onPressEnd:w,onPressChange:x,onPress:E,onPressUp:S,onClick:k,isDisabled:i}),{pressProps:z,isPressed:B}=xr({onPressStart:y,onPressEnd:w,onPressChange:x,onPressUp:S,onClick:k,onPress(I){var j;E?.(I),t.toggle(),(j=e.current)===null||j===void 0||j.focus()},isDisabled:i||r}),{focusableProps:U}=il(a,e),Q=He(N,U),it=el(a,{labelable:!0});return r1(e,t.defaultSelected,t.setSelected),{labelProps:He(z,{onClick:I=>I.preventDefault()}),inputProps:He(it,{"aria-invalid":v||m==="invalid"||void 0,"aria-errormessage":a["aria-errormessage"],"aria-controls":a["aria-controls"],"aria-readonly":r||void 0,onChange:M,disabled:i,...o==null?{}:{value:o},name:c,form:u,type:"checkbox",...Q}),isSelected:t.isSelected,isPressed:D||B,isDisabled:i,isReadOnly:r,isInvalid:v||m==="invalid"}}function oR(a,t,e){let{labelProps:i,inputProps:r,isSelected:o,isPressed:c,isDisabled:u,isReadOnly:h}=rR(a,t,e);return{labelProps:i,inputProps:{...r,role:"switch",checked:o},isSelected:o,isPressed:c,isDisabled:u,isReadOnly:h}}function lR(a={}){var t,e;const i=Ss(),[r,o]=pa(a,Fy.variantKeys),{ref:c,as:u,name:h,value:f="",isReadOnly:p=!1,autoFocus:m=!1,startContent:v,endContent:y,defaultSelected:w,isSelected:x,children:E,thumbIcon:S,className:k,classNames:M,onChange:N,onValueChange:D,...z}=r,B=u||"label",U=_.useRef(null),Q=_.useRef(null),it=(e=(t=a.disableAnimation)!=null?t:i?.disableAnimation)!=null?e:!1,I=_.useId(),j=_.useMemo(()=>{const Ct=z["aria-label"]||typeof E=="string"?E:void 0;return{name:h,value:f,children:E,autoFocus:m,defaultSelected:w,isSelected:x,isDisabled:!!a.isDisabled,isReadOnly:p,"aria-label":Ct,"aria-labelledby":z["aria-labelledby"]||I,onChange:D}},[f,h,I,E,m,p,x,w,a.isDisabled,z["aria-label"],z["aria-labelledby"],D]),Z=Uw(j);Nw(()=>{if(!Q.current)return;const Ct=!!Q.current.checked;Z.setSelected(Ct)},[Q.current]);const{inputProps:$,isPressed:J,isReadOnly:T}=oR(j,Z,Q),{focusProps:P,isFocused:H,isFocusVisible:rt}=la({autoFocus:$.autoFocus}),{hoverProps:R,isHovered:G}=Ar({isDisabled:$.disabled}),X=j.isDisabled||T?!1:J,at=$.checked,lt=$.disabled,ot=_.useMemo(()=>Fy({...o,disableAnimation:it}),[ha(o),it]),ft=Ot(M?.base,k),Rt=Ct=>({...en(R,z,Ct),ref:U,className:ot.base({class:Ot(ft,Ct?.className)}),"data-disabled":gt(lt),"data-selected":gt(at),"data-readonly":gt(T),"data-focus":gt(H),"data-focus-visible":gt(rt),"data-hover":gt(G),"data-pressed":gt(X)}),jt=_.useCallback((Ct={})=>({...Ct,"aria-hidden":!0,className:Ot(ot.wrapper({class:Ot(M?.wrapper,Ct?.className)}))}),[ot,M?.wrapper]),fe=(Ct={})=>({...en($,P,Ct),ref:N_(Q,c),id:$.id,className:ot.hiddenInput({class:M?.hiddenInput}),onChange:br(N,$.onChange)}),Se=_.useCallback((Ct={})=>({...Ct,className:ot.thumb({class:Ot(M?.thumb,Ct?.className)})}),[ot,M?.thumb]),pe=_.useCallback((Ct={})=>({...Ct,id:I,className:ot.label({class:Ot(M?.label,Ct?.className)})}),[ot,M?.label,lt,at]),sn=_.useCallback((Ct={includeStateProps:!1})=>en({width:"1em",height:"1em",className:ot.thumbIcon({class:Ot(M?.thumbIcon)})},Ct.includeStateProps?{isSelected:at}:{}),[ot,M?.thumbIcon,at]),Mn=_.useCallback((Ct={})=>({width:"1em",height:"1em",...Ct,className:ot.startContent({class:Ot(M?.startContent,Ct?.className)})}),[ot,M?.startContent,at]),vi=_.useCallback((Ct={})=>({width:"1em",height:"1em",...Ct,className:ot.endContent({class:Ot(M?.endContent,Ct?.className)})}),[ot,M?.endContent,at]);return{Component:B,slots:ot,classNames:M,domRef:U,children:E,thumbIcon:S,startContent:v,endContent:y,isHovered:G,isSelected:at,isPressed:X,isFocused:H,isFocusVisible:rt,isDisabled:lt,getBaseProps:Rt,getWrapperProps:jt,getInputProps:fe,getLabelProps:pe,getThumbProps:Se,getThumbIconProps:sn,getStartContentProps:Mn,getEndContentProps:vi}}var Ke={KEY:"heroui-theme",LIGHT:"light",DARK:"dark",SYSTEM:"system"};function cR(a=Ke.SYSTEM){const t="(prefers-color-scheme: dark)",[e,i]=_.useState(()=>{var c;const u=localStorage.getItem(Ke.KEY);return u||(a===Ke.SYSTEM?(c=window.matchMedia)!=null&&c.call(window,t).matches?Ke.DARK:Ke.LIGHT:a)}),r=_.useCallback(c=>{var u;const h=c===Ke.SYSTEM?(u=window.matchMedia)!=null&&u.call(window,t).matches?Ke.DARK:Ke.LIGHT:c;localStorage.setItem(Ke.KEY,c),document.documentElement.classList.remove(Ke.LIGHT,Ke.DARK,Ke.SYSTEM),document.documentElement.classList.add(h),i(c)},[e]),o=_.useCallback(c=>{a===Ke.SYSTEM&&r(c.matches?Ke.DARK:Ke.LIGHT)},[r]);return _.useEffect(()=>r(e),[e,r]),_.useEffect(()=>{const c=window.matchMedia(t);return c.addEventListener("change",o),()=>c.removeEventListener("change",o)},[o]),{theme:e,setTheme:r}}const uR=({size:a=36,height:t,...e})=>L.jsx("svg",{fill:"none",height:a||t,viewBox:"0 0 32 32",width:a||t,...e,children:L.jsx("path",{clipRule:"evenodd",d:"M17.6482 10.1305L15.8785 7.02583L7.02979 22.5499H10.5278L17.6482 10.1305ZM19.8798 14.0457L18.11 17.1983L19.394 19.4511H16.8453L15.1056 22.5499H24.7272L19.8798 14.0457Z",fill:"currentColor",fillRule:"evenodd"})}),Zf=({size:a=24,width:t,height:e,...i})=>L.jsx("svg",{height:a||e,viewBox:"0 0 24 24",width:a||t,...i,children:L.jsx("path",{clipRule:"evenodd",d:"M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z",fill:"currentColor",fillRule:"evenodd"})}),dR=({size:a=24,width:t,height:e,...i})=>L.jsx("svg",{"aria-hidden":"true",focusable:"false",height:a||e,role:"presentation",viewBox:"0 0 24 24",width:a||t,...i,children:L.jsx("path",{d:"M21.53 15.93c-.16-.27-.61-.69-1.73-.49a8.46 8.46 0 01-1.88.13 8.409 8.409 0 01-5.91-2.82 8.068 8.068 0 01-1.44-8.66c.44-1.01.13-1.54-.09-1.76s-.77-.55-1.83-.11a10.318 10.318 0 00-6.32 10.21 10.475 10.475 0 007.04 8.99 10 10 0 002.89.55c.16.01.32.02.48.02a10.5 10.5 0 008.47-4.27c.67-.93.49-1.519.32-1.79z",fill:"currentColor"})}),hR=({size:a=24,width:t,height:e,...i})=>L.jsx("svg",{"aria-hidden":"true",focusable:"false",height:a||e,role:"presentation",viewBox:"0 0 24 24",width:a||t,...i,children:L.jsxs("g",{fill:"currentColor",children:[L.jsx("path",{d:"M19 12a7 7 0 11-7-7 7 7 0 017 7z"}),L.jsx("path",{d:"M12 22.96a.969.969 0 01-1-.96v-.08a1 1 0 012 0 1.038 1.038 0 01-1 1.04zm7.14-2.82a1.024 1.024 0 01-.71-.29l-.13-.13a1 1 0 011.41-1.41l.13.13a1 1 0 010 1.41.984.984 0 01-.7.29zm-14.28 0a1.024 1.024 0 01-.71-.29 1 1 0 010-1.41l.13-.13a1 1 0 011.41 1.41l-.13.13a1 1 0 01-.7.29zM22 13h-.08a1 1 0 010-2 1.038 1.038 0 011.04 1 .969.969 0 01-.96 1zM2.08 13H2a1 1 0 010-2 1.038 1.038 0 011.04 1 .969.969 0 01-.96 1zm16.93-7.01a1.024 1.024 0 01-.71-.29 1 1 0 010-1.41l.13-.13a1 1 0 011.41 1.41l-.13.13a.984.984 0 01-.7.29zm-14.02 0a1.024 1.024 0 01-.71-.29l-.13-.14a1 1 0 011.41-1.41l.13.13a1 1 0 010 1.41.97.97 0 01-.7.3zM12 3.04a.969.969 0 01-1-.96V2a1 1 0 012 0 1.038 1.038 0 01-1 1.04z"})]})}),fR=({size:a=24,width:t,height:e,...i})=>L.jsx("svg",{"aria-hidden":"true",focusable:"false",height:a||e,role:"presentation",viewBox:"0 0 24 24",width:a||t,...i,children:L.jsx("path",{d:"M12.62 20.81c-.34.12-.9.12-1.24 0C8.48 19.82 2 15.69 2 8.69 2 5.6 4.49 3.1 7.56 3.1c1.82 0 3.43.88 4.44 2.24a5.53 5.53 0 0 1 4.44-2.24C19.51 3.1 22 5.6 22 8.69c0 7-6.48 11.13-9.38 12.12Z",fill:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5})}),Jf=a=>L.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...a,children:[L.jsx("path",{d:"M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),L.jsx("path",{d:"M22 22L20 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}),Ky=({className:a,classNames:t})=>{const[e,i]=_.useState(!1),{theme:r,setTheme:o}=cR(),{Component:c,slots:u,isSelected:h,getBaseProps:f,getInputProps:p,getWrapperProps:m}=lR({isSelected:r==="light",onChange:()=>o(r==="light"?"dark":"light")});return _.useEffect(()=>{i(!0)},[e]),e?L.jsxs(c,{"aria-label":h?"Switch to dark mode":"Switch to light mode",...f({className:ou("px-px transition-opacity hover:opacity-80 cursor-pointer",a,t?.base)}),children:[L.jsx(v2,{children:L.jsx("input",{...p()})}),L.jsx("div",{...m(),className:u.wrapper({class:ou(["w-auto h-auto","bg-transparent","rounded-lg","flex items-center justify-center","group-data-[selected=true]:bg-transparent","!text-default-500","pt-px","px-0","mx-0"],t?.wrapper)}),children:h?L.jsx(dR,{size:22}):L.jsx(hR,{size:22})})]}):L.jsx("div",{className:"w-6 h-6"})},pR=()=>{const a=L.jsx(UM,{"aria-label":"Search",classNames:{inputWrapper:"bg-default-100",input:"text-sm"},endContent:L.jsx(RM,{className:"hidden lg:inline-block",children:"/"}),labelPlacement:"outside",placeholder:"Search...",startContent:L.jsx(Jf,{className:"text-base text-default-400 pointer-events-none flex-shrink-0"}),type:"search"});return L.jsxs(tR,{maxWidth:"xl",position:"sticky",children:[L.jsxs(gf,{className:"basis-1/5 sm:basis-full",justify:"start",children:[L.jsx(eR,{className:"gap-3 max-w-fit",children:L.jsxs(pi,{className:"flex justify-start items-center gap-1",color:"foreground",href:"/",children:[L.jsx(uR,{}),L.jsx("p",{className:"font-bold text-inherit",children:Bn.name})]})}),L.jsx("div",{className:"hidden lg:flex gap-4 justify-start ml-2",children:Bn.navItems.map(t=>L.jsx(mf,{children:L.jsx(pi,{className:ou(Wf({color:"foreground"}),"data-[active=true]:text-primary data-[active=true]:font-medium"),color:"foreground",href:t.href,children:t.label})},t.href))})]}),L.jsxs(gf,{className:"hidden sm:flex basis-1/5 sm:basis-full",justify:"end",children:[L.jsx(mf,{className:"hidden lg:flex",children:a}),L.jsx(mf,{className:"hidden sm:flex gap-2",children:L.jsx(Ky,{})})]}),L.jsxs(gf,{className:"sm:hidden basis-1 pl-4",justify:"end",children:[L.jsx(pi,{isExternal:!0,href:Bn.links.hero_ui.github,children:L.jsx(Zf,{className:"text-default-500"})}),L.jsx(Ky,{}),L.jsx(aR,{})]}),L.jsxs(Iw,{children:[a,L.jsx("div",{className:"mx-4 mt-2 flex flex-col gap-2",children:Bn.navMenuItems.map((t,e)=>L.jsx(nR,{children:L.jsx(pi,{color:e===2?"primary":e===Bn.navMenuItems.length-1?"danger":"foreground",href:"#",size:"lg",children:t.label})},`${t}-${e}`))})]})]})};function gR(a){let t=vr(a,{enabled:typeof a.elementType=="string"}),e;return a.orientation==="vertical"&&(e="vertical"),a.elementType!=="hr"?{separatorProps:{...t,role:"separator","aria-orientation":e}}:{separatorProps:t}}function mR(a){const{as:t,className:e,orientation:i,...r}=a;let o=t||"hr";o==="hr"&&i==="vertical"&&(o="div");const{separatorProps:c}=gR({elementType:typeof o=="string"?o:"hr",orientation:i}),u=_.useMemo(()=>fM({orientation:i,className:e}),[i,e]),h=_.useCallback((f={})=>({className:u,role:"separator","data-orientation":i,...c,...r,...f}),[u,i,c,r]);return{Component:o,getDividerProps:h}}var Gw=Ue((a,t)=>{const{Component:e,getDividerProps:i}=mR({...a});return L.jsx(e,{ref:t,...i()})});Gw.displayName="HeroUI.Divider";var Qy=Gw;const Zy=({link:a,children:t})=>L.jsx("div",{className:"space-x-4",children:L.jsx(pi,{className:"text-default-600 hover:text-primary",href:a,isExternal:!0,children:t})}),bR=()=>L.jsx(L.Fragment,{children:L.jsx("footer",{className:"w-full flex items-center justify-center",children:L.jsxs("div",{className:"container mx-auto max-w-7xl px-12 pt-12",children:[L.jsxs("div",{className:"sm:flex gap-8",children:[L.jsxs("div",{className:"space-y-4 flex-1 text-left sm:text-right",children:[L.jsx("h3",{className:"text-lg font-bold",children:""}),L.jsx("div",{className:"space-x-4",children:L.jsx("h4",{className:"text-default-600",children:""})})]}),L.jsx(Qy,{className:"h-auto hidden sm:flex",orientation:"vertical"}),L.jsx(Qy,{className:"w-auto sm:hidden my-3"}),L.jsxs("div",{className:"space-y-4 flex-1",children:[L.jsx("h3",{className:"text-lg font-bold",children:""}),L.jsxs(Zy,{link:Bn.links.github.web,children:[L.jsx(Zf,{className:"mr-2"}),""]}),L.jsxs(Zy,{link:Bn.links.github.crawler,children:[L.jsx(Zf,{className:"mr-2"}),""]})]})]}),L.jsxs("div",{className:"border-t border-default-200 dark:border-default-700 mt-8 pt-8 text-center",children:[L.jsxs("p",{className:"text-sm text-default-600",children:["",L.jsx("br",{}),"",L.jsx(fR,{className:"text-danger inline-block align-middle mx-1"}),"",L.jsx("br",{})]}),L.jsx("div",{className:"w-full flex items-center justify-center py-3",children:L.jsxs(pi,{isExternal:!0,className:"flex items-center gap-1 text-current",href:Bn.links.hero_ui.docs,title:"heroui.com homepage",children:[L.jsx("span",{className:"text-default-600",children:"Powered by"}),L.jsx("p",{className:"text-primary",children:"HeroUI"})]})})]})]})})});function Rr({children:a}){return L.jsxs("div",{className:"relative flex flex-col h-screen",children:[L.jsx(pR,{}),L.jsx("main",{className:"container mx-auto max-w-7xl px-6 flex-grow pt-16",children:a}),L.jsx(bR,{})]})}const vR=a=>L.jsxs("svg",{...a,fill:"none",height:"1em",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"1em",children:[L.jsx("rect",{height:"18",rx:"2",ry:"2",width:"18",x:"3",y:"4"}),L.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),L.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),L.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),yR=a=>L.jsx("svg",{...a,fill:"none",height:"1em",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"1em",children:L.jsx("path",{d:"M3 3h18v18H3zM21 9H3M21 15H3M9 3v18M15 3v18"})}),wR=[{title:"",href:"/calendar",icon:L.jsx(vR,{className:"text-4xl"}),description:""},{title:"",href:"/search",icon:L.jsx(yR,{className:"text-4xl"}),description:""},{title:"",href:"/teacher-schedule",icon:L.jsx(Jf,{className:"text-4xl"}),description:""},{title:"",href:"/class-schedule",icon:L.jsx(Jf,{className:"text-4xl"}),description:""}],xR=()=>L.jsxs("section",{className:"w-full max-w-4xl mx-auto py-8 md:py-10",children:[L.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:""}),L.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:wR.map(a=>L.jsx(pi,{className:"w-full",href:a.href,children:L.jsxs(Cw,{className:"h-full w-full hover:bg-default-100 transition-colors",children:[L.jsxs(ww,{className:"flex items-center gap-4",children:[a.icon,L.jsx("h3",{className:"text-lg font-semibold",children:a.title})]}),L.jsx(bw,{children:L.jsx("p",{className:"text-default-600",children:a.description})})]})},a.title))})]}),AR=/((?:\d{3}\s)?\s\d{1,2}\s[/\-]\s\d{1,2}\s?)(?!\d)/g,SR=a=>`pl-${(a-1)*4}`,ER=(a,t)=>{if(!t||t.length===0)return Jy(a);const e=[...t].sort((o,c)=>c.text.length-o.text.length);let i=[a];e.forEach(o=>{const c=[];i.forEach(u=>{if(typeof u=="string"){const h=u.split(o.text);for(let f=0;f<h.length;f++)h[f]&&c.push(h[f]),f<h.length-1&&c.push(o)}else c.push(u)}),i=c});const r=o=>/[\s.,;:!?\u0000-)\]"']/.test(o);return i.map((o,c)=>{if(typeof o=="string")return L.jsx("span",{children:Jy(o)},c);{const u=c>0&&typeof i[c-1]=="string"?i[c-1]:"",h=c<i.length-1&&typeof i[c+1]=="string"?i[c+1]:"",f=u&&!u.match(/[\s]$/),p=h&&!h.match(/^[\s]/)&&!(h&&r(h[0]));return L.jsxs(L.Fragment,{children:[f&&" ",L.jsx(pi,{isExternal:!0,showAnchorIcon:!0,className:"text-blue-600 underline hover:text-blue-800",href:o.link,children:o.text},c),p&&" "]})}})},Jy=a=>{if(!a)return a;const t=AR,e=[];let i=0,r;for(;(r=t.exec(a))!==null;)r.index>i&&e.push(a.slice(i,r.index)),e.push(L.jsx("span",{className:"text-red-600 font-bold",children:r[0]},r.index)),i=r.index+r[0].length;return i<a.length&&e.push(a.slice(i)),t.lastIndex=0,e.length>0?e:a};function _R(){const[a,t]=_.useState([]),[e,i]=_.useState(!0);return _.useEffect(()=>{fetch(`${Bn.links.github.api}/announcement.json`).then(r=>r.json()).then(r=>{t(r),i(!1)}).catch(()=>i(!1))},[]),L.jsxs(Rr,{children:[L.jsx("section",{className:"flex flex-col items-center justify-center gap-4 py-8 md:py-10",children:e?L.jsx(Hp,{}):L.jsxs(Cw,{isFooterBlurred:!0,className:"border-none w-full max-w-2xl bg-yellow-50",radius:"lg",children:[L.jsx(ww,{className:"flex justify-center text-center w-full",children:L.jsx("p",{className:"text-2xl font-bold w-full",children:""})}),L.jsx(bw,{children:L.jsx("ul",{className:"space-y-2",children:a.map((r,o)=>L.jsx("li",{className:SR(r.level),children:L.jsx("span",{className:"text-default-700 whitespace-pre-line",children:ER(r.text,r.href)})},o))})}),L.jsx(mM,{children:L.jsx(pi,{isExternal:!0,showAnchorIcon:!0,href:Bn.links.utaipei.sky,children:""})})]})}),L.jsx(xR,{})]})}var[$k,CR]=Su({name:"ButtonGroupContext",strict:!1});function TR(a){var t,e,i,r,o,c,u,h,f;const p=CR(),m=Ss(),v=!!p,{ref:y,as:w,children:x,startContent:E,endContent:S,autoFocus:k,className:M,spinner:N,isLoading:D=!1,disableRipple:z=!1,fullWidth:B=(t=p?.fullWidth)!=null?t:!1,radius:U=p?.radius,size:Q=(e=p?.size)!=null?e:"md",color:it=(i=p?.color)!=null?i:"default",variant:I=(r=p?.variant)!=null?r:"solid",disableAnimation:j=(c=(o=p?.disableAnimation)!=null?o:m?.disableAnimation)!=null?c:!1,isDisabled:Z=(u=p?.isDisabled)!=null?u:!1,isIconOnly:$=(h=p?.isIconOnly)!=null?h:!1,spinnerPlacement:J="start",onPress:T,onClick:P,...H}=a,rt=w||"button",R=typeof rt=="string",G=Be(y),tt=(f=z||m?.disableRipple)!=null?f:j,{isFocusVisible:X,isFocused:at,focusProps:lt}=la({autoFocus:k}),ot=Z||D,ft=_.useMemo(()=>gM({size:Q,color:it,variant:I,radius:U,fullWidth:B,isDisabled:ot,isInGroup:v,disableAnimation:j,isIconOnly:$,className:M}),[Q,it,I,U,B,ot,v,$,j,M]),{onPress:Rt,onClear:jt,ripples:fe}=Ew(),Se=_.useCallback(an=>{tt||ot||j||G.current&&Rt(an)},[tt,ot,j,G,Rt]),{buttonProps:pe,isPressed:sn}=xw({elementType:w,isDisabled:ot,onPress:br(T,Se),onClick:P,...H},G),{isHovered:Mn,hoverProps:vi}=Ar({isDisabled:ot}),Ct=_.useCallback((an={})=>({"data-disabled":gt(ot),"data-focus":gt(at),"data-pressed":gt(sn),"data-focus-visible":gt(X),"data-hover":gt(Mn),"data-loading":gt(D),...en(pe,lt,vi,vr(H,{enabled:R}),vr(an)),className:ft}),[D,ot,at,sn,R,X,Mn,pe,lt,vi,H,ft]),Xe=an=>_.isValidElement(an)?_.cloneElement(an,{"aria-hidden":!0,focusable:!1}):null,_s=Xe(E),ba=Xe(S),va=_.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[Q],[Q]),yi=_.useCallback(()=>({ripples:fe,onClear:jt}),[fe,jt]);return{Component:rt,children:x,domRef:G,spinner:N,styles:ft,startContent:_s,endContent:ba,isLoading:D,spinnerPlacement:J,spinnerSize:va,disableRipple:tt,getButtonProps:Ct,getRippleProps:yi,isIconOnly:$}}var qw=Ue((a,t)=>{const{Component:e,domRef:i,children:r,spinnerSize:o,spinner:c=L.jsx(Hp,{color:"current",size:o}),spinnerPlacement:u,startContent:h,endContent:f,isLoading:p,disableRipple:m,getButtonProps:v,getRippleProps:y,isIconOnly:w}=TR({...a,ref:t});return L.jsxs(e,{ref:i,...v(),children:[h,p&&u==="start"&&c,p&&w?null:r,p&&u==="end"&&c,f,!m&&L.jsx(Sw,{...y()})]})});qw.displayName="HeroUI.Button";var MR=qw;const Je=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),tp=[.001,0,0,.001,0,0],bf=1.35,Cn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},vs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Yw="pdfjs_internal_editor_",Et={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},It={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},RR={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ye={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},eu={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ye={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ar={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Du={ERRORS:0,WARNINGS:1,INFOS:5},mu={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},jc={moveTo:0,lineTo:1,curveTo:2,closePath:3},NR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Pu=Du.WARNINGS;function kR(a){Number.isInteger(a)&&(Pu=a)}function LR(){return Pu}function Ou(a){Pu>=Du.INFOS&&console.log(`Info: ${a}`)}function _t(a){Pu>=Du.WARNINGS&&console.log(`Warning: ${a}`)}function Xt(a){throw new Error(a)}function Ae(a,t){a||Xt(t)}function DR(a){switch(a?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Xw(a,t=null,e=null){if(!a)return null;if(e&&typeof a=="string"&&(e.addDefaultProtocol&&a.startsWith("www.")&&a.match(/\./g)?.length>=2&&(a=`http://${a}`),e.tryConvertEncoding))try{a=zR(a)}catch{}const i=t?URL.parse(a,t):URL.parse(a);return DR(i)?i:null}function Ww(a,t,e=!1){const i=URL.parse(a);return i?(i.hash=t,i.href):e&&Xw(a,"http://example.com")?a.split("#",1)[0]+`${t?`#${t}`:""}`:""}function $t(a,t,e,i=!1){return Object.defineProperty(a,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const ga=(function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t})();class t0 extends ga{constructor(t,e){super(t,"PasswordException"),this.code=e}}class vf extends ga{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class ep extends ga{constructor(t){super(t,"InvalidPDFException")}}class bu extends ga{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class PR extends ga{constructor(t){super(t,"FormatError")}}class xs extends ga{constructor(t){super(t,"AbortException")}}function Kw(a){(typeof a!="object"||a?.length===void 0)&&Xt("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const i=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),c=a.subarray(r,o);i.push(String.fromCharCode.apply(null,c))}return i.join("")}function al(a){typeof a!="string"&&Xt("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=a.charCodeAt(i)&255;return e}function OR(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function $R(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function IR(){try{return new Function(""),!0}catch{return!1}}class je{static get isLittleEndian(){return $t(this,"isLittleEndian",$R())}static get isEvalSupported(){return $t(this,"isEvalSupported",IR())}static get isOffscreenCanvasSupported(){return $t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return $t(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return $t(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return $t(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const yf=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));class mt{static makeHexColor(t,e,i){return`#${yf[t]}${yf[e]}${yf[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const r=t[i],o=t[i+1];t[i]=r*e[0]+o*e[2]+e[4],t[i+1]=r*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const r=e[0],o=e[1],c=e[2],u=e[3],h=e[4],f=e[5];for(let p=0;p<6;p+=2){const m=t[i+p],v=t[i+p+1];t[i+p]=m*r+v*c+h,t[i+p+1]=m*o+v*u+f}}static applyInverseTransform(t,e){const i=t[0],r=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-i*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,i){const r=e[0],o=e[1],c=e[2],u=e[3],h=e[4],f=e[5],p=t[0],m=t[1],v=t[2],y=t[3];let w=r*p+h,x=w,E=r*v+h,S=E,k=u*m+f,M=k,N=u*y+f,D=N;if(o!==0||c!==0){const z=o*p,B=o*v,U=c*m,Q=c*y;w+=U,S+=U,E+=Q,x+=Q,k+=z,D+=z,N+=B,M+=B}i[0]=Math.min(i[0],w,E,x,S),i[1]=Math.min(i[1],k,N,M,D),i[2]=Math.max(i[2],w,E,x,S),i[3]=Math.max(i[3],k,N,M,D)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],r=t[1],o=t[2],c=t[3],u=i**2+r**2,h=i*o+r*c,f=o**2+c**2,p=(u+f)/2,m=Math.sqrt(p**2-(u*f-h**2));e[0]=Math.sqrt(p+m||1),e[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>c?null:[i,o,r,c]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,r,o){o[0]=Math.min(o[0],t,i),o[1]=Math.min(o[1],e,r),o[2]=Math.max(o[2],t,i),o[3]=Math.max(o[3],e,r)}static#t(t,e,i,r,o,c,u,h,f,p){if(f<=0||f>=1)return;const m=1-f,v=f*f,y=v*f,w=m*(m*(m*t+3*f*e)+3*v*i)+y*r,x=m*(m*(m*o+3*f*c)+3*v*u)+y*h;p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],x),p[2]=Math.max(p[2],w),p[3]=Math.max(p[3],x)}static#e(t,e,i,r,o,c,u,h,f,p,m,v){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,i,r,o,c,u,h,-m/p,v);return}const y=p**2-4*m*f;if(y<0)return;const w=Math.sqrt(y),x=2*f;this.#t(t,e,i,r,o,c,u,h,(-p+w)/x,v),this.#t(t,e,i,r,o,c,u,h,(-p-w)/x,v)}static bezierBoundingBox(t,e,i,r,o,c,u,h,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,h),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,h),this.#e(t,i,o,u,e,r,c,h,3*(-t+3*(i-o)+u),6*(t-2*i+o),3*(i-t),f),this.#e(t,i,o,u,e,r,c,h,3*(-e+3*(r-c)+h),6*(e-2*r+c),3*(r-e),f)}}function zR(a){return decodeURIComponent(escape(a))}let wf=null,e0=null;function FR(a){return wf||(wf=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,e0=new Map([["","t"]])),a.replaceAll(wf,(t,e,i)=>e?e.normalize("NFKC"):e0.get(i))}function Qw(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),Kw(a)}const jp="pdfjs_internal_id_";function BR(a,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,r,...o]=e;if(!a(i)&&!Number.isInteger(i)||!t(r))return!1;const c=o.length;let u=!0;switch(r.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;u=!1;break;default:return!1}for(const h of o)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function tn(a,t,e){return Math.min(Math.max(a,t),e)}function Zw(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(Kw(a))}function HR(a){return Uint8Array.fromBase64?Uint8Array.fromBase64(a):al(atob(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...t){return new Promise(e=>{e(a(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(a){return a.reduce((t,e)=>t+e,0)});const zi="http://www.w3.org/2000/svg";class Sr{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function rl(a,t="text"){if(jo(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class ol{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:o=0,offsetY:c=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=o,this.offsetY=c,i*=e;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,v,y;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,m=0,v=0,y=1;break;case 90:p=0,m=1,v=1,y=0;break;case 270:p=0,m=-1,v=-1,y=0;break;case 0:p=1,m=0,v=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,y=-y);let w,x,E,S;p===0?(w=Math.abs(f-t[1])*i+o,x=Math.abs(h-t[0])*i+c,E=(t[3]-t[1])*i,S=(t[2]-t[0])*i):(w=Math.abs(h-t[0])*i+o,x=Math.abs(f-t[1])*i+c,E=(t[2]-t[0])*i,S=(t[3]-t[1])*i),this.transform=[p*i,m*i,v*i,y*i,w-p*i*h-v*i*f,x-m*i*h-y*i*f],this.width=E,this.height=S}get rawDims(){const t=this.viewBox;return $t(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new ol({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){const i=[t,e];return mt.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];mt.applyTransform(e,this.transform);const i=[t[2],t[3]];return mt.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return mt.applyInverseTransform(i,this.transform),i}}class Up extends ga{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function $u(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function Vp(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function jR(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function UR(a,t="document.pdf"){if(typeof a!="string")return t;if($u(a))return _t('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(a);if(!i)return t;const r=u=>{try{let h=decodeURIComponent(u);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:u):h}catch{return u}},o=/\.pdf$/i,c=i.pathname.split("/").at(-1);if(o.test(c))return r(c);if(i.searchParams.size>0){const u=Array.from(i.searchParams.values()).reverse();for(const f of u)if(o.test(f))return r(f);const h=Array.from(i.searchParams.keys()).reverse();for(const f of h)if(o.test(f))return r(f)}if(i.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(h)return r(h[0])}return t}class n0{started=Object.create(null);times=[];time(t){t in this.started&&_t(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||_t(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:o}of this.times)t.push(`${i.padEnd(e)} ${o-r}ms
`);return t.join("")}}function jo(a,t){const e=t?URL.parse(a,t):URL.parse(a);return e?.protocol==="http:"||e?.protocol==="https:"}function Kn(a){a.preventDefault()}function xe(a){a.preventDefault(),a.stopPropagation()}function VR(a){console.log("Deprecated API usage: "+a)}class Jw{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(c+=p,u+=m):f==="+"&&(c-=p,u-=m),new Date(Date.UTC(i,r,o,c,u,h))}}function GR(a,{scale:t=1,rotation:e=0}){const{width:i,height:r}=a.attributes.style,o=[0,0,parseInt(i),parseInt(r)];return new ol({viewBox:o,userUnit:1,scale:t,rotation:e})}function Gp(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(_t(`Not a valid color format: "${a}"`),[0,0,0])}function qR(a){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of a.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;a.set(e,Gp(i))}t.remove()}function ie(a){const{a:t,b:e,c:i,d:r,e:o,f:c}=a.getTransform();return[t,e,i,r,o,c]}function ci(a){const{a:t,b:e,c:i,d:r,e:o,f:c}=a.getTransform().invertSelf();return[t,e,i,r,o,c]}function ca(a,t,e=!1,i=!0){if(t instanceof ol){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:c}=a,u=je.isCSSRoundSupported,h=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${o}px`,p=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,m=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(c.width=p,c.height=m):(c.width=m,c.height=p)}i&&a.setAttribute("data-main-rotation",t.rotation)}class mi{constructor(){const{pixelRatio:t}=mi;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,r,o=-1){let c=1/0,u=1/0,h=1/0;i=mi.capPixels(i,o),i>0&&(c=Math.sqrt(i/(t*e))),r!==-1&&(u=r/t,h=r/e);const f=Math.min(c,u,h);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const np=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class qo{#t=null;#e=null;#n;#i=null;#a=null;#s=null;static#o=null;constructor(t){this.#n=t,qo.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",Kn,{signal:e}),t.addEventListener("pointerdown",qo.#r,{signal:e});const i=this.#i=document.createElement("div");i.className="buttons",t.append(i);const r=this.#n.toolbarPosition;if(r){const{style:o}=t,c=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#r(t){t.stopPropagation()}#d(t){this.#n._focusEventsAllowed=!1,xe(t)}#l(t){this.#n._focusEventsAllowed=!0,xe(t)}#h(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Kn,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",qo.#o[t]),this.#h(i),i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#i.append(i)}get#u(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#h(e),this.#i.append(e,this.#u),this.#a=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#h(e),this.#i.append(e,this.#u)}async addEditSignatureButton(t){const e=this.#s=await t.renderEditButton(this.#n);this.#h(e),this.#i.append(e,this.#u)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(t){this.#s&&(this.#s.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class YR{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Kn,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#s(),t}#a(t,e){let i=0,r=0;for(const o of t){const c=o.y+o.height;if(c<i)continue;const u=o.x+(e?o.width:0);if(c>i){r=u,i=c;continue}e?u>r&&(r=u):u<r&&(r=u)}return[e?1-r:r,i]}show(t,e,i){const[r,o]=this.#a(e,i),{style:c}=this.#e||=this.#i();t.append(this.#e),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=this.#n._signal;t.addEventListener("contextmenu",Kn,{signal:i}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#t.append(t)}}function tx(a,t,e){for(const i of e)t.addEventListener(i,a[i].bind(a))}class XR{#t=0;get id(){return`${Yw}${this.#t++}`}}class qp{#t=Qw();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return $t(this,"_isSVGFittingCanvas",o)}async#i(t,e){this.#n||=new Map;let i=this.#n.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(i.url=e,r=await rl(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=qp._isSVGFittingCanvas,c=new FileReader,u=new Image,h=new Promise((f,p)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,f()},c.onload=async()=>{const m=i.svgUrl=c.result;u.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},u.onerror=c.onerror=p});c.readAsDataURL(r),await h}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){_t(r),i=null}return this.#n.set(t,i),i&&this.#n.set(i.id,i),i}async getFromFile(t){const{lastModified:e,name:i,size:r,type:o}=t;return this.#i(`${e}_${i}_${r}_${o}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const i=await e;return this.#i(t,i)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let i=this.#n.get(t);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,i),this.#n.set(i.id,i),i}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class WR{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:i,mustExec:r,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(r&&t(),this.#e)return;const h={cmd:t,undo:e,post:i,type:o};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(h);return}if(c&&this.#t[this.#i].type===o){u&&(h.undo=this.#t[this.#i].undo),this.#t[this.#i]=h;return}const f=this.#i+1;f===this.#n?this.#t.splice(0,1):(this.#i=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(h)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class ll{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=je.platform;for(const[i,r,o={}]of t)for(const c of i){const u=c.startsWith("mac+");e&&u?(this.callbacks.set(c.slice(4),{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1))):!e&&!u&&(this.callbacks.set(c,{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#t(e));if(!i)return;const{callback:r,options:{bubbles:o=!1,args:c=[],checker:u=null}}=i;u&&!u(t,e)||(r.bind(t,...c,e)(),o||xe(e))}}class Yp{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return qR(t),$t(this,"_colors",t)}convert(t){const e=Gp(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((o,c)=>o===e[c]))return Yp._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?mt.makeHexColor(...e):t}}class As{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#a=null;#s=null;#o=null;#r=new WR;#d=null;#l=null;#h=0;#u=new Set;#f=null;#p=null;#g=new Set;_editorUndoBar=null;#c=!1;#m=!1;#b=!1;#v=null;#w=null;#x=null;#A=null;#_=!1;#T=null;#R=new XR;#S=!1;#M=!1;#C=null;#k=null;#L=null;#D=null;#B=null;#E=Et.NONE;#y=new Set;#I=null;#z=null;#U=null;#V=null;#G={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#P=null;#O=null;#j=null;#W=null;#$=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=As.prototype,e=c=>c.#O.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),i=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return $t(this,"_keyboardManager",new ll([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#O.contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#O.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,i,r,o,c,u,h,f,p,m,v,y,w,x){const E=this._signal=this.#t.signal;this.#O=t,this.#j=e,this.#W=i,this.#a=r,this.#z=o,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:E}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),c._on("setpreference",this.onSetPreference.bind(this),{signal:E}),c._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:E}),this.#st(),this.#lt(),this.#Q(),this.#s=u.annotationStorage,this.#v=u.filterFactory,this.#U=h,this.#A=f||null,this.#c=p,this.#m=m,this.#b=v,this.#B=y||null,this.viewParameters={realScale:Sr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=x!==!1}destroy(){this.#$?.resolve(),this.#$=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#g.clear(),this.#D?.clear(),this.#e=null,this.#y.clear(),this.#r.destroy(),this.#a?.destroy(),this.#z?.destroy(),this.#T?.hide(),this.#T=null,this.#L?.destroy(),this.#L=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#P&&(clearTimeout(this.#P),this.#P=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#B}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return $t(this,"hcmFilter",this.#U?this.#v.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return $t(this,"direction",getComputedStyle(this.#O).direction)}get highlightColors(){return $t(this,"highlightColors",this.#A?new Map(this.#A.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColorNames(){return $t(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=t}setMainHighlightColorPicker(t){this.#L=t}editAltText(t,e=!1){this.#a?.editAltText(this,t,e)}getSignature(t){this.#z?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#z}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#b=e;break}}onPageChanging({pageNumber:t}){this.#h=t-1}focusMainContainer(){this.#O.focus()}findParent(t,e){for(const i of this.#i.values()){const{x:r,y:o,width:c,height:u}=i.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=o&&e<=o+u)return i}return null}disableUserSelect(t=!1){this.#j.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#g.add(t)}removeShouldRescale(t){this.#g.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Sr.PDF_TO_CSS_UNITS;for(const e of this.#g)e.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Y({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#K(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of this.#i.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:c}=e,u=e.toString(),f=this.#Y(e).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;e.empty();const m=this.#K(f),v=this.#E===Et.NONE,y=()=>{m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:c,text:u}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Et.HIGHLIGHT,y);return}y()}#nt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#Y(t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#T||=new YR(this),this.#T.show(i,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}a11yAlert(t,e=null){const i=this.#W;i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}#it(){const t=document.getSelection();if(!t||t.isCollapsed){this.#I&&(this.#T?.hide(),this.#I=null,this.#N({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#I)return;const r=this.#Y(t).closest(".textLayer");if(!r){this.#I&&(this.#T?.hide(),this.#I=null,this.#N({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#I=e,this.#N({hasSelectedText:!0}),!(this.#E!==Et.HIGHLIGHT&&this.#E!==Et.NONE)&&(this.#E===Et.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#E===Et.HIGHLIGHT?this.#K(r):null;o?.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),h=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}}#X(t=""){this.#E===Et.HIGHLIGHT?this.highlightSelection(t):this.#c&&this.#nt()}#st(){document.addEventListener("selectionchange",this.#it.bind(this),{signal:this._signal})}#at(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#rt(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#y)if(e.div.contains(t)){this.#k=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#k)return;const[t,e]=this.#k;this.#k=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#Q(){if(this.#C)return;this.#C=new AbortController;const t=this.combinedSignal(this.#C);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ot(){this.#C?.abort(),this.#C=null}#Z(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#J(){this.#d?.abort(),this.#d=null}#lt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Q(),this.#Z()}removeEditListeners(){this.#ot(),this.#J()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of this.#p)if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of this.#p)if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of this.#y){const r=i.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const c of this.#p)if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){_t(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const h of i){const f=await r.deserialize(h);if(!f)return;o.push(f)}const c=()=>{for(const h of o)this.#tt(h);this.#et(o)},u=()=>{for(const h of o)h.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(o){_t(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==Et.NONE&&!this.isEditorHandlingKeyboard&&As._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#N(t){Object.entries(t).some(([i,r])=>this.#G[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#G,t)}),this.#E===Et.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#F([[It.HIGHLIGHT_FREE,!0]]))}#F(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#at(),this.#Z(),this.#N({isEditing:this.#E!==Et.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:this.#r.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#rt(),this.#J(),this.#N({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#p){this.#p=t;for(const e of this.#p)this.#F(e.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#h}addLayer(t){this.#i.set(t.pageIndex,t),this.#S?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,e=null,i=!1,r=!1){if(this.#E!==t&&!(this.#$&&(await this.#$.promise,!this.#$))){if(this.#$=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#E=t,t===Et.NONE){this.setEditingState(!1),this.#ut(),this._editorUndoBar?.hide(),this.#$.resolve();return}t===Et.SIGNATURE&&await this.#z?.loadSignatures(),this.setEditingState(!0),await this.#ct(),this.unselectAll();for(const o of this.#i.values())o.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),this.#$.resolve();return}for(const o of this.#n.values())o.annotationElementId===e||o.id===e?(this.setSelected(o),r&&o.enterInEditMode()):o.unselect();this.#$.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#p){switch(t){case It.CREATE:this.currentLayer.addNewEditor(e);return;case It.HIGHLIGHT_DEFAULT_COLOR:this.#L?.updateColor(e);break;case It.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#V||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const i of this.#y)i.updateParams(t,e);for(const i of this.#p)i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#V?.get(It.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#F([[It.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#M!==t){this.#M=t;for(const e of this.#i.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ct(){if(!this.#S){this.#S=!0;const t=[];for(const e of this.#i.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ut(){if(this.unselectAll(),this.#S){this.#S=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const i of this.#n.values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#D?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#tt(t){const e=this.#i.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#F(t.propertiesToUpdate))}get#dt(){let t=null;for(t of this.#y);return t}updateUI(t){this.#dt===t&&this.#F(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#F(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#y.has(t)){this.#y.delete(t),t.unselect(),this.#N({hasSelectedEditor:this.hasSelection});return}this.#y.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#l?.commitOrRemove();for(const e of this.#y)e!==t&&e.unselect();this.#y.clear(),this.#y.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}isSelected(t){return this.#y.has(t)}get firstSelectedEditor(){return this.#y.values().next().value}unselect(t){t.unselect(),this.#y.delete(t),this.#N({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#y.size!==0}get isEnterHandled(){return this.#y.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#r.undo(),this.#N({hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()}),this._editorUndoBar?.hide()}redo(){this.#r.redo(),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:this.#r.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(t){this.#r.add(t),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}cleanUndoStack(t){this.#r.cleanType(t)}#q(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#y],i=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},r=()=>{for(const o of e)this.#tt(o)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#et(t){for(const e of this.#y)e.unselect();this.#y.clear();for(const e of t)e.isEmpty()||(this.#y.add(e),e.select());this.#N({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#y)t.commit();this.#et(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#E!==Et.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const t of this.#y)t.unselect();this.#y.clear(),this.#N({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[r,o]=this.#H,c=[...this.#y],u=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const h of c)this.#n.has(h.id)&&(h.translateInPage(r,o),h.translationDone())},undo:()=>{for(const h of c)this.#n.has(h.id)&&(h.translateInPage(-r,-o),h.translationDone())},mustExec:!1})},u);for(const h of c)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#y)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:r,y:o,pageIndex:c},u]of t)u.newX=r,u.newY=o,u.newPageIndex=c,e||=r!==u.savedX||o!==u.savedY||c!==u.savedPageIndex;if(!e)return!1;const i=(r,o,c,u)=>{if(this.#n.has(r.id)){const h=this.#i.get(u);h?r._setParentAndPosition(h,o,c):(r.pageIndex=u,r.x=o,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:c,newPageIndex:u}]of t)i(r,o,c,u)},undo:()=>{for(const[r,{savedX:o,savedY:c,savedPageIndex:u}]of t)i(r,o,c,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const i of this.#f.keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#y.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#E}get imageManager(){return $t(this,"imageManager",new qp)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:r,width:o,height:c}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,m,v)=>({x:(p-r)/c,y:1-(f+m-i)/o,width:v/c,height:m/o});break;case"180":u=(f,p,m,v)=>({x:1-(f+m-i)/o,y:1-(p+v-r)/c,width:m/o,height:v/c});break;case"270":u=(f,p,m,v)=>({x:1-(p+v-r)/c,y:(f-i)/o,width:v/c,height:m/o});break;default:u=(f,p,m,v)=>({x:(f-i)/o,y:(p-r)/c,width:m/o,height:v/c});break}const h=[];for(let f=0,p=e.rangeCount;f<p;f++){const m=e.getRangeAt(f);if(!m.collapsed)for(const{x:v,y,width:w,height:x}of m.getClientRects())w===0||x===0||h.push(u(v,y,w,x))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const i=this.#s.getRawValue(e);i&&(this.#E===Et.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){const r=this.#D?.get(t);r&&(r.setCanvas(e,i),this.#D.delete(t))}addMissingCanvas(t,e){(this.#D||=new Map).set(t,e)}}class fi{#t=null;#e=!1;#n=null;#i=null;#a=null;#s=null;#o=!1;#r=null;#d=null;#l=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#d=t,this.#u=t._uiManager.useNewAltTextFlow,fi.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){fi._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",fi.#f.missing),e.setAttribute("data-l10n-id",fi.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#d._uiManager._signal;t.addEventListener("contextmenu",Kn,{signal:i}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const r=o=>{o.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#o=!0,r(o))},{signal:i}),await this.#g(),t}get#p(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#h=await fi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#g())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#r?.remove(),this.#r=null;return}if(!this.#r){const e=this.#r=document.createElement("div");e.className="noAltTextBadge",this.#d.div.append(e)}this.#r.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#h),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:o=!1}){i&&(this.#l=i,this.#h=r),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#g())}toggle(t=!1){this.#n&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!t)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#a=null,this.#r?.remove(),this.#r=null}async#g(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",fi.#f[this.#p]),this.#i?.setAttribute("data-l10n-id",fi.#f[`${this.#p}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#d.id}`;const r=100,o=this.#d._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#d.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Iu{#t;#e=!1;#n=null;#i;#a;#s;#o;#r=null;#d;#l=null;#h;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:c=null,signal:u}){this.#t=t,this.#n=i,this.#i=e,this.#a=r,this.#s=o,this.#o=c,this.#h=new AbortController,this.#d=AbortSignal.any([u,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/mi.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#r)return;const r=this.#r=new AbortController,o=AbortSignal.any([this.#d,r.signal]),c=this.#t,u={capture:!0,signal:o,passive:!1},h=f=>{f.pointerType==="touch"&&(this.#r?.abort(),this.#r=null)};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(xe(f),h(f))},u),c.addEventListener("pointerup",h,u),c.addEventListener("pointercancel",h,u);return}if(!this.#u){this.#u=new AbortController;const r=AbortSignal.any([this.#d,this.#u.signal]),o=this.#t,c={signal:r,capture:!1,passive:!1};o.addEventListener("touchmove",this.#p.bind(this),c);const u=this.#g.bind(this);o.addEventListener("touchend",u,c),o.addEventListener("touchcancel",u,c),c.capture=!0,o.addEventListener("pointerdown",xe,c),o.addEventListener("pointermove",xe,c),o.addEventListener("pointercancel",xe,c),o.addEventListener("pointerup",xe,c),this.#a?.()}if(xe(t),t.touches.length!==2||this.#n?.()){this.#l=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#p(t){if(!this.#l||t.touches.length!==2)return;xe(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:r,screenY:o}=e,{screenX:c,screenY:u}=i,h=this.#l,{touch0X:f,touch0Y:p,touch1X:m,touch1Y:v}=h,y=m-f,w=v-p,x=c-r,E=u-o,S=Math.hypot(x,E)||1,k=Math.hypot(y,w)||1;if(!this.#e&&Math.abs(k-S)<=Iu.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=r,h.touch0Y=o,h.touch1X=c,h.touch1Y=u,!this.#e){this.#e=!0;return}const M=[(r+c)/2,(o+u)/2];this.#s?.(M,k,S)}#g(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#l&&(xe(t),this.#l=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#r?.abort(),this.#r=null}}class bt{#t=null;#e=null;#n=null;#i=!1;#a=null;#s="";#o=!1;#r=null;#d=null;#l=null;#h=null;#u="";#f=!1;#p=null;#g=!1;#c=!1;#m=!1;#b=null;#v=0;#w=0;#x=null;#A=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#T=bt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Yp;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=bt.prototype._resizeWithKeyboard,e=As.TRANSLATE_SMALL,i=As.TRANSLATE_BIG;return $t(this,"_resizerKeyboardManager",new ll([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],bt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[o,c];const[u,h]=this.parentDimensions;this.x=t.x/u,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return $t(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new KR({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(bt._l10n??=t,bt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),bt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);bt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Xt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(t){this.#_=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#j(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[o,c]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/o,this.y=(e+r)/c,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r),this._onTranslated()}#R([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#R(this.parentDimensions,t,e)}translateInPage(t,e){this.#p||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#p||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,o]}=this;if(this.x+=t/r,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:u}=this;const[h,f]=this.getBaseTranslation();c+=h,u+=f;const{style:p}=i;p.left=`${(100*c).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(c,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#p&&(this.#p[0]!==this.x||this.#p[1]!==this.y)}get _hasBeenResized(){return!!this.#p&&(this.#p[2]!==this.width||this.#p[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=bt,r=i/t,o=i/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,r]}=this;let{x:o,y:c,width:u,height:h}=this;if(u*=i,h*=r,o*=i,c*=r,this._mustFixPosition)switch(t){case 0:o=tn(o,0,i-u),c=tn(c,0,r-h);break;case 90:o=tn(o,0,i-h),c=tn(c,u,r);break;case 180:o=tn(o,u,i),c=tn(c,h,r);break;case 270:o=tn(o,h,i),c=tn(c,0,r-u);break}this.x=o/=i,this.y=c/=r;const[f,p]=this.getBaseTranslation();o+=f,c+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#S(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return bt.#S(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return bt.#S(t,e,360-this.parentRotation)}#M(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,r]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*t/i).toFixed(2)}%`,this.#o||(o.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,r=i.endsWith("%"),o=!this.#o&&e.endsWith("%");if(r&&o)return;const[c,u]=this.parentDimensions;r||(t.width=`${(100*parseFloat(i)/c).toFixed(2)}%`),!this.#o&&!o&&(t.height=`${(100*parseFloat(e)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#C(){if(this.#r)return;this.#r=document.createElement("div"),this.#r.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");this.#r.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#k.bind(this,i),{signal:e}),r.addEventListener("contextmenu",Kn,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#r)}#k(t,e){e.preventDefault();const{isMac:i}=je.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#n?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#d=[e.screenX,e.screenY];const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#B.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",xe,{passive:!1,signal:c}),window.addEventListener("contextmenu",Kn,{signal:c}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=h,this.#D()};window.addEventListener("pointerup",f,{signal:c}),window.addEventListener("blur",f,{signal:c})}#L(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e;const[o,c]=this.parentDimensions;this.setDims(o*i,c*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#D(){if(!this.#l)return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=this.#l;this.#l=null;const o=this.x,c=this.y,u=this.width,h=this.height;o===t&&c===e&&u===i&&h===r||this.addCommands({cmd:this.#L.bind(this,o,c,u,h),undo:this.#L.bind(this,t,e,i,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#B(t,e){const[i,r]=this.parentDimensions,o=this.x,c=this.y,u=this.width,h=this.height,f=bt.MIN_SIZE/i,p=bt.MIN_SIZE/r,m=this.#M(this.rotation),v=(T,P)=>[m[0]*T+m[2]*P,m[1]*T+m[3]*P],y=this.#M(360-this.rotation),w=(T,P)=>[y[0]*T+y[2]*P,y[1]*T+y[3]*P];let x,E,S=!1,k=!1;switch(t){case"topLeft":S=!0,x=(T,P)=>[0,0],E=(T,P)=>[T,P];break;case"topMiddle":x=(T,P)=>[T/2,0],E=(T,P)=>[T/2,P];break;case"topRight":S=!0,x=(T,P)=>[T,0],E=(T,P)=>[0,P];break;case"middleRight":k=!0,x=(T,P)=>[T,P/2],E=(T,P)=>[0,P/2];break;case"bottomRight":S=!0,x=(T,P)=>[T,P],E=(T,P)=>[0,0];break;case"bottomMiddle":x=(T,P)=>[T/2,P],E=(T,P)=>[T/2,0];break;case"bottomLeft":S=!0,x=(T,P)=>[0,P],E=(T,P)=>[T,0];break;case"middleLeft":k=!0,x=(T,P)=>[0,P/2],E=(T,P)=>[T,P/2];break}const M=x(u,h),N=E(u,h);let D=v(...N);const z=bt._round(o+D[0]),B=bt._round(c+D[1]);let U=1,Q=1,it,I;if(e.fromKeyboard)({deltaX:it,deltaY:I}=e);else{const{screenX:T,screenY:P}=e,[H,rt]=this.#d;[it,I]=this.screenToPageTranslation(T-H,P-rt),this.#d[0]=T,this.#d[1]=P}if([it,I]=w(it/i,I/r),S){const T=Math.hypot(u,h);U=Q=Math.max(Math.min(Math.hypot(N[0]-M[0]-it,N[1]-M[1]-I)/T,1/u,1/h),f/u,p/h)}else k?U=tn(Math.abs(N[0]-M[0]-it),f,1)/u:Q=tn(Math.abs(N[1]-M[1]-I),p,1)/h;const j=bt._round(u*U),Z=bt._round(h*Q);D=v(...E(j,Z));const $=z-D[0],J=B-D[1];this.#p||=[this.x,this.y,this.width,this.height],this.width=j,this.height=Z,this.x=$,this.y=J,this.setDims(i*j,r*Z),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#c)return this._editToolbar;this._editToolbar=new qo(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(fi.initialize(bt._l10n),this.#n=new fi(this),this.#t&&(this.#n.data=this.#t,this.#t=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#V();const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),tx(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#A||=new Iu({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#E.bind(this),onPinching:this.#y.bind(this),onPinchEnd:this.#I.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#E(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#y(t,e,i){let o=.7*(i/e)+1-.7;if(o===1)return;const c=this.#M(this.rotation),u=(z,B)=>[c[0]*z+c[2]*B,c[1]*z+c[3]*B],[h,f]=this.parentDimensions,p=this.x,m=this.y,v=this.width,y=this.height,w=bt.MIN_SIZE/h,x=bt.MIN_SIZE/f;o=Math.max(Math.min(o,1/v,1/y),w/v,x/y);const E=bt._round(v*o),S=bt._round(y*o);if(E===v&&S===y)return;this.#p||=[p,m,v,y];const k=u(v/2,y/2),M=bt._round(p+k[0]),N=bt._round(m+k[1]),D=u(E/2,S/2);this.x=M-D[0],this.y=N-D[1],this.width=E,this.height=S,this.setDims(h*E,f*S),this.fixAndSetPosition(),this._onResizing()}#I(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#D()}pointerdown(t){const{isMac:e}=je.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#U(t);return}this.#z(t)}#z(t){const{isMac:e}=je.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#U(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),c={capture:!0,passive:!1,signal:o},u=f=>{r.abort(),this.#a=null,this.#f=!1,this._uiManager.endDragSession()||this.#z(f),i&&this._onStopDragging()};e&&(this.#v=t.clientX,this.#w=t.clientY,this.#a=t.pointerId,this.#s=t.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._onStartDragging());const{clientX:p,clientY:m,pointerId:v}=f;if(v!==this.#a){xe(f);return}const[y,w]=this.screenToPageTranslation(p-this.#v,m-this.#w);this.#v=p,this.#w=m,this._uiManager.dragSelectedEditors(y,w)},c),window.addEventListener("touchmove",xe,c),window.addEventListener("pointerdown",f=>{f.pointerType===this.#s&&(this.#A||f.isPrimary)&&u(f),xe(f)},c));const h=f=>{if(!this.#a||this.#a===f.pointerId){u(f);return}xe(f)};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const r=this.parentScale,[o,c]=this.pageDimensions,[u,h]=this.pageTranslation,f=t/r,p=e/r,m=this.x*o,v=this.y*c,y=this.width*o,w=this.height*c;switch(i){case 0:return[m+f+u,c-v-p-w+h,m+f+y+u,c-v-p+h];case 90:return[m+p+u,c-v+f+h,m+p+w+u,c-v+f+y+h];case 180:return[m-f-y+u,c-v+p+h,m-f+u,c-v+p+w+h];case 270:return[m-p-w+u,c-v-f-y+h,m-p+u,c-v-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,o,c]=t,u=o-i,h=c-r;switch(this.rotation){case 0:return[i,e-c,u,h];case 90:return[i,e-r,h,u];case 180:return[o,e-r,u,h];case 270:return[o,e-c,h,u];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#c=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#c=!1,!0):!1}isInEditMode(){return this.#c}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:c}=window;return e<c&&r>0&&t<o&&i>0}#V(){if(this.#h||!this.div)return;this.#h=new AbortController;const t=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#V()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){Xt("An editor must be serializable")}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[o,c]=r.pageDimensions,[u,h,f,p]=r.getRectInCurrentCoords(t.rect,c);return r.x=u/o,r.y=h/c,r.width=f/o,r.height=p/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#j(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#A?.destroy(),this.#A=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#C(),this.#r.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#r.children;if(!this.#e){this.#e=Array.from(e);const c=this.#G.bind(this),u=this.#H.bind(this),h=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",c,{signal:h}),f.addEventListener("blur",u,{signal:h}),f.addEventListener("focus",this.#P.bind(this,p),{signal:h}),f.setAttribute("data-l10n-id",bt._l10nResizer[p])}}const i=this.#e[0];let r=0;for(const c of e){if(c===i)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==r){if(o<r)for(let u=0;u<r-o;u++)this.#r.append(this.#r.firstChild);else if(o>r)for(let u=0;u<o-r;u++)this.#r.firstChild.before(this.#r.lastChild);let c=0;for(const u of e){const f=this.#e[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",bt._l10nResizer[f])}}this.#O(0),this.#m=!0,this.#r.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#G(t){bt._resizerKeyboardManager.exec(this,t)}#H(t){this.#m&&t.relatedTarget?.parentNode!==this.#r&&this.#j()}#P(t){this.#u=this.#m?t:""}#O(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#m&&this.#B(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#j(){this.#m=!1,this.#O(-1),this.#D()}_stopResizingWithKeyboard(){this.#j(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#r?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(t){this.#g=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#o=!0;const i=t/e,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#x||=new Map;const{action:i}=t;let r=this.#x.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(i),this.#x.size===0&&(this.#x=null)},bt._telemetryTimeout),this.#x.set(i,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class KR extends bt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const i0=3285377520,zn=4294901760,ui=65535;class ex{constructor(t){this.h1=t?t&4294967295:i0,this.h2=t?t&4294967295:i0}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let x=0,E=t.length;x<E;x++){const S=t.charCodeAt(x);S<=255?e[i++]=S:(e[i++]=S>>>8,e[i++]=S&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,o=i-r*4,c=new Uint32Array(e.buffer,0,r);let u=0,h=0,f=this.h1,p=this.h2;const m=3432918353,v=461845907,y=m&ui,w=v&ui;for(let x=0;x<r;x++)x&1?(u=c[x],u=u*m&zn|u*y&ui,u=u<<15|u>>>17,u=u*v&zn|u*w&ui,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(h=c[x],h=h*m&zn|h*y&ui,h=h<<15|h>>>17,h=h*v&zn|h*w&ui,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=e[r*4+2]<<16;case 2:u^=e[r*4+1]<<8;case 1:u^=e[r*4],u=u*m&zn|u*y&ui,u=u<<15|u>>>17,u=u*v&zn|u*w&ui,r&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&zn|t*36045&ui,e=e*4283543511&zn|((e<<16|t>>>16)*2950163797&zn)>>>16,t^=e>>>1,t=t*444984403&zn|t*60499&ui,e=e*3301882366&zn|((e<<16|t>>>16)*3120437893&zn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const ip=Object.freeze({map:null,hash:"",transfer:void 0});class Xp{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=this.#n.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof bt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=this.#n.get(t);let r=!1;if(i!==void 0)for(const[o,c]of Object.entries(e))i[o]!==c&&(r=!0,i[o]=c);else r=!0,this.#n.set(t,e);r&&this.#i(),e instanceof bt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new nx(this)}get serializable(){if(this.#n.size===0)return ip;const t=new Map,e=new ex,i=[],r=Object.create(null);let o=!1;for(const[c,u]of this.#n){const h=u instanceof bt?u.serialize(!1,r):u;h&&(t.set(c,h),e.update(`${c}:${JSON.stringify(h)}`),o||=!!h.bitmap)}if(o)for(const c of t.values())c.bitmap&&i.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:ip}get editorStats(){let t=null;const e=new Map;for(const i of this.#n.values()){if(!(i instanceof bt))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:o}=r;e.has(o)||e.set(o,Object.getPrototypeOf(i).constructor),t||=Object.create(null);const c=t[o]||=new Map;for(const[u,h]of Object.entries(r)){if(u==="type")continue;let f=c.get(u);f||(f=new Map,c.set(u,f));const p=f.get(h)??0;f.set(h,p+1)}}for(const[i,r]of e)t[i]=r.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof bt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class nx extends Xp{#t;constructor(t){super();const{map:e,hash:i,transfer:r}=t.serializable,o=structuredClone(e,r?{transfer:r}:null);this.#t={map:o,hash:i,transfer:r}}get print(){Xt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return $t(this,"modifiedIds",{ids:new Set,hash:""})}}class QR{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(Ae(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:c}=t,u=new FontFace(r,o,c);this.addNativeFontFace(u);try{await u.load(),this.#t.add(r),i?.(t)}catch{_t(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Xt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw _t(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return $t(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return $t(this,"isSyncFontLoadingSupported",Je||je.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Ae(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return $t(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(N,D){return N.charCodeAt(D)<<24|N.charCodeAt(D+1)<<16|N.charCodeAt(D+2)<<8|N.charCodeAt(D+3)&255}function r(N,D,z,B){const U=N.substring(0,D),Q=N.substring(D+z);return U+B+Q}let o,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let f=0;function p(N,D){if(++f>30){_t("Load test font never loaded."),D();return}if(h.font="30px "+N,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(p.bind(null,N,D))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,m.length,m);const w=16,x=1482184792;let E=i(v,w);for(o=0,c=m.length-3;o<c;o+=4)E=E-x+i(m,o)|0;o<m.length&&(E=E-x+i(m+"XXX",o)|0),v=r(v,w,4,OR(E));const S=`url(data:font/opentype;base64,${btoa(v)});`,k=`@font-face {font-family:"${m}";src:${S}}`;this.insertRule(k);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const N of[t.loadedName,m]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=N,M.append(D)}this._document.body.append(M),p(m,()=>{M.remove(),e.complete()})}}class ZR{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Zw(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let r;try{r=t.get(i)}catch(c){_t(`getPathGenerator - ignoring character: "${c}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=o}}function JR(a){if(a instanceof URL)return a.href;if(typeof a=="string"){if(Je)return a;const t=URL.parse(a,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function tN(a){if(Je&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return al(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a?.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Uc(a){if(typeof a!="string")return null;if(a.endsWith("/"))return a;throw new Error(`Invalid factory url: "${a}" must include trailing slash.`)}const sp=a=>typeof a=="object"&&Number.isInteger(a?.num)&&a.num>=0&&Number.isInteger(a?.gen)&&a.gen>=0,eN=a=>typeof a=="object"&&typeof a?.name=="string",nN=BR.bind(null,sp,eN);class iN{#t=new Map;#e=Promise.resolve();postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:o}=i;if(o.aborted){_t("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Vc={DATA:1,ERROR:2},be={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function s0(){}function fn(a){if(a instanceof xs||a instanceof ep||a instanceof t0||a instanceof bu||a instanceof vf)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||Xt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new xs(a.message);case"InvalidPDFException":return new ep(a.message);case"PasswordException":return new t0(a.message,a.code);case"ResponseException":return new bu(a.message,a.status,a.missing);case"UnknownErrorException":return new vf(a.message,a.details)}return new vf(a.message,a.toString())}class Uo{#t=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Vc.DATA)r.resolve(t.data);else if(t.callback===Vc.ERROR)r.reject(fn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(c){o.postMessage({sourceName:i,targetName:r,callback:Vc.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:i,targetName:r,callback:Vc.ERROR,callbackId:t.callbackId,reason:fn(c)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,e,i,r){const o=this.streamId++,c=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:c,targetName:u,action:t,streamId:o,data:e,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,h.postMessage({sourceName:c,targetName:u,stream:be.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Ae(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,h.postMessage({sourceName:c,targetName:u,stream:be.CANCEL,streamId:o,reason:fn(f)}),p.promise}},i)}#n(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,c=this,u=this.actionHandler[t.action],h={enqueue(f,p=1,m){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:r,stream:be.ENQUEUE,streamId:e,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:be.CLOSE,streamId:e}),delete c.streamSinks[e])},error(f){Ae(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:be.ERROR,streamId:e,reason:fn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(u,t.data,h).then(function(){o.postMessage({sourceName:i,targetName:r,stream:be.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:be.START_COMPLETE,streamId:e,reason:fn(f)})})}#i(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,c=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case be.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(fn(t.reason));break;case be.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(fn(t.reason));break;case be.PULL:if(!u){o.postMessage({sourceName:i,targetName:r,stream:be.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||s0).then(function(){o.postMessage({sourceName:i,targetName:r,stream:be.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:be.PULL_COMPLETE,streamId:e,reason:fn(f)})});break;case be.ENQUEUE:if(Ae(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case be.CLOSE:if(Ae(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#a(c,e);break;case be.ERROR:Ae(c,"error should have stream controller"),c.controller.error(fn(t.reason)),this.#a(c,e);break;case be.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(fn(t.reason)),this.#a(c,e);break;case be.CANCEL:if(!u)break;const h=fn(t.reason);Promise.try(u.onCancel||s0,h).then(function(){o.postMessage({sourceName:i,targetName:r,stream:be.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:be.CANCEL_COMPLETE,streamId:e,reason:fn(f)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class ix{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Xt("Abstract method `_createCanvas` called.")}}class sN extends ix{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class sx{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Xt("Abstract method `_fetch` called.")}}class a0 extends sx{async _fetch(t){const e=await rl(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):al(e)}}class ax{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,o){return"none"}destroy(t=!1){}}class aN extends ax{#t;#e;#n;#i;#a;#s;#o=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#a=e}get#r(){return this.#e||=new Map}get#d(){return this.#s||=new Map}get#l(){if(!this.#n){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#a.createElementNS(zi,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#a.createElementNS(zi,"defs"),t.append(i),i.append(this.#n),this.#a.body.append(t)}return this.#n}#h(t){if(t.length===1){const h=t[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=h[m]/255;const p=f.join(",");return[p,p,p]}const[e,i,r]=t,o=new Array(256),c=new Array(256),u=new Array(256);for(let h=0;h<256;h++)o[h]=e[h]/255,c[h]=i[h]/255,u[h]=r[h]/255;return[o.join(","),c.join(","),u.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&($u(e)?_t('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Ww(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#r.get(t);if(e)return e;const[i,r,o]=this.#h(t),c=t.length===1?i:`${i}${r}${o}`;if(e=this.#r.get(c),e)return this.#r.set(t,e),e;const u=`g_${this.#i}_transfer_map_${this.#o++}`,h=this.#u(u);this.#r.set(t,h),this.#r.set(c,h);const f=this.#g(u);return this.#m(i,r,o,f),h}addHCMFilter(t,e){const i=`${t}-${e}`,r="base";let o=this.#d.get(r);if(o?.key===i||(o?(o.filter?.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},this.#d.set(r,o)),!t||!e))return o.url;const c=this.#v(t);t=mt.makeHexColor(...c);const u=this.#v(e);if(e=mt.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const h=new Array(256);for(let y=0;y<=255;y++){const w=y/255;h[y]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=h.join(","),p=`g_${this.#i}_hcm_filter`,m=o.filter=this.#g(p);this.#m(f,f,f,m),this.#p(m);const v=(y,w)=>{const x=c[y]/255,E=u[y]/255,S=new Array(w+1);for(let k=0;k<=w;k++)S[k]=x+k/w*(E-x);return S.join(",")};return this.#m(v(0,5),v(1,5),v(2,5),m),o.url=this.#u(p),o.url}addAlphaFilter(t){let e=this.#r.get(t);if(e)return e;const[i]=this.#h([t]),r=`alpha_${i}`;if(e=this.#r.get(r),e)return this.#r.set(t,e),e;const o=`g_${this.#i}_alpha_map_${this.#o++}`,c=this.#u(o);this.#r.set(t,c),this.#r.set(r,c);const u=this.#g(o);return this.#b(i,u),c}addLuminosityFilter(t){let e=this.#r.get(t||"luminosity");if(e)return e;let i,r;if(t?([i]=this.#h([t]),r=`luminosity_${i}`):r="luminosity",e=this.#r.get(r),e)return this.#r.set(t,e),e;const o=`g_${this.#i}_luminosity_map_${this.#o++}`,c=this.#u(o);this.#r.set(t,c),this.#r.set(r,c);const u=this.#g(o);return this.#f(u),t&&this.#b(i,u),c}addHighlightHCMFilter(t,e,i,r,o){const c=`${e}-${i}-${r}-${o}`;let u=this.#d.get(t);if(u?.key===c||(u?(u.filter?.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},this.#d.set(t,u)),!e||!i))return u.url;const[h,f]=[e,i].map(this.#v.bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,y]=[r,o].map(this.#v.bind(this));m<p&&([p,m,v,y]=[m,p,y,v]),this.#l.style.color="";const w=(S,k,M)=>{const N=new Array(256),D=(m-p)/M,z=S/255,B=(k-S)/(255*M);let U=0;for(let Q=0;Q<=M;Q++){const it=Math.round(p+Q*D),I=z+Q*B;for(let j=U;j<=it;j++)N[j]=I;U=it+1}for(let Q=U;Q<256;Q++)N[Q]=N[U-1];return N.join(",")},x=`g_${this.#i}_hcm_${t}_filter`,E=u.filter=this.#g(x);return this.#p(E),this.#m(w(v[0],y[0],5),w(v[1],y[1],5),w(v[2],y[2],5),E),u.url=this.#u(x),u.url}destroy(t=!1){t&&this.#s?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#o=0)}#f(t){const e=this.#a.createElementNS(zi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(zi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#g(t){const e=this.#a.createElementNS(zi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#c(t,e,i){const r=this.#a.createElementNS(zi,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)}#m(t,e,i,r){const o=this.#a.createElementNS(zi,"feComponentTransfer");r.append(o),this.#c(o,"feFuncR",t),this.#c(o,"feFuncG",e),this.#c(o,"feFuncB",i)}#b(t,e){const i=this.#a.createElementNS(zi,"feComponentTransfer");e.append(i),this.#c(i,"feFuncA",t)}#v(t){return this.#l.style.color=t,Gp(getComputedStyle(this.#l).getPropertyValue("color"))}}class rx{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Xt("Abstract method `_fetch` called.")}}class r0 extends rx{async _fetch(t){const e=await rl(t,"arraybuffer");return new Uint8Array(e)}}class ox{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Xt("Abstract method `_fetch` called.")}}class o0 extends ox{async _fetch(t){const e=await rl(t,"arraybuffer");return new Uint8Array(e)}}Je&&_t("Please use the `legacy` build in Node.js environments.");async function Wp(a){const e=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(e)}class rN extends ax{}class oN extends ix{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class lN extends sx{async _fetch(t){return Wp(t)}}class cN extends rx{async _fetch(t){return Wp(t)}}class uN extends ox{async _fetch(t){return Wp(t)}}const Fe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ap(a,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),a.clip(r)}class Kp{isModifyingCurrentTransform(){return!1}getPattern(){Xt("Abstract method `getPattern` called.")}}class dN extends Kp{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let o;if(r===Fe.STROKE||r===Fe.FILL){const c=e.current.getClippedPathBoundingBox(r,ie(t))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,h=Math.ceil(c[3]-c[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,h),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-c[0],-c[1]),i=mt.transform(i,[1,0,0,1,c[0],c[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),ap(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(i);o.setTransform(m)}else ap(t,this._bbox),o=this._createGradient(t);return o}}function xf(a,t,e,i,r,o,c,u){const h=t.coords,f=t.colors,p=a.data,m=a.width*4;let v;h[e+1]>h[i+1]&&(v=e,e=i,i=v,v=o,o=c,c=v),h[i+1]>h[r+1]&&(v=i,i=r,r=v,v=c,c=u,u=v),h[e+1]>h[i+1]&&(v=e,e=i,i=v,v=o,o=c,c=v);const y=(h[e]+t.offsetX)*t.scaleX,w=(h[e+1]+t.offsetY)*t.scaleY,x=(h[i]+t.offsetX)*t.scaleX,E=(h[i+1]+t.offsetY)*t.scaleY,S=(h[r]+t.offsetX)*t.scaleX,k=(h[r+1]+t.offsetY)*t.scaleY;if(w>=k)return;const M=f[o],N=f[o+1],D=f[o+2],z=f[c],B=f[c+1],U=f[c+2],Q=f[u],it=f[u+1],I=f[u+2],j=Math.round(w),Z=Math.round(k);let $,J,T,P,H,rt,R,G;for(let tt=j;tt<=Z;tt++){if(tt<E){const ft=tt<w?0:(w-tt)/(w-E);$=y-(y-x)*ft,J=M-(M-z)*ft,T=N-(N-B)*ft,P=D-(D-U)*ft}else{let ft;tt>k?ft=1:E===k?ft=0:ft=(E-tt)/(E-k),$=x-(x-S)*ft,J=z-(z-Q)*ft,T=B-(B-it)*ft,P=U-(U-I)*ft}let X;tt<w?X=0:tt>k?X=1:X=(w-tt)/(w-k),H=y-(y-S)*X,rt=M-(M-Q)*X,R=N-(N-it)*X,G=D-(D-I)*X;const at=Math.round(Math.min($,H)),lt=Math.round(Math.max($,H));let ot=m*tt+at*4;for(let ft=at;ft<=lt;ft++)X=($-ft)/($-H),X<0?X=0:X>1&&(X=1),p[ot++]=J-(J-rt)*X|0,p[ot++]=T-(T-R)*X|0,p[ot++]=P-(P-G)*X|0,p[ot++]=255}}function hN(a,t,e){const i=t.coords,r=t.colors;let o,c;switch(t.type){case"lattice":const u=t.verticesPerRow,h=Math.floor(i.length/u)-1,f=u-1;for(o=0;o<h;o++){let p=o*u;for(let m=0;m<f;m++,p++)xf(a,e,i[p],i[p+1],i[p+u],r[p],r[p+1],r[p+u]),xf(a,e,i[p+u+1],i[p+1],i[p+u],r[p+u+1],r[p+1],r[p+u])}break;case"triangles":for(o=0,c=i.length;o<c;o+=3)xf(a,e,i[o],i[o+1],i[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class fN extends Kp{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-h,m=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),y=f/m,w=p/v,x={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/y,scaleY:1/w},E=m+4,S=v+4,k=i.getCanvas("mesh",E,S),M=k.context,N=M.createImageData(m,v);if(e){const z=N.data;for(let B=0,U=z.length;B<U;B+=4)z[B]=e[0],z[B+1]=e[1],z[B+2]=e[2],z[B+3]=255}for(const z of this._figures)hN(N,z,x);return M.putImageData(N,2,2),{canvas:k.canvas,offsetX:u-2*y,offsetY:h-2*w,scaleX:y,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,r){ap(t,this._bbox);const o=new Float32Array(2);if(r===Fe.SHADING)mt.singularValueDecompose2dScale(ie(t),o);else if(this.matrix){mt.singularValueDecompose2dScale(this.matrix,o);const[u,h]=o;mt.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=u,o[1]*=h}else mt.singularValueDecompose2dScale(e.baseTransform,o);const c=this._createMeshCanvas(o,r===Fe.SHADING?null:this._background,e.cachedCanvases);return r!==Fe.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class pN extends Kp{getPattern(){return"hotpink"}}function gN(a){switch(a[0]){case"RadialAxial":return new dN(a);case"Mesh":return new fN(a);case"Dummy":return new pN}throw new Error(`Unknown IR type: ${a[0]}`)}const l0={COLORED:1,UNCOLORED:2};class Qp{static MAX_PATTERN_SIZE=3e3;constructor(t,e,i,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),Ou("TilingType: "+o);const p=e[0],m=e[1],v=e[2],y=e[3],w=v-p,x=y-m,E=new Float32Array(2);mt.singularValueDecompose2dScale(this.matrix,E);const[S,k]=E;mt.singularValueDecompose2dScale(this.baseTransform,E);const M=S*E[0],N=k*E[1];let D=w,z=x,B=!1,U=!1;const Q=Math.ceil(h*M),it=Math.ceil(f*N),I=Math.ceil(w*M),j=Math.ceil(x*N);Q>=I?D=h:B=!0,it>=j?z=f:U=!0;const Z=this.getSizeAndScale(D,this.ctx.canvas.width,M),$=this.getSizeAndScale(z,this.ctx.canvas.height,N),J=t.cachedCanvases.getCanvas("pattern",Z.size,$.size),T=J.context,P=u.createCanvasGraphics(T);if(P.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(P,r,c),T.translate(-Z.scale*p,-$.scale*m),P.transform(Z.scale,0,0,$.scale,0,0),T.save(),this.clipBbox(P,p,m,v,y),P.baseTransform=ie(P.ctx),P.executeOperatorList(i),P.endDrawing(),T.restore(),B||U){const H=J.canvas;B&&(D=h),U&&(z=f);const rt=this.getSizeAndScale(D,this.ctx.canvas.width,M),R=this.getSizeAndScale(z,this.ctx.canvas.height,N),G=rt.size,tt=R.size,X=t.cachedCanvases.getCanvas("pattern-workaround",G,tt),at=X.context,lt=B?Math.floor(w/h):0,ot=U?Math.floor(x/f):0;for(let ft=0;ft<=lt;ft++)for(let Rt=0;Rt<=ot;Rt++)at.drawImage(H,G*ft,tt*Rt,G,tt,0,0,G,tt);return{canvas:X.canvas,scaleX:rt.scale,scaleY:R.scale,offsetX:p,offsetY:m}}return{canvas:J.canvas,scaleX:Z.scale,scaleY:$.scale,offsetX:p,offsetY:m}}getSizeAndScale(t,e,i){const r=Math.max(Qp.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*i);return o>=r?o=r:i=o/t,{scale:i,size:o}}clipBbox(t,e,i,r,o){const c=r-e,u=o-i;t.ctx.rect(e,i,c,u),mt.axialAlignedBoundingBox([e,i,r,o],ie(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,o=t.current;switch(e){case l0.COLORED:const{fillStyle:c,strokeStyle:u}=this.ctx;r.fillStyle=o.fillColor=c,r.strokeStyle=o.strokeColor=u;break;case l0.UNCOLORED:r.fillStyle=r.strokeStyle=i,o.fillColor=o.strokeColor=i;break;default:throw new PR(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,r){let o=i;r!==Fe.SHADING&&(o=mt.transform(o,e.baseTransform),this.matrix&&(o=mt.transform(o,this.matrix)));const c=this.createPatternCanvas(e);let u=new DOMMatrix(o);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const h=t.createPattern(c.canvas,"repeat");return h.setTransform(u),h}}function mN({src:a,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const u=je.isLittleEndian?4278190080:255,[h,f]=c?[o,u]:[u,o],p=i>>3,m=i&7,v=a.length;e=new Uint32Array(e.buffer);let y=0;for(let w=0;w<r;w++){for(const E=t+p;t<E;t++){const S=t<v?a[t]:255;e[y++]=S&128?f:h,e[y++]=S&64?f:h,e[y++]=S&32?f:h,e[y++]=S&16?f:h,e[y++]=S&8?f:h,e[y++]=S&4?f:h,e[y++]=S&2?f:h,e[y++]=S&1?f:h}if(m===0)continue;const x=t<v?a[t++]:255;for(let E=0;E<m;E++)e[y++]=x&1<<7-E?f:h}return{srcPos:t,destPos:y}}const c0=16,u0=100,bN=15,d0=10,gn=16,Af=new DOMMatrix,Tn=new Float32Array(2),cr=new Float32Array([1/0,1/0,-1/0,-1/0]);function vN(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},a.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},a.transform=function(e,i,r,o,c,u){t.transform(e,i,r,o,c,u),this.__originalTransform(e,i,r,o,c,u)},a.setTransform=function(e,i,r,o,c,u){t.setTransform(e,i,r,o,c,u),this.__originalSetTransform(e,i,r,o,c,u)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(e){t.rotate(e),this.__originalRotate(e)},a.clip=function(e){t.clip(e),this.__originalClip(e)},a.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},a.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},a.bezierCurveTo=function(e,i,r,o,c,u){t.bezierCurveTo(e,i,r,o,c,u),this.__originalBezierCurveTo(e,i,r,o,c,u)},a.rect=function(e,i,r,o){t.rect(e,i,r,o),this.__originalRect(e,i,r,o)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class yN{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Gc(a,t,e,i,r,o,c,u,h,f){const[p,m,v,y,w,x]=ie(a);if(m===0&&v===0){const k=c*p+w,M=Math.round(k),N=u*y+x,D=Math.round(N),z=(c+h)*p+w,B=Math.abs(Math.round(z)-M)||1,U=(u+f)*y+x,Q=Math.abs(Math.round(U)-D)||1;return a.setTransform(Math.sign(p),0,0,Math.sign(y),M,D),a.drawImage(t,e,i,r,o,0,0,B,Q),a.setTransform(p,m,v,y,w,x),[B,Q]}if(p===0&&y===0){const k=u*v+w,M=Math.round(k),N=c*m+x,D=Math.round(N),z=(u+f)*v+w,B=Math.abs(Math.round(z)-M)||1,U=(c+h)*m+x,Q=Math.abs(Math.round(U)-D)||1;return a.setTransform(0,Math.sign(m),Math.sign(v),0,M,D),a.drawImage(t,e,i,r,o,0,0,Q,B),a.setTransform(p,m,v,y,w,x),[Q,B]}a.drawImage(t,e,i,r,o,c,u,h,f);const E=Math.hypot(p,m),S=Math.hypot(v,y);return[E*h,S*f]}class h0{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=tp;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Ye.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=cr.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Fe.FILL,e=null){const i=this.minMax.slice();if(t===Fe.STROKE){e||Xt("Stroke bounding box must include transform."),mt.singularValueDecompose2dScale(e,Tn);const r=Tn[0]*this.lineWidth/2,o=Tn[1]*this.lineWidth/2;i[0]-=r,i[1]-=o,i[2]+=r,i[3]+=o}return i}updateClipFromPath(){const t=mt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(cr,0)}getClippedPathBoundingBox(t=Fe.FILL,e=null){return mt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function f0(a,t){if(t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%gn,o=(e-r)/gn,c=r===0?o:o+1,u=a.createImageData(i,gn);let h=0,f;const p=t.data,m=u.data;let v,y,w,x;if(t.kind===eu.GRAYSCALE_1BPP){const E=p.byteLength,S=new Uint32Array(m.buffer,0,m.byteLength>>2),k=S.length,M=i+7>>3,N=4294967295,D=je.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(w=v<o?gn:r,f=0,y=0;y<w;y++){const z=E-h;let B=0;const U=z>M?i:z*8-7,Q=U&-8;let it=0,I=0;for(;B<Q;B+=8)I=p[h++],S[f++]=I&128?N:D,S[f++]=I&64?N:D,S[f++]=I&32?N:D,S[f++]=I&16?N:D,S[f++]=I&8?N:D,S[f++]=I&4?N:D,S[f++]=I&2?N:D,S[f++]=I&1?N:D;for(;B<U;B++)it===0&&(I=p[h++],it=128),S[f++]=I&it?N:D,it>>=1}for(;f<k;)S[f++]=0;a.putImageData(u,0,v*gn)}}else if(t.kind===eu.RGBA_32BPP){for(y=0,x=i*gn*4,v=0;v<o;v++)m.set(p.subarray(h,h+x)),h+=x,a.putImageData(u,0,y),y+=gn;v<c&&(x=i*r*4,m.set(p.subarray(h,h+x)),a.putImageData(u,0,y))}else if(t.kind===eu.RGB_24BPP)for(w=gn,x=i*w,v=0;v<c;v++){for(v>=o&&(w=r,x=i*w),f=0,y=x;y--;)m[f++]=p[h++],m[f++]=p[h++],m[f++]=p[h++],m[f++]=255;a.putImageData(u,0,v*gn)}else throw new Error(`bad image kind: ${t.kind}`)}function p0(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%gn,o=(e-r)/gn,c=r===0?o:o+1,u=a.createImageData(i,gn);let h=0;const f=t.data,p=u.data;for(let m=0;m<c;m++){const v=m<o?gn:r;({srcPos:h}=mN({src:f,srcPos:h,dest:p,width:i,height:v,nonBlackColor:0})),a.putImageData(u,0,m*gn)}}function Lo(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)a[i]!==void 0&&(t[i]=a[i]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function qc(a){a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0);const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}function g0(a,t){if(t)return!0;mt.singularValueDecompose2dScale(a,Tn);const e=Math.fround(mi.pixelRatio*Sr.PDF_TO_CSS_UNITS);return Tn[0]<=e&&Tn[1]<=e}const wN=["butt","round","square"],xN=["miter","round","bevel"],AN={},m0={};class pr{constructor(t,e,i,r,o,{optionalContentConfig:c,markedContentStack:u=null},h,f){this.ctx=t,this.current=new h0(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new yN(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=u,i){const h=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...ie(this.compositeCtx))}this.ctx.save(),qc(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ie(this.ctx)}executeOperatorList(t,e,i,r){const o=t.argsArray,c=t.fnArray;let u=e||0;const h=o.length;if(h===u)return u;const f=h-u>d0&&typeof i=="function",p=f?Date.now()+bN:0;let m=0;const v=this.commonObjs,y=this.objs;let w;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,i),u;if(w=c[u],w!==mu.dependency)this[w].apply(this,o[u]);else for(const x of o[u]){const E=x.startsWith("g_")?v:y;if(!E.has(x))return E.get(x,i),u}if(u++,u===h)return u;if(f&&++m>d0){if(Date.now()>p)return i(),u;m=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),u=i,h=r,f="prescale1",p,m;for(;o>2&&u>1||c>2&&h>1;){let v=u,y=h;o>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/v),c>2&&h>1&&(y=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/y),p=this.cachedCanvases.getCanvas(f,v,y),m=p.context,m.clearRect(0,0,v,y),m.drawImage(t,0,0,u,h,0,0,v,y),t=p.canvas,u=v,h=y,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:r}=t,o=this.current.fillColor,c=this.current.patternFill,u=ie(e);let h,f,p,m;if((t.bitmap||t.data)&&t.count>1){const Q=t.bitmap||t.data.buffer;f=JSON.stringify(c?u:[u.slice(0,4),o]),h=this._cachedBitmapsMap.get(Q),h||(h=new Map,this._cachedBitmapsMap.set(Q,h));const it=h.get(f);if(it&&!c){const I=Math.round(Math.min(u[0],u[2])+u[4]),j=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:it,offsetX:I,offsetY:j}}p=it}p||(m=this.cachedCanvases.getCanvas("maskCanvas",i,r),p0(m.context,t));let v=mt.transform(u,[1/i,0,0,-1/r,0,0]);v=mt.transform(v,[1,0,0,1,0,-r]);const y=cr.slice();mt.axialAlignedBoundingBox([0,0,i,r],v,y);const[w,x,E,S]=y,k=Math.round(E-w)||1,M=Math.round(S-x)||1,N=this.cachedCanvases.getCanvas("fillCanvas",k,M),D=N.context,z=w,B=x;D.translate(-z,-B),D.transform(...v),p||(p=this._scaleImage(m.canvas,ci(D)),p=p.img,h&&c&&h.set(f,p)),D.imageSmoothingEnabled=g0(ie(D),t.interpolate),Gc(D,p,0,0,p.width,p.height,0,0,i,r),D.globalCompositeOperation="source-in";const U=mt.transform(ci(D),[1,0,0,1,-z,-B]);return D.fillStyle=c?o.getPattern(e,this,U,Fe.FILL):o,D.fillRect(0,0,i,r),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,N.canvas)),{canvas:N.canvas,offsetX:Math.round(z),offsetY:Math.round(B)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=wN[t]}setLineJoin(t){this.ctx.lineJoin=xN[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const o=this.ctx=r.context;o.setTransform(this.suspendedCtx.getTransform()),Lo(this.suspendedCtx,o),vN(o,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Lo(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const o=r[0],c=r[1],u=r[2]-o,h=r[3]-c;u===0||h===0||(this.genericComposeSMask(e.context,i,u,h,e.subtype,e.backdrop,e.transferMap,o,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,o,c,u,h,f,p,m){let v=t.canvas,y=h-p,w=f-m;if(c)if(y<0||w<0||y+i>v.width||w+r>v.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),S=E.context;S.drawImage(v,-y,-w),S.globalCompositeOperation="destination-atop",S.fillStyle=c,S.fillRect(0,0,i,r),S.globalCompositeOperation="source-over",v=E.canvas,y=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(y,w,i,r),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=c,t.fillRect(y,w,i,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const x=new Path2D;x.rect(h,f,i,r),e.clip(x),e.globalCompositeOperation="destination-in",e.drawImage(v,y,w,i,r,h,f,i,r),e.restore()}save(){this.inSMaskMode&&Lo(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Lo(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,r,o,c){this.ctx.transform(t,e,i,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[r]=e;if(!i){r||=e[0]=new Path2D,this[t](r);return}if(!(r instanceof Path2D)){const o=e[0]=new Path2D;for(let c=0,u=r.length;c<u;)switch(r[c++]){case jc.moveTo:o.moveTo(r[c++],r[c++]);break;case jc.lineTo:o.lineTo(r[c++],r[c++]);break;case jc.curveTo:o.bezierCurveTo(r[c++],r[c++],r[c++],r[c++],r[c++],r[c++]);break;case jc.closePath:o.closePath();break;default:_t(`Unrecognized drawing path operator: ${r[c-1]}`);break}r=o}mt.axialAlignedBoundingBox(i,ie(this.ctx),this.current.minMax),this[t](r)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const o=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,ci(i),Fe.STROKE),o){const c=new Path2D;c.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=c}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Fe.STROKE,ie(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,r=this.current.fillColor,o=this.current.patternFill;let c=!1;if(o){const h=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=r.getPattern(i,this,ci(i),Fe.FILL),h){const f=new Path2D;f.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=f}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),c&&i.restore(),e&&this.consumePath(t,u)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=AN}eoClip(){this.pendingClip=m0}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,r=e.getTransform().invertSelf();for(const{transform:o,x:c,y:u,fontSize:h,path:f}of t)i.addPath(f,new DOMMatrix(o).preMultiplySelf(r).translate(c,u).scale(h,-h));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||tp,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&_t("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const o=i.loadedName||"sans-serif",c=i.systemFontInfo?.css||`"${o}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const h=i.italic?"italic":"normal";let f=e;e<c0?f=c0:e>u0&&(f=u0),this.current.fontSizeScale=e/f,this.ctx.font=`${h} ${u} ${f}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r}paintChar(t,e,i,r,o){const c=this.ctx,u=this.current,h=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=f&Ye.FILL_STROKE_MASK,v=!!(f&Ye.ADD_TO_PATH_FLAG),y=u.patternFill&&!h.missingFile,w=u.patternStroke&&!h.missingFile;let x;if((h.disableFontFace||v||y||w)&&(x=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||y||w){c.save(),c.translate(e,i),c.scale(p,-p);let E;if((m===Ye.FILL||m===Ye.FILL_STROKE)&&(r?(E=c.getTransform(),c.setTransform(...r),c.fill(this.#n(x,E,r))):c.fill(x)),m===Ye.STROKE||m===Ye.FILL_STROKE)if(o){E||=c.getTransform(),c.setTransform(...o);const{a:S,b:k,c:M,d:N}=E,D=mt.inverseTransform(o),z=mt.transform([S,k,M,N,0,0],D);mt.singularValueDecompose2dScale(z,Tn),c.lineWidth*=Math.max(Tn[0],Tn[1])/p,c.stroke(this.#n(x,E,o))}else c.lineWidth/=p,c.stroke(x);c.restore()}else(m===Ye.FILL||m===Ye.FILL_STROKE)&&c.fillText(t,e,i),(m===Ye.STROKE||m===Ye.FILL_STROKE)&&c.strokeText(t,e,i);v&&(this.pendingTextPaths||=[]).push({transform:ie(c),x:e,y:i,fontSize:p,path:x})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return $t(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const o=this.ctx,c=e.fontSizeScale,u=e.charSpacing,h=e.wordSpacing,f=e.fontDirection,p=e.textHScale*f,m=t.length,v=i.vertical,y=v?1:-1,w=i.defaultVMetrics,x=r*e.fontMatrix[0],E=e.textRenderingMode===Ye.FILL&&!i.disableFontFace&&!e.patternFill;o.save(),e.textMatrix&&o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),f>0?o.scale(p,-1):o.scale(p,1);let S,k;if(e.patternFill){o.save();const B=e.fillColor.getPattern(o,this,ci(o),Fe.FILL);S=ie(o),o.restore(),o.fillStyle=B}if(e.patternStroke){o.save();const B=e.strokeColor.getPattern(o,this,ci(o),Fe.STROKE);k=ie(o),o.restore(),o.strokeStyle=B}let M=e.lineWidth;const N=e.textMatrixScale;if(N===0||M===0){const B=e.textRenderingMode&Ye.FILL_STROKE_MASK;(B===Ye.STROKE||B===Ye.FILL_STROKE)&&(M=this.getSinglePixelWidth())}else M/=N;if(c!==1&&(o.scale(c,c),M/=c),o.lineWidth=M,i.isInvalidPDFjsFont){const B=[];let U=0;for(const Q of t)B.push(Q.unicode),U+=Q.width;o.fillText(B.join(""),0,0),e.x+=U*x*p,o.restore(),this.compose();return}let D=0,z;for(z=0;z<m;++z){const B=t[z];if(typeof B=="number"){D+=y*B*r/1e3;continue}let U=!1;const Q=(B.isSpace?h:0)+u,it=B.fontChar,I=B.accent;let j,Z,$=B.width;if(v){const T=B.vmetric||w,P=-(B.vmetric?T[1]:$*.5)*x,H=T[2]*x;$=T?-T[0]:$,j=P/c,Z=(D+H)/c}else j=D/c,Z=0;if(i.remeasure&&$>0){const T=o.measureText(it).width*1e3/r*c;if($<T&&this.isFontSubpixelAAEnabled){const P=$/T;U=!0,o.save(),o.scale(P,1),j/=P}else $!==T&&(j+=($-T)/2e3*r/c)}if(this.contentVisible&&(B.isInFont||i.missingFile)){if(E&&!I)o.fillText(it,j,Z);else if(this.paintChar(it,j,Z,S,k),I){const T=j+r*I.offset.x/c,P=Z-r*I.offset.y/c;this.paintChar(I.fontChar,T,P,S,k)}}const J=v?$*x-Q*f:$*x+Q*f;D+=J,U&&o.restore()}v?e.y-=D:e.x+=D*p,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,r=i.font,o=i.fontSize,c=i.fontDirection,u=r.vertical?1:-1,h=i.charSpacing,f=i.wordSpacing,p=i.textHScale*c,m=i.fontMatrix||tp,v=t.length,y=i.textRenderingMode===Ye.INVISIBLE;let w,x,E,S;if(!(y||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(p,c),w=0;w<v;++w){if(x=t[w],typeof x=="number"){S=u*x*o/1e3,this.ctx.translate(S,0),i.x+=S*p;continue}const k=(x.isSpace?f:0)+h,M=r.charProcOperatorList[x.operatorListId];M?this.contentVisible&&(this.save(),e.scale(o,o),e.transform(...m),this.executeOperatorList(M),this.restore()):_t(`Type3 character "${x.operatorListId}" is not available.`);const N=[x.width,0];mt.applyTransform(N,m),E=N[0]*o+k,e.translate(E,0),i.x+=E*p}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,r,o,c){const u=new Path2D;u.rect(i,r,o-i,c-r),this.ctx.clip(u),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||ie(this.ctx),r={createCanvasGraphics:o=>new pr(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Qp(t,this.ctx,r,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=gN(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,ci(e),Fe.SHADING);const r=ci(e);if(r){const{width:o,height:c}=e.canvas,u=cr.slice();mt.axialAlignedBoundingBox([0,0,o,c],r,u);const[h,f,p,m]=u;this.ctx.fillRect(h,f,p-h,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Xt("Should not call beginInlineImage")}beginImageData(){Xt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ie(this.ctx),e)){mt.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,r,o,c]=e,u=new Path2D;u.rect(i,r,o-i,c-r),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Ou("TODO: Support non-isolated groups."),t.knockout&&_t("Knockout groups not supported.");const i=ie(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=cr.slice();mt.axialAlignedBoundingBox(t.bbox,ie(e),r);const o=[0,0,e.canvas.width,e.canvas.height];r=mt.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),u=Math.floor(r[1]),h=Math.max(Math.ceil(r[2])-c,1),f=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,f]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,h,f),v=m.context;v.translate(-c,-u),v.transform(...i);let y=new Path2D;const[w,x,E,S]=t.bbox;if(y.rect(w,x,E-w,S-x),t.matrix){const k=new Path2D;k.addPath(y,new DOMMatrix(t.matrix)),y=k}v.clip(y),t.smask?this.smaskStack.push({canvas:m.canvas,context:v,offsetX:c,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,u),e.save()),Lo(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ie(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=cr.slice();mt.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r,o),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,i,r,o){if(this.#t(),qc(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],u=e[3]-e[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=u,mt.singularValueDecompose2dScale(ie(this.ctx),Tn);const{viewportScale:h}=this,f=Math.ceil(c*this.outputScaleX*h),p=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Tn[0],0,0,-Tn[1],0,u*Tn[1]),qc(this.ctx)}else{qc(this.ctx),this.endPath();const h=new Path2D;h.rect(e[0],e[1],c,u),this.ctx.clip(h)}}this.current=new h0(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,r=this._createMaskCanvas(t),o=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,r.offsetX,r.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,r=0,o,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const u=this.ctx;u.save();const h=ie(u);u.transform(e,i,r,o,0,0);const f=this._createMaskCanvas(t);u.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]);for(let p=0,m=c.length;p<m;p+=2){const v=mt.transform(h,[e,i,r,o,c[p],c[p+1]]);u.drawImage(f.canvas,v[4],v[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const o of t){const{data:c,width:u,height:h,transform:f}=o,p=this.cachedCanvases.getCanvas("maskCanvas",u,h),m=p.context;m.save();const v=this.getObject(c,o);p0(m,v),m.globalCompositeOperation="source-in",m.fillStyle=r?i.getPattern(m,this,ci(e),Fe.FILL):i,m.fillRect(0,0,u,h),m.restore(),e.save(),e.transform(...f),e.scale(1,-1),Gc(e,p.canvas,0,0,u,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){_t("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){_t("Dependent image isn't ready yet");return}const c=o.width,u=o.height,h=[];for(let f=0,p=r.length;f<p;f+=2)h.push({transform:[e,0,0,i,r[f],r[f+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(o,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",i,r),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,r=this.ctx;this.save();const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none"),r.scale(1/e,-1/i);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,i).context;f0(f,t),c=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(c,ci(r));r.imageSmoothingEnabled=g0(ie(r),t.interpolate),Gc(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,c=t.height,h=this.cachedCanvases.getCanvas("inlineImage",o,c).context;f0(h,t),r=this.applyTransferMapsToCanvas(h)}for(const o of e)i.save(),i.transform(...o.transform),i.scale(1,-1),Gc(i,r,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(i||(this.pendingClip===m0?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ie(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:o}=this.ctx.getTransform();let c,u;if(i===0&&r===0){const h=Math.abs(e),f=Math.abs(o);if(h===f)if(t===0)c=u=1/h;else{const p=h*t;c=u=p<1?1/p:1}else if(t===0)c=1/h,u=1/f;else{const p=h*t,m=f*t;c=p<1?1/p:1,u=m<1?1/m:1}}else{const h=Math.abs(e*o-i*r),f=Math.hypot(e,i),p=Math.hypot(r,o);if(t===0)c=p/h,u=f/h;else{const m=t*h;c=p>m?p/m:1,u=f>m?f/m:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:r}}=this,[o,c]=this.getScaleForStroking();if(o===c){i.lineWidth=(r||1)*o,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(o,c),Af.a=1/o,Af.d=1/c;const h=new Path2D;if(h.addPath(t,Af),u.length>0){const f=Math.max(o,c);i.setLineDash(u.map(p=>p/f)),i.lineDashOffset/=f}i.lineWidth=r||1,i.stroke(h),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const a in mu)pr.prototype[a]!==void 0&&(pr.prototype[mu[a]]=pr.prototype[a]);class gr{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class SN{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const rr=Symbol("INTERNAL");class EN{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:i,usage:r,rbGroups:o}){this.#t=!!(t&Cn.DISPLAY),this.#e=!!(t&Cn.PRINT),this.name=e,this.intent=i,this.usage=r,this.rbGroups=o}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==rr&&Xt("Internal method `_setVisible` called."),this.#n=i,this.#i=e}}class _N{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=Cn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const i of t.groups)this.#e.set(i.id,new EN(e,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(rr,!1);for(const i of t.on)this.#e.get(i)._setVisible(rr,!0);for(const i of t.off)this.#e.get(i)._setVisible(rr,!1);this.#n=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const o=t[r];let c;if(Array.isArray(o))c=this.#a(o);else if(this.#e.has(o))c=this.#e.get(o).visible;else return _t(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Ou("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(_t(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return _t(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return _t(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return _t(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return _t(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return _t(`Unknown optional content policy ${t.policy}.`),!0}return _t(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){const r=this.#e.get(t);if(!r){_t(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const c of o)c!==t&&this.#e.get(c)?._setVisible(rr,!1,!0);r._setVisible(rr,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const o=this.#e.get(r);if(o)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new ex;for(const[e,i]of this.#e)t.update(`${e}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class CN{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Ae(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:c,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=u,o?.length>0){const h=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,f)=>{this._onReceiveData({begin:h,chunk:f})}),t.addProgressListener((h,f)=>{this._onProgress({loaded:h,total:f})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(i),!0)});Ae(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ae(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new TN(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new MN(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class TN{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=Vp(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class MN{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function RN(a){let t=!0,e=i("filename\\*","i").exec(a);if(e){e=e[1];let p=u(e);return p=unescape(p),p=h(p),p=f(p),o(p)}if(e=c(a),e){const p=f(e);return o(p)}if(e=i("filename","i").exec(a),e){e=e[1];let p=u(e);return p=f(p),o(p)}function i(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const v=new TextDecoder(p,{fatal:!0}),y=al(m);m=v.decode(y),t=!1}catch{}}return m}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function c(p){const m=[];let v;const y=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=y.exec(p))!==null;){let[,x,E,S]=v;if(x=parseInt(x,10),x in m){if(x===0)break;continue}m[x]=[E,S]}const w=[];for(let x=0;x<m.length&&x in m;++x){let[E,S]=m[x];S=u(S),E&&(S=unescape(S),x===0&&(S=h(S))),w.push(S)}return w.join("")}function u(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let v=0;v<m.length;++v){const y=m[v].indexOf('"');y!==-1&&(m[v]=m[v].slice(0,y),m.length=v+1),m[v]=m[v].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function h(p){const m=p.indexOf("'");if(m===-1)return p;const v=p.slice(0,m),w=p.slice(m+1).replace(/^[^']*'/,"");return r(v,w)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,v,y,w){if(y==="q"||y==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,E){return String.fromCharCode(parseInt(E,16))}),r(v,w);try{w=atob(w)}catch{}return r(v,w)})}return""}function lx(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function zu(a){return URL.parse(a)?.origin??null}function cx({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||i||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function ux(a){const t=a.get("Content-Disposition");if(t){let e=RN(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Vp(e))return e}return null}function cl(a,t){return new bu(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a,a===404||a===0&&t.startsWith("file:"))}function dx(a){return a===200||a===206}function hx(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function fx(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(_t(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class NN{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=lx(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new kN(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new LN(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class kN{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,hx(i,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=zu(o.url),!dx(o.status))throw cl(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:u,suggestedLength:h}=cx({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=ux(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new xs("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:fx(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class LN{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${i-1}`);const c=r.url;fetch(c,hx(o,this._withCredentials,this._abortController)).then(u=>{const h=zu(u.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!dx(u.status))throw cl(u.status,c);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:fx(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Sf=200,Ef=206;function DN(a){const t=a.response;return typeof t!="string"?t:al(t).buffer}class PN{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=lx(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,c]of this.headers)e.setRequestHeader(o,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Ef):r.expectedStatus=Sf,e.responseType="arraybuffer",Ae(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){const i=this.pendingRequests[t];i&&i.onProgress?.(e)}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError(r.status);return}const o=r.status||Sf;if(!(o===Sf&&i.expectedStatus===Ef)&&o!==i.expectedStatus){i.onError(r.status);return}const u=DN(r);if(o===Ef){const h=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);f?i.onDone({begin:parseInt(f[1],10),chunk:u}):(_t('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class ON{constructor(t){this._source=t,this._manager=new PN(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ae(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $N(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new IN(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class $N{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=zu(e.responseURL);const i=e.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...f]=u.split(": ");return[h,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:c}=cx({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=ux(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=cl(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class IN{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=zu(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=cl(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const zN=/^[a-z][a-z0-9\-+.]+:/i;function FN(a){if(zN.test(a))return new URL(a);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(a))}class BN{constructor(t){this.source=t,this.url=FN(t.url),Ae(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new HN(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new jN(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class HN{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=cl(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new xs("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class jN{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Do=Symbol("INITIAL_DATA");class px{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Do}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const i=this.#t[t];if(!i||i.data===Do)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=this.#t[t];return!!e&&e.data!==Do}delete(t){const e=this.#t[t];return!e||e.data===Do?!1:(delete this.#t[t],!0)}resolve(t,e=null){const i=this.#e(t);i.data=e,i.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Do&&(yield[t,e])}}}const UN=1e5,b0=30;class Ze{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#o=0;#r=0;#d=null;#l=null;#h=0;#u=0;#f=Object.create(null);#p=[];#g=null;#c=[];#m=new WeakMap;#b=null;static#v=new Map;static#w=new Map;static#x=new WeakMap;static#A=null;static#_=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#g=t;else if(typeof t=="object")this.#g=new ReadableStream({start(h){h.enqueue(t),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#u=i.scale*mi.pixelRatio,this.#h=i.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:o,pageX:c,pageY:u}=i.rawDims;this.#b=[1,0,0,-1,-c,u+o],this.#r=r,this.#o=o,Ze.#k(),ca(e,i),this.#t.promise.finally(()=>{Ze.#_.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=je.platform;return $t(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#d.read().then(({value:e,done:i})=>{if(i){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#T(e.items),t()},this.#t.reject)};return this.#d=this.#g.getReader(),Ze.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const i=t.scale*mi.pixelRatio,r=t.rotation;if(r!==this.#h&&(e?.(),this.#h=r,ca(this.#l,{rotation:r})),i!==this.#u){e?.(),this.#u=i;const o={div:null,properties:null,ctx:Ze.#M(this.#a)};for(const c of this.#c)o.properties=this.#m.get(c),o.div=c,this.#S(o)}}cancel(){const t=new xs("TextLayer task cancelled.");this.#d?.cancel(t).catch(()=>{}),this.#d=null,this.#t.reject(t)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#p}#T(t){if(this.#n)return;this.#s.ctx??=Ze.#M(this.#a);const e=this.#c,i=this.#p;for(const r of t){if(e.length>UN){_t("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id!==null&&this.#e.setAttribute("id",`${r.id}`),o.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(r.str),this.#R(r)}}#R(t){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#c.push(e);const r=mt.transform(this.#b,t.transform);let o=Math.atan2(r[1],r[0]);const c=this.#f[t.fontName];c.vertical&&(o+=Math.PI/2);let u=this.#i&&c.fontSubstitution||c.fontFamily;u=Ze.fontFamilyMap.get(u)||u;const h=Math.hypot(r[2],r[3]),f=h*Ze.#L(u,c,this.#a);let p,m;o===0?(p=r[4],m=r[5]-f):(p=r[4]+f*Math.sin(o),m=r[5]-f*Math.cos(o));const v="calc(var(--total-scale-factor) *",y=e.style;this.#e===this.#l?(y.left=`${(100*p/this.#r).toFixed(2)}%`,y.top=`${(100*m/this.#o).toFixed(2)}%`):(y.left=`${v}${p.toFixed(2)}px)`,y.top=`${v}${m.toFixed(2)}px)`),y.fontSize=`${v}${(Ze.#A*h).toFixed(2)}px)`,y.fontFamily=u,i.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(i.angle=o*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const x=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);x!==E&&Math.max(x,E)/Math.min(x,E)>1.5&&(w=!0)}if(w&&(i.canvasWidth=c.vertical?t.height:t.width),this.#m.set(e,i),this.#s.div=e,this.#s.properties=i,this.#S(this.#s),i.hasText&&this.#e.append(e),i.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),this.#e.append(x)}}#S(t){const{div:e,properties:i,ctx:r}=t,{style:o}=e;let c="";if(Ze.#A>1&&(c=`scale(${1/Ze.#A})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=o,{canvasWidth:h,fontSize:f}=i;Ze.#C(r,f*this.#u,u);const{width:p}=r.measureText(e.textContent);p>0&&(c=`scaleX(${h*this.#u/p}) ${c}`)}i.angle!==0&&(c=`rotate(${i.angle}deg) ${c}`),c.length>0&&(o.transform=c)}static cleanup(){if(!(this.#_.size>0)){this.#v.clear();for(const{canvas:t}of this.#w.values())t.remove();this.#w.clear()}}static#M(t=null){let e=this.#w.get(t||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#w.set(t,e),this.#x.set(e,{size:0,family:""})}return e}static#C(t,e,i){const r=this.#x.get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)}static#k(){if(this.#A!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#A=t.getBoundingClientRect().height,t.remove()}static#L(t,e,i){const r=this.#v.get(t);if(r)return r;const o=this.#M(i);o.canvas.width=o.canvas.height=b0,this.#C(o,b0,t);const c=o.measureText(""),u=c.fontBoundingBoxAscent,h=Math.abs(c.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+h):(je.platform.isFirefox&&_t("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#v.set(t,f),f}}class Ko{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(o){if(!o)return;let c=null;const u=o.name;if(u==="#text")c=o.value;else if(Ko.shouldBuildText(u))o?.attributes?.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&e.push({str:c}),!!o.children)for(const h of o.children)r(h)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const VN=100;function GN(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new Zp,{docId:e}=t,i=a.url?JR(a.url):null,r=a.data?tN(a.data):null,o=a.httpHeaders||null,c=a.withCredentials===!0,u=a.password??null,h=a.range instanceof gx?a.range:null,f=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:2**16;let p=a.worker instanceof Qo?a.worker:null;const m=a.verbosity,v=typeof a.docBaseUrl=="string"&&!$u(a.docBaseUrl)?a.docBaseUrl:null,y=Uc(a.cMapUrl),w=a.cMapPacked!==!1,x=a.CMapReaderFactory||(Je?lN:a0),E=Uc(a.iccUrl),S=Uc(a.standardFontDataUrl),k=a.StandardFontDataFactory||(Je?cN:r0),M=Uc(a.wasmUrl),N=a.WasmFactory||(Je?uN:o0),D=a.stopAtErrors!==!0,z=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,B=a.isEvalSupported!==!1,U=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Je,Q=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!Je&&(je.platform.isFirefox||!globalThis.chrome),it=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,I=typeof a.disableFontFace=="boolean"?a.disableFontFace:Je,j=a.fontExtraProperties===!0,Z=a.enableXfa===!0,$=a.ownerDocument||globalThis.document,J=a.disableRange===!0,T=a.disableStream===!0,P=a.disableAutoFetch===!0,H=a.pdfBug===!0,rt=a.CanvasFactory||(Je?oN:sN),R=a.FilterFactory||(Je?rN:aN),G=a.enableHWA===!0,tt=a.useWasm!==!1,X=h?h.length:a.length??NaN,at=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Je&&!I,lt=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:!!(x===a0&&k===r0&&N===o0&&y&&S&&M&&jo(y,document.baseURI)&&jo(S,document.baseURI)&&jo(M,document.baseURI)),ot=null;kR(m);const ft={canvasFactory:new rt({ownerDocument:$,enableHWA:G}),filterFactory:new R({docId:e,ownerDocument:$}),cMapReaderFactory:lt?null:new x({baseUrl:y,isCompressed:w}),standardFontDataFactory:lt?null:new k({baseUrl:S}),wasmFactory:lt?null:new N({baseUrl:M})};p||(p=Qo.create({verbosity:m,port:gr.workerPort}),t._worker=p);const Rt={docId:e,apiVersion:"5.3.93",data:r,password:u,disableAutoFetch:P,rangeChunkSize:f,length:X,docBaseUrl:v,enableXfa:Z,evaluatorOptions:{maxImageSize:z,disableFontFace:I,ignoreErrors:D,isEvalSupported:B,isOffscreenCanvasSupported:U,isImageDecoderSupported:Q,canvasMaxAreaInBytes:it,fontExtraProperties:j,useSystemFonts:at,useWasm:tt,useWorkerFetch:lt,cMapUrl:y,iccUrl:E,standardFontDataUrl:S,wasmUrl:M}},jt={ownerDocument:$,pdfBug:H,styleElement:ot,loadingParams:{disableAutoFetch:P,enableXfa:Z}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const fe=p.messageHandler.sendWithPromise("GetDocRequest",Rt,r?[r.buffer]:null);let Se;if(h)Se=new CN(h,{disableRange:J,disableStream:T});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const pe=jo(i)?NN:Je?BN:ON;Se=new pe({url:i,length:X,httpHeaders:o,withCredentials:c,rangeChunkSize:f,disableRange:J,disableStream:T})}return fe.then(pe=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const sn=new Uo(e,pe,p.port),Mn=new XN(sn,t,Se,jt,ft);t._transport=Mn,sn.send("Ready",null)})}).catch(t._capability.reject),t}class Zp{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Zp.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class gx{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#a=[];constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const i of this.#a)i(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const i of this.#i)i(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Xt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class qN{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class YN{#t=!1;constructor(t,e,i,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new n0:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new px,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:o=!1}={}){return new ol({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:r=vs.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:m=!1}){this._stats?.time("Overall");const v=this._transport.getRenderingIntent(i,r,p,m),{renderingIntent:y,cacheKey:w}=v;this.#t=!1,u||=this._transport.getOptionalContentConfig(y);let x=this._intentStates.get(w);x||(x=Object.create(null),this._intentStates.set(w,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const E=!!(y&Cn.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));const S=N=>{x.renderTasks.delete(k),E&&(this.#t=!0),this.#e(),N?(k.capability.reject(N),this._abortOperatorList({intentState:x,reason:N instanceof Error?N:new Error(N)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new ur({callback:S,params:{canvasContext:t,viewport:e,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:f});(x.renderTasks||=new Set).add(k);const M=k.task;return Promise.all([x.displayReadyCapability.promise,u]).then(([N,D])=>{if(this.destroyed){S();return}if(this._stats?.time("Rendering"),!(D.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:N,optionalContentConfig:D}),k.operatorListChanged()}).catch(S),M}getOperatorList({intent:t="display",annotationMode:e=vs.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const c=this._transport.getRenderingIntent(t,e,i,r,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Ko.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function o(){c.read().then(function({value:h,done:f}){if(f){i(u);return}u.lang??=h.lang,Object.assign(u.styles,h.styles),u.items.push(...h.items),o()},r)}const c=e.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new n0),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:o,transfer:c}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},c).getReader(),f=this._intentStates.get(e);f.streamReader=h;const p=()=>{h.read().then(({value:m,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),p())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Up){let r=VN;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new xs(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var ys,Wn,Bi,na,wu,ia,sa,nn,nu,mx,bx,Vo,mr,iu;const ee=class ee{constructor({name:t=null,port:e=null,verbosity:i=LR()}={}){ri(this,nn);ri(this,ys,Promise.withResolvers());ri(this,Wn,null);ri(this,Bi,null);ri(this,na,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(te(ee,sa).has(e))throw new Error("Cannot use more than one PDFWorker per port.");te(ee,sa).set(e,this),oi(this,nn,mx).call(this,e)}else oi(this,nn,bx).call(this)}get promise(){return te(this,ys).promise}get port(){return te(this,Bi)}get messageHandler(){return te(this,Wn)}destroy(){this.destroyed=!0,te(this,na)?.terminate(),dn(this,na,null),te(ee,sa).delete(te(this,Bi)),dn(this,Bi,null),te(this,Wn)?.destroy(),dn(this,Wn,null)}static create(t){const e=te(this,sa).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ee(t)}static get workerSrc(){if(gr.workerSrc)return gr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return $t(this,"_setupFakeWorkerGlobal",(async()=>te(this,mr,iu)?te(this,mr,iu):(await import(this.workerSrc)).WorkerMessageHandler)())}};ys=new WeakMap,Wn=new WeakMap,Bi=new WeakMap,na=new WeakMap,wu=new WeakMap,ia=new WeakMap,sa=new WeakMap,nn=new WeakSet,nu=function(){te(this,ys).resolve(),te(this,Wn).send("configure",{verbosity:this.verbosity})},mx=function(t){dn(this,Bi,t),dn(this,Wn,new Uo("main","worker",t)),te(this,Wn).on("ready",()=>{}),oi(this,nn,nu).call(this)},bx=function(){if(te(ee,ia)||te(ee,mr,iu)){oi(this,nn,Vo).call(this);return}let{workerSrc:t}=ee;try{ee._isSameOrigin(window.location,t)||(t=ee._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Uo("main","worker",e),r=()=>{o.abort(),i.destroy(),e.terminate(),this.destroyed?te(this,ys).reject(new Error("Worker was destroyed")):oi(this,nn,Vo).call(this)},o=new AbortController;e.addEventListener("error",()=>{te(this,na)||r()},{signal:o.signal}),i.on("test",u=>{if(o.abort(),this.destroyed||!u){r();return}dn(this,Wn,i),dn(this,Bi,e),dn(this,na,e),oi(this,nn,nu).call(this)}),i.on("ready",u=>{if(o.abort(),this.destroyed){r();return}try{c()}catch{oi(this,nn,Vo).call(this)}});const c=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};c();return}catch{Ou("The worker has been disabled.")}oi(this,nn,Vo).call(this)},Vo=function(){te(ee,ia)||(_t("Setting up fake worker."),dn(ee,ia,!0)),ee._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){te(this,ys).reject(new Error("Worker was destroyed"));return}const e=new iN;dn(this,Bi,e);const i=`fake${jv(ee,wu)._++}`,r=new Uo(i+"_worker",i,e);t.setup(r,e),dn(this,Wn,new Uo(i,i+"_worker",e)),oi(this,nn,nu).call(this)}).catch(t=>{te(this,ys).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},mr=new WeakSet,iu=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ri(ee,mr),ri(ee,wu,0),ri(ee,ia,!1),ri(ee,sa,new WeakMap),Je&&(dn(ee,ia,!0),gr.workerSrc||="./pdf.worker.mjs"),ee._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const r=new URL(e,i);return i.origin===r.origin},ee._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},ee.fromPort=t=>{if(VR("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ee.create(t)};let Qo=ee;class XN{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#a=null;constructor(t,e,i,r,o){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new px,this.fontLoader=new QR({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(t,e=null){const i=this.#t.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return $t(this,"annotationStorage",new Xp)}getRenderingIntent(t,e=vs.ENABLE,i=null,r=!1,o=!1){let c=Cn.DISPLAY,u=ip;switch(t){case"any":c=Cn.ANY;break;case"display":break;case"print":c=Cn.PRINT;break;default:_t(`getRenderingIntent - invalid intent: ${t}`)}const h=c&Cn.PRINT&&i instanceof nx?i:this.annotationStorage;switch(e){case vs.DISABLE:c+=Cn.ANNOTATIONS_DISABLE;break;case vs.ENABLE:break;case vs.ENABLE_FORMS:c+=Cn.ANNOTATIONS_FORMS;break;case vs.ENABLE_STORAGE:c+=Cn.ANNOTATIONS_STORAGE,u=h.serializable;break;default:_t(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=Cn.IS_EDITING),o&&(c+=Cn.OPLIST);const{ids:f,hash:p}=h.modifiedIds,m=[c,u.hash,p];return{renderingIntent:c,cacheKey:m.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#e.values())t.push(i._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Ze.cleanup(),this._networkStream?.cancelAllRequests(new xs("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{Ae(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){r.close();return}Ae(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:c}=this._fullReader;return(!r||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(i,r)=>{Ae(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:c,done:u}){if(u){r.close();return}Ae(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{o.cancel(c),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new qN(i,this))}),t.on("DocException",i=>{e._capability.reject(fn(i))}),t.on("PasswordRequest",i=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw fn(i);const r=o=>{o instanceof Error?this.#a.reject(o):this.#a.resolve({password:o})};e.onPassword(r,i.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),t.on("DataLoaded",i=>{e.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#e.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,o])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in o){const f=o.error;_t(`Error during font loading: ${f}`),this.commonObjs.resolve(i,f);break}const c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,u=new ZR(o,c);this.fontLoader.bind(u).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&(u.data=null),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:h}=o;Ae(h,"The imageRef must be defined.");for(const f of this.#e.values())for(const[,p]of f.objs)if(p?.ref===h)return p.dataLen?(this.commonObjs.resolve(i,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,o,c])=>{if(this.destroyed)return;const u=this.#e.get(r);if(!u.objs.has(i)){if(u._intentStates.size===0){c?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(i,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",i=>{this.destroyed||e.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&_t("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=this.#n.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#i.set(o.refStr,t);const c=new YN(e,o,this,this._params.pdfBug);return this.#e.set(e,c),c});return this.#n.set(e,r),r}getPageIndex(t){return sp(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new _N(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new SN(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Ze.cleanup()}}cachedPageNumber(t){if(!sp(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class WN{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class ur{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:o,operatorList:c,pageIndex:u,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:v=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=m,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new WN(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(ur.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ur.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:o,background:c}=this.params;this.gfx=new pr(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),ur.#e.delete(this._canvas),t||=new Up(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ur.#e.delete(this._canvas),this.callback())))}}const vx="5.3.93",KN="cbeef3233";function v0(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Po(a){return Math.max(0,Math.min(255,255*a))}class y0{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Po(t),[t,t,t]}static G_HTML([t]){const e=v0(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Po)}static RGB_HTML(t){return`#${t.map(v0).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[Po(1-Math.min(1,t+r)),Po(1-Math.min(1,i+r)),Po(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,o=1-e,c=1-i,u=Math.min(r,o,c);return["CMYK",r,o,c,u]}}class QN{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Xt("Abstract method `_createSVG` called.")}}class vu extends QN{_createSVG(t){return document.createElementNS(zi,t)}}class yx{static setupStorage(t,e,i,r,o){const c=r.getValue(e,{value:null});switch(i.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(c.value===i.attributes.xfaOn?t.setAttribute("checked",!0):c.value===i.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",u=>{r.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const u of i.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const h=u.target.options,f=h.selectedIndex===-1?"":h[h.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:o}){const{attributes:c}=e,u=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[h,f]of Object.entries(c))if(f!=null)switch(h){case"class":f.length&&t.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,f)}u&&o.addLinkAttributes(t,c.href,c.newWindow),i&&c.dataId&&this.setupStorage(t,c.dataId,e,i)}static render(t){const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,o=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:o,linkService:i});const u=o!=="richText",h=t.div;if(h.append(c),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=m}u&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);c.append(m),u&&Ko.shouldBuildText(r.name)&&f.push(m)}return{textDivs:f}}const p=[[r,-1,c]];for(;p.length>0;){const[m,v,y]=p.at(-1);if(v+1===m.children.length){p.pop();continue}const w=m.children[++p.at(-1)[1]];if(w===null)continue;const{name:x}=w;if(x==="#text"){const S=document.createTextNode(w.value);f.push(S),y.append(S);continue}const E=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,x):document.createElement(x);if(y.append(E),w.attributes&&this.setAttributes({html:E,element:w,storage:e,intent:o,linkService:i}),w.children?.length>0)p.push([w,-1,E]);else if(w.value){const S=document.createTextNode(w.value);u&&Ko.shouldBuildText(x)&&f.push(S),E.append(S)}}for(const m of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const ZN=9,ua=new WeakSet;class w0{static create(t){switch(t.data.annotationType){case ye.LINK:return new wx(t);case ye.TEXT:return new JN(t);case ye.WIDGET:switch(t.data.fieldType){case"Tx":return new tk(t);case"Btn":return t.data.radioButton?new xx(t):t.data.checkBox?new nk(t):new ik(t);case"Ch":return new sk(t);case"Sig":return new ek(t)}return new ma(t);case ye.POPUP:return new rp(t);case ye.FREETEXT:return new Ax(t);case ye.LINE:return new rk(t);case ye.SQUARE:return new ok(t);case ye.CIRCLE:return new lk(t);case ye.POLYLINE:return new Sx(t);case ye.CARET:return new uk(t);case ye.INK:return new Jp(t);case ye.POLYGON:return new ck(t);case ye.HIGHLIGHT:return new Ex(t);case ye.UNDERLINE:return new dk(t);case ye.SQUIGGLY:return new hk(t);case ye.STRIKEOUT:return new fk(t);case ye.STAMP:return new _x(t);case ye.FILEATTACHMENT:return new pk(t);default:return new he(t)}}}class he{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return he._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:u,pageY:h}}}}=this;i?.splice(0,4,...t),e.left=`${100*(t[0]-u)/o}%`,e.top=`${100*(c-t[3]+h)/c}%`,r===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof ma||(o.tabIndex=0);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof rp){const{rotation:x}=e;return!e.hasOwnCanvas&&x!==0&&this.setRotation(x,o),o}const{width:u,height:h}=this;if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const x=e.borderStyle.horizontalCornerRadius,E=e.borderStyle.verticalCornerRadius;if(x>0||E>0){const k=`calc(${x}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;c.borderRadius=k}else if(this instanceof xx){const k=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;c.borderRadius=k}switch(e.borderStyle.style){case ar.SOLID:c.borderStyle="solid";break;case ar.DASHED:c.borderStyle="dashed";break;case ar.BEVELED:_t("Unimplemented border style: beveled");break;case ar.INSET:_t("Unimplemented border style: inset");break;case ar.UNDERLINE:c.borderBottomStyle="solid";break}const S=e.borderColor||null;S?(this.#e=!0,c.borderColor=mt.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):c.borderWidth=0}const f=mt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:p,pageHeight:m,pageX:v,pageY:y}=r.rawDims;c.left=`${100*(f[0]-v)/p}%`,c.top=`${100*(f[1]-y)/m}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(c.width=`${100*u/p}%`,c.height=`${100*h/m}%`):this.setRotation(w,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:c}=this;t%180!==0&&([o,c]=[c,o]),e.style.width=`${100*o/i}%`,e.style.height=`${100*c/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const o=r.detail[e],c=o[0],u=o.slice(1);r.target.style[i]=y0[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:y0[`${c}_rgb`](u)})};return $t(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||i[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,o]of Object.entries(e)){const c=i[r];if(c){const u={detail:{[r]:o},target:t};c(u),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,o]=this.data.rect.map(x=>Math.fround(x));if(t.length===8){const[x,E,S,k]=t.subarray(2,6);if(r===x&&o===E&&e===S&&i===k)return}const{style:c}=this.container;let u;if(this.#e){const{borderColor:x,borderWidth:E}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const h=r-e,f=o-i,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const v=p.createElement("defs");m.append(v);const y=p.createElement("clipPath"),w=`clippath_${this.data.id}`;y.setAttribute("id",w),y.setAttribute("clipPathUnits","objectBoundingBox"),v.append(y);for(let x=2,E=t.length;x<E;x+=8){const S=t[x],k=t[x+1],M=t[x+2],N=t[x+3],D=p.createElement("rect"),z=(M-e)/h,B=(o-k)/f,U=(S-M)/h,Q=(k-N)/f;D.setAttribute("x",z),D.setAttribute("y",B),D.setAttribute("width",U),D.setAttribute("height",Q),y.append(D),u?.push(`<rect vector-effect="non-scaling-stroke" x="${z}" y="${B}" width="${U}" height="${Q}"/>`)}this.#e&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(m),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:t}=this,e=this.#n=new rp({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){Xt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:c,exportValues:u}of r){if(o===-1||c===e)continue;const h=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${c}"]`);if(f&&!ua.has(f)){_t(`_getElementsByName - element not allowed: ${c}`);continue}i.push({id:c,exportValue:h,domElement:f})}return i}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,c=r.getAttribute("data-element-id");c!==e&&ua.has(r)&&i.push({id:c,exportValue:o,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class wx extends he{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action),r=!0):t.attachment?(this.#e(i,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#n(i,t.setOCGState),r=!0):t.dest?(this._bindLink(i,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,i=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,i),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const o=i.get(r);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){_t('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:r,refs:o,include:c}=e,u=[];if(r.length!==0||o.length!==0){const p=new Set(o);for(const m of r){const v=this._fieldObjects[m]||[];for(const{id:y}of v)p.add(y)}for(const m of Object.values(this._fieldObjects))for(const v of m)p.has(v.id)===c&&u.push(v)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const h=this.annotationStorage,f=[];for(const p of u){const{id:m}=p;switch(f.push(m),p.type){case"text":{const y=p.defaultValue||"";h.setValue(m,{value:y});break}case"checkbox":case"radiobutton":{const y=p.defaultValue===p.exportValues;h.setValue(m,{value:y});break}case"combobox":case"listbox":{const y=p.defaultValue||"";h.setValue(m,{value:y});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!ua.has(v)){_t(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class JN extends he{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class ma extends he{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return je.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,o){i.includes("mouse")?t.addEventListener(i,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(i,c=>{if(i==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c)}})})}_setEventListeners(t,e,i,r){for(const[o,c]of i)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,c,r),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":mt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||ZN,o=t.style;let c;const u=2,h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(bf*r))||1,m=f/p;c=Math.min(r,h(m/bf))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(r,h(f/bf))}o.fontSize=`calc(${c}px * var(--total-scale-factor))`,o.color=mt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class tk extends ma{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=i),o.setValue(c.id,{[r]:i})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let o=r.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let u=r.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),ua.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const f=this.data.dateFormat||this.data.timeFormat;f&&(i.title=f),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",m=>{t.setValue(e,{value:m.target.value}),this.setPropertyOnSiblings(i,"value",m.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue??"";i.value=h.userValue=v,h.formattedValue=null});let p=m=>{const{formattedValue:v}=h;v!=null&&(m.target.value=v),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",v=>{if(h.focused)return;const{target:y}=v;h.userValue&&(y.value=h.userValue),h.lastCommittedValue=y.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const y={value(w){h.userValue=w.detail.value??"",t.setValue(e,{value:h.userValue.toString()}),w.target.value=h.userValue},formattedValue(w){const{formattedValue:x}=w.detail;h.formattedValue=x,x!=null&&w.target!==document.activeElement&&(w.target.value=x),t.setValue(e,{formattedValue:x})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:x}=w.detail,{target:E}=w;if(x===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",x);let S=h.userValue;!S||S.length<=x||(S=S.slice(0,x),E.value=h.userValue=S,t.setValue(e,{value:S}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(y,v)}),i.addEventListener("keydown",v=>{h.commitKey=1;let y=-1;if(v.key==="Escape"?y=0:v.key==="Enter"&&!this.data.multiLine?y=2:v.key==="Tab"&&(h.commitKey=3),y===-1)return;const{value:w}=v.target;h.lastCommittedValue!==w&&(h.lastCommittedValue=w,h.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:y,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const m=p;p=null,i.addEventListener("blur",v=>{if(!h.focused||!v.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{value:y}=v.target;h.userValue=y,h.lastCommittedValue!==y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:y,willCommit:!0,commitKey:h.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}),m(v)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",v=>{h.lastCommittedValue=null;const{data:y,target:w}=v,{value:x,selectionStart:E,selectionEnd:S}=w;let k=E,M=S;switch(v.inputType){case"deleteWordBackward":{const N=x.substring(0,E).match(/\w*[^\w]*$/);N&&(k-=N[0].length);break}case"deleteWordForward":{const N=x.substring(E).match(/^[^\w]*\w*/);N&&(M+=N[0].length);break}case"deleteContentBackward":E===S&&(k-=1);break;case"deleteContentForward":E===S&&(M+=1);break}v.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,change:y||"",willCommit:!1,selStart:k,selEnd:M}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(p&&i.addEventListener("blur",p),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class ek extends ma{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class nk extends ma{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ua.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",c=>{const{name:u,checked:h}=c.target;for(const f of this._getElementsByName(u,i)){const p=h&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(i,{value:h})}),o.addEventListener("resetform",c=>{const u=e.defaultFieldValue||"Off";c.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const u={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(i,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class xx extends ma{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,i))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(ua.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",c=>{const{name:u,checked:h}=c.target;for(const f of this._getElementsByName(u,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:h})}),o.addEventListener("resetform",c=>{const u=e.defaultFieldValue;c.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;o.addEventListener("updatefromsandbox",u=>{const h={value:f=>{const p=c===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const v=p&&m.id===i;m.domElement&&(m.domElement.checked=v),t.setValue(m.id,{value:v})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class ik extends wx{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class sk extends ma{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");ua.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,i.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),o=!1),r.append(m)}let c=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),c=()=>{p.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const u=p=>{const m=p?"value":"textContent",{options:v,multiple:y}=r;return y?Array.prototype.filter.call(v,w=>w.selected).map(w=>w[m]):v.selectedIndex===-1?null:v[v.selectedIndex][m]};let h=u(!1);const f=p=>{const m=p.target.options;return Array.prototype.map.call(m,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const m={value(v){c?.();const y=v.detail.value,w=new Set(Array.isArray(y)?y:[y]);for(const x of r.options)x.selected=w.has(x.value);t.setValue(e,{value:u(!0)}),h=u(!1)},multipleSelection(v){r.multiple=!0},remove(v){const y=r.options,w=v.detail.remove;y[w].selected=!1,r.remove(w),y.length>0&&Array.prototype.findIndex.call(y,E=>E.selected)===-1&&(y[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),h=u(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),h=u(!1)},insert(v){const{index:y,displayValue:w,exportValue:x}=v.detail.insert,E=r.children[y],S=document.createElement("option");S.textContent=w,S.value=x,E?E.before(S):r.append(S),t.setValue(e,{value:u(!0),items:f(v)}),h=u(!1)},items(v){const{items:y}=v.detail;for(;r.length!==0;)r.remove(0);for(const w of y){const{displayValue:x,exportValue:E}=w,S=document.createElement("option");S.textContent=x,S.value=E,r.append(S)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),h=u(!1)},indices(v){const y=new Set(v.detail.indices);for(const w of v.target.options)w.selected=y.has(w.index);t.setValue(e,{value:u(!0)}),h=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("input",p=>{const m=u(!0),v=u(!1);t.setValue(e,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:v,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class rp extends he{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:he._hasPopupData(e)}),this.elements=i,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new ak({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${jp}${r}`).join(",")),this.container}}class ak{#t=this.#T.bind(this);#e=this.#C.bind(this);#n=this.#M.bind(this);#i=this.#S.bind(this);#a=null;#s=null;#o=null;#r=null;#d=null;#l=null;#h=null;#u=!1;#f=null;#p=null;#g=null;#c=null;#m=null;#b=null;#v=!1;constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:o,contentsObj:c,richText:u,parent:h,rect:f,parentRect:p,open:m}){this.#s=t,this.#m=r,this.#o=c,this.#c=u,this.#l=h,this.#a=e,this.#g=f,this.#h=p,this.#d=i,this.#r=Jw.toDateObject(o),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup());for(const v of this.trigger)v.addEventListener("click",this.#i),v.addEventListener("mouseenter",this.#n),v.addEventListener("mouseleave",this.#e),v.classList.add("popupTriggerArea");for(const v of i)v.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,m&&this.#S()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#a){const o=t.style.outlineColor=mt.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=this.#m,t.append(e),this.#r){const o=document.createElement("time");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#r.valueOf()})),o.dateTime=this.#r.toISOString(),e.append(o)}const r=this.#w;if(r)yx.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(this.#o);t.append(o)}this.#s.append(t)}get#w(){const t=this.#c,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#c.html||null}get#x(){return this.#w?.attributes?.style?.fontSize||0}get#A(){return this.#w?.attributes?.style?.color||null}#_(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#A,fontSize:this.#x?`calc(${this.#x}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return i}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let o=0,c=r.length;o<c;++o){const u=r[o];i.append(document.createTextNode(u)),o<c-1&&i.append(document.createElement("br"))}return i}#T(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#S()}updateEdited({rect:t,popupContent:e}){this.#b||={contentsObj:this.#o,richText:this.#c},t&&(this.#p=null),e&&(this.#c=this.#_(e),this.#o=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#b&&({contentsObj:this.#o,richText:this.#c}=this.#b,this.#b=null,this.#f?.remove(),this.#f=null,this.#p=null)}#R(){if(this.#p!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:o}}}=this.#l;let c=!!this.#h,u=c?this.#h:this.#g;for(const w of this.#d)if(!u||mt.intersect(w.data.rect,u)!==null){u=w.data.rect,c=!0;break}const h=mt.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=c?u[2]-u[0]+5:0,m=h[0]+p,v=h[1];this.#p=[100*(m-r)/e,100*(v-o)/i];const{style:y}=this.#s;y.left=`${this.#p[0]}%`,y.top=`${this.#p[1]}%`}#S(){this.#u=!this.#u,this.#u?(this.#M(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#C(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#M(){this.#f||this.render(),this.isVisible?this.#u&&this.#s.classList.add("focused"):(this.#R(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#C(){this.#s.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#s.hidden=!0)}maybeShow(){this.#v&&(this.#f||this.#M(),this.#v=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class Ax extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Et.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class rk extends he{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ok extends he{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",o/2),c.setAttribute("y",o/2),c.setAttribute("width",e-o),c.setAttribute("height",i-o),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class lk extends he{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",e/2),c.setAttribute("cy",i/2),c.setAttribute("rx",e/2-o/2),c.setAttribute("ry",i/2-o/2),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Sx extends he{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:i,popupRef:r},width:o,height:c}=this;if(!e)return this.container;const u=this.svgFactory.create(o,c,!0);let h=[];for(let p=0,m=e.length;p<m;p+=2){const v=e[p]-t[0],y=t[3]-e[p+1];h.push(`${v},${y}`)}h=h.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",h),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ck extends Sx{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class uk extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Jp extends he{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Et.HIGHLIGHT:Et.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:i,borderStyle:r,popupRef:o}}=this,{transform:c,width:u,height:h}=this.#n(e,t),f=this.svgFactory.create(u,h,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let m=0,v=i.length;m<v;m++){const y=this.svgFactory.createElement(this.svgElementName);this.#e.push(y),y.setAttribute("points",i[m].join(",")),p.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:i,rect:r}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),i)for(let c=0,u=this.#e.length;c<u;c++)this.#e[c].setAttribute("points",i[c].join(","));if(r){const{transform:c,width:u,height:h}=this.#n(this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${h}`),o.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ex extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Et.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class dk extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class hk extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class fk extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class _x extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Et.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class pk extends he{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:r}=je.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class tg{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:o,viewport:c,structTreeLayer:u}){this.div=t,this.#t=e,this.#e=i,this.#i=u||null,this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e,i){const r=t.firstChild||t,o=r.id=`${jp}${e}`,c=await this.#i?.getAriaAttributes(o);if(c)for(const[u,h]of c)r.setAttribute(u,h);i?i.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,i=this.div;ca(i,this.viewport);const r=new Map,o={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new vu,annotationStorage:t.annotationStorage||new Xp,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const u=c.annotationType===ye.POPUP;if(u){const p=r.get(c.id);if(!p)continue;o.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const h=w0.create(o);if(!h.isRenderable)continue;if(!u&&c.popupRef){const p=r.get(c.popupRef);p?p.push(h):r.set(c.popupRef,[h])}const f=h.render();c.hidden&&(f.style.visibility="hidden"),await this.#a(f,c.id,o.elements),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}this.#s()}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new vu,parent:this};for(const r of t){r.borderStyle||=tg._defaultBorderStyle,i.data=r;const o=w0.create(i);if(!o.isRenderable)continue;const c=o.render();await this.#a(c,r.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,ca(e,{rotation:t.rotation}),this.#s(),e.hidden=!1}#s(){if(!this.#e)return;const t=this.div;for(const[e,i]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):r.append(i);const c=this.#n.get(e);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,i),c._hasNoCanvas=!1):c.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return $t(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ar.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Yc=/\r\n?|\n/g;class Te extends bt{#t;#e="";#n=`${this.id}-editor`;#i=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Te.prototype,e=o=>o.isEmpty(),i=As.TRANSLATE_SMALL,r=As.TRANSLATE_BIG;return $t(this,"_keyboardManager",new ll([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=Et.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||Te._defaultColor||bt._defaultLineColor,this.#a=t.fontSize||Te._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){bt.initialize(t,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case It.FREETEXT_SIZE:Te._defaultFontSize=e;break;case It.FREETEXT_COLOR:Te._defaultColor=e;break}}updateParams(t,e){switch(t){case It.FREETEXT_SIZE:this.#s(e);break;case It.FREETEXT_COLOR:this.#o(e);break}}static get defaultPropertiesToUpdate(){return[[It.FREETEXT_SIZE,Te._defaultFontSize],[It.FREETEXT_COLOR,Te._defaultColor||bt._defaultLineColor]]}get propertiesToUpdate(){return[[It.FREETEXT_SIZE,this.#a],[It.FREETEXT_COLOR,this.#t]]}#s(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#a)*this.parentScale),this.#a=r,this.#d()},i=this.#a;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const e=r=>{this.#t=this.editorDiv.style.color=r},i=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Te._internalPadding*t,-(Te._internalPadding+this.#a)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(Te.#l(i)),e=i);return t.join(`
`)}#d(){const[t,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,c=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=c,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#r().trimEnd();if(t===e)return;const i=r=>{if(this.#e=r,!r){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Te._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,i.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,h]=this.getInitialTranslation();[u,h]=this.pageTranslationToScreen(u,h);const[f,p]=this.pageDimensions,[m,v]=this.pageTranslation;let y,w;switch(this.rotation){case 0:y=t+(c[0]-m)/f,w=e+this.height-(c[1]-v)/p;break;case 90:y=t+(c[0]-m)/f,w=e-(c[1]-v)/p,[u,h]=[h,-u];break;case 180:y=t-this.width+(c[0]-m)/f,w=e-(c[1]-v)/p,[u,h]=[-u,-h];break;case 270:y=t+(c[0]-m-this.height*p)/f,w=e+(c[1]-v-this.width*f)/p,[u,h]=[-h,u];break}this.setAt(y*r,w*o,u,h)}else this._moveAfterPaste(t,e);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Yc,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=Te.#f(e.getData("text")||"").replaceAll(Yc,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const c=o.getRangeAt(0);if(!r.includes(`
`)){c.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:h}=c,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const y=u.parentElement;if(p.push(u.nodeValue.slice(h).replaceAll(Yc,"")),y!==this.editorDiv){let w=f;for(const x of this.editorDiv.childNodes){if(x===y){w=p;continue}w.push(Te.#l(x))}}f.push(u.nodeValue.slice(0,h).replaceAll(Yc,""))}else if(u===this.editorDiv){let y=f,w=0;for(const x of this.editorDiv.childNodes)w++===h&&(y=p),y.push(Te.#l(x))}this.#e=`${f.join(`
`)}${r}${p.join(`
`)}`,this.#h();const m=new Range;let v=Math.sumPrecise(f.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const w=y.nodeValue.length;if(v<=w){m.setStart(y,v),m.setEnd(y,v);break}v-=w}o.removeAllRanges(),o.addRange(m)}#h(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,i){let r=null;if(t instanceof Ax){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:h,rotation:f,id:p,popupRef:m},textContent:v,textPosition:y,parent:{page:{pageNumber:w}}}=t;if(!v||v.length===0)return null;r=t={annotationType:Et.FREETEXT,color:Array.from(u),fontSize:c,value:v.join(`
`),position:y,pageIndex:w-1,rect:h.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:m}}const o=await super.deserialize(t,e,i);return o.#a=t.fontSize,o.#t=mt.makeHexColor(...t.color),o.#e=Te.#f(t.value),o._initialData=r,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Te._internalPadding*this.parentScale,i=this.getRect(e,e),r=bt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),o={annotationType:Et.FREETEXT,color:r,fontSize:this.#a,value:this.#u(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.isCopy=!0,o):this.annotationElementId&&!this.#p(o)?null:(o.id=this.annotationElementId,o)}#p(t){const{value:e,fontSize:i,color:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((c,u)=>c!==r[u])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:i}=e;i.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,i.color=this.#t,e.replaceChildren();for(const o of this.#e.split(`
`)){const c=document.createElement("div");c.append(o?document.createTextNode(o):document.createElement("br")),e.append(c)}const r=Te._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class ct{static PRECISION=1e-4;toSVGPath(){Xt("Abstract method `toSVGPath` must be implemented.")}get box(){Xt("Abstract getter `box` must be implemented.")}serialize(t,e){Xt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,r,o,c){c||=new Float32Array(t.length);for(let u=0,h=t.length;u<h;u+=2)c[u]=e+t[u]*r,c[u+1]=i+t[u+1]*o;return c}static _rescaleAndSwap(t,e,i,r,o,c){c||=new Float32Array(t.length);for(let u=0,h=t.length;u<h;u+=2)c[u]=e+t[u+1]*r,c[u+1]=i+t[u]*o;return c}static _translate(t,e,i,r){r||=new Float32Array(t.length);for(let o=0,c=t.length;o<c;o+=2)r[o]=e+t[o],r[o+1]=i+t[o+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,r,o){switch(o){case 90:return[1-e/i,t/r];case 180:return[1-t/i,1-e/r];case 270:return[e/i,1-t/r];default:return[t/i,e/r]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,r,o,c){return[(t+5*i)/6,(e+5*r)/6,(5*i+o)/6,(5*r+c)/6,(i+o)/2,(r+c)/2]}}class ea{#t;#e=[];#n;#i;#a=[];#s=new Float32Array(18);#o;#r;#d;#l;#h;#u;#f=[];static#p=8;static#g=2;static#c=ea.#p+ea.#g;constructor({x:t,y:e},i,r,o,c,u=0){this.#t=i,this.#u=o*r,this.#i=c,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=u,this.#l=ea.#p*r,this.#d=ea.#c*r,this.#h=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#m(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[i,r,o,c]=this.#t;return[(this.#o+(t[0]-e[0])/2-i)/o,(this.#r+(t[1]-e[1])/2-r)/c,(this.#o+(e[0]-t[0])/2-i)/o,(this.#r+(e[1]-t[1])/2-r)/c]}add({x:t,y:e}){this.#o=t,this.#r=e;const[i,r,o,c]=this.#t;let[u,h,f,p]=this.#s.subarray(8,12);const m=t-f,v=e-p,y=Math.hypot(m,v);if(y<this.#d)return!1;const w=y-this.#l,x=w/y,E=x*m,S=x*v;let k=u,M=h;u=f,h=p,f+=E,p+=S,this.#f?.push(t,e);const N=-S/w,D=E/w,z=N*this.#u,B=D*this.#u;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+z,p+B],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-z,p-B],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([u+z,h+B],2),this.#a.push(NaN,NaN,NaN,NaN,(u+z-i)/o,(h+B-r)/c),this.#s.set([u-z,h-B],14),this.#e.push(NaN,NaN,NaN,NaN,(u-z-i)/o,(h-B-r)/c)),this.#s.set([k,M,u,h,f,p],6),!this.isEmpty()):(this.#s.set([k,M,u,h,f,p],6),Math.abs(Math.atan2(M-h,k-u)-Math.atan2(S,E))<Math.PI/2?([u,h,f,p]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((u+f)/2-i)/o,((h+p)/2-r)/c),[u,h,k,M]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((k+u)/2-i)/o,((M+h)/2-r)/c),!0):([k,M,u,h,f,p]=this.#s.subarray(0,6),this.#a.push(((k+5*u)/6-i)/o,((M+5*h)/6-r)/c,((5*u+f)/6-i)/o,((5*h+p)/6-r)/c,((u+f)/2-i)/o,((h+p)/2-r)/c),[f,p,u,h,k,M]=this.#s.subarray(12,18),this.#e.push(((k+5*u)/6-i)/o,((M+5*h)/6-r)/c,((5*u+f)/6-i)/o,((5*h+p)/6-r)/c,((u+f)/2-i)/o,((h+p)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#b();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#w(i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#v(i),i.join(" ")}#b(){const[t,e,i,r]=this.#t,[o,c,u,h]=this.#m();return`M${(this.#s[2]-t)/i} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/i} ${(this.#s[5]-e)/r} L${o} ${c} L${u} ${h} L${(this.#s[16]-t)/i} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/i} ${(this.#s[15]-e)/r} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#w(t){const[e,i,r,o]=this.#t,c=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[h,f,p,m]=this.#m();t.push(`L${(c[0]-e)/r} ${(c[1]-i)/o} L${h} ${f} L${p} ${m} L${(u[0]-e)/r} ${(u[1]-i)/o}`)}newFreeDrawOutline(t,e,i,r,o,c){return new Cx(t,e,i,r,o,c)}getOutlines(){const t=this.#a,e=this.#e,i=this.#s,[r,o,c,u]=this.#t,h=new Float32Array((this.#f?.length??0)+2);for(let m=0,v=h.length-2;m<v;m+=2)h[m]=(this.#f[m]-r)/c,h[m+1]=(this.#f[m+1]-o)/u;if(h[h.length-2]=(this.#o-r)/c,h[h.length-1]=(this.#r-o)/u,isNaN(i[6])&&!this.isEmpty())return this.#x(h);const f=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){f[m]=f[m+1]=NaN;continue}f[m]=t[m],f[m+1]=t[m+1]}p=this.#_(f,p);for(let m=e.length-6;m>=6;m-=6)for(let v=0;v<6;v+=2){if(isNaN(e[m+v])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[m+v],f[p+1]=e[m+v+1],p+=2}return this.#A(f,p),this.newFreeDrawOutline(f,h,this.#t,this.#h,this.#n,this.#i)}#x(t){const e=this.#s,[i,r,o,c]=this.#t,[u,h,f,p]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-i)/o,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-i)/o,(e[5]-r)/c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-i)/o,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-i)/o,(e[15]-r)/c],0),this.newFreeDrawOutline(m,t,this.#t,this.#h,this.#n,this.#i)}#A(t,e){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#_(t,e){const i=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[o,c,u,h]=this.#t,[f,p,m,v]=this.#m();return t.set([NaN,NaN,NaN,NaN,(i[0]-o)/u,(i[1]-c)/h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-c)/h],e),e+=24}}class Cx extends ct{#t;#e=new Float32Array(4);#n;#i;#a;#s;#o;constructor(t,e,i,r,o,c){super(),this.#o=t,this.#a=e,this.#t=i,this.#s=r,this.#n=o,this.#i=c,this.lastPoint=[NaN,NaN],this.#r(c);const[u,h,f,p]=this.#e;for(let m=0,v=t.length;m<v;m+=2)t[m]=(t[m]-u)/f,t[m+1]=(t[m+1]-h)/p;for(let m=0,v=e.length;m<v;m+=2)e[m]=(e[m]-u)/f,e[m+1]=(e[m+1]-h)/p}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let e=6,i=this.#o.length;e<i;e+=6){if(isNaN(this.#o[e])){t.push(`L${this.#o[e+4]} ${this.#o[e+5]}`);continue}t.push(`C${this.#o[e]} ${this.#o[e+1]} ${this.#o[e+2]} ${this.#o[e+3]} ${this.#o[e+4]} ${this.#o[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,r],o){const c=i-t,u=r-e;let h,f;switch(o){case 0:h=ct._rescale(this.#o,t,r,c,-u),f=ct._rescale(this.#a,t,r,c,-u);break;case 90:h=ct._rescaleAndSwap(this.#o,t,e,c,u),f=ct._rescaleAndSwap(this.#a,t,e,c,u);break;case 180:h=ct._rescale(this.#o,i,e,-c,u),f=ct._rescale(this.#a,i,e,-c,u);break;case 270:h=ct._rescaleAndSwap(this.#o,i,r,-c,-u),f=ct._rescaleAndSwap(this.#a,i,r,-c,-u);break}return{outline:Array.from(h),points:[Array.from(f)]}}#r(t){const e=this.#o;let i=e[4],r=e[5];const o=[i,r,i,r];let c=i,u=r;const h=t?Math.max:Math.min;for(let p=6,m=e.length;p<m;p+=6){const v=e[p+4],y=e[p+5];if(isNaN(e[p]))mt.pointBoundingBox(v,y,o),u<y?(c=v,u=y):u===y&&(c=h(c,v));else{const w=[1/0,1/0,-1/0,-1/0];mt.bezierBoundingBox(i,r,...e.slice(p,p+6),w),mt.rectBoundingBox(...w,o),u<w[3]?(c=w[2],u=w[3]):u===w[3]&&(c=h(c,w[2]))}i=v,r=y}const f=this.#e;f[0]=o[0]-this.#n,f[1]=o[1]-this.#n,f[2]=o[2]-o[0]+2*this.#n,f[3]=o[3]-o[1]+2*this.#n,this.lastPoint=[c,u]}get box(){return this.#e}newOutliner(t,e,i,r,o,c=0){return new ea(t,e,i,r,o,c)}getNewOutline(t,e){const[i,r,o,c]=this.#e,[u,h,f,p]=this.#t,m=o*f,v=c*p,y=i*f+u,w=r*p+h,x=this.newOutliner({x:this.#a[0]*m+y,y:this.#a[1]*v+w},this.#t,this.#s,t,this.#i,e??this.#n);for(let E=2;E<this.#a.length;E+=2)x.add({x:this.#a[E]*m+y,y:this.#a[E+1]*v+w});return x.getOutlines()}}class op{#t;#e;#n=[];#i=[];constructor(t,e=0,i=0,r=!0){const o=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:y,y:w,width:x,height:E}of t){const S=Math.floor((y-e)/c)*c,k=Math.ceil((y+x+e)/c)*c,M=Math.floor((w-e)/c)*c,N=Math.ceil((w+E+e)/c)*c,D=[S,M,N,!0],z=[k,M,N,!1];this.#n.push(D,z),mt.rectBoundingBox(S,M,k,N,o)}const u=o[2]-o[0]+2*i,h=o[3]-o[1]+2*i,f=o[0]-i,p=o[1]-i,m=this.#n.at(r?-1:-2),v=[m[0],m[2]];for(const y of this.#n){const[w,x,E]=y;y[0]=(w-f)/u,y[1]=(x-p)/h,y[2]=(E-p)/h}this.#t=new Float32Array([f,p,u,h]),this.#e=v}getOutlines(){this.#n.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#d(e)),this.#o(e)):(this.#r(e),t.push(...this.#d(e)));return this.#a(t)}#a(t){const e=[],i=new Set;for(const c of t){const[u,h,f]=c;e.push([u,h,c],[u,f,c])}e.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=e.length;c<u;c+=2){const h=e[c][2],f=e[c+1][2];h.push(f),f.push(h),i.add(h),i.add(f)}const r=[];let o;for(;i.size>0;){const c=i.values().next().value;let[u,h,f,p,m]=c;i.delete(c);let v=u,y=h;for(o=[u,f],r.push(o);;){let w;if(i.has(p))w=p;else if(i.has(m))w=m;else break;i.delete(w),[u,h,f,p,m]=w,v!==u&&(o.push(v,y,u,y===h?h:f),v=u),y=y===h?f:h}o.push(v,y)}return new gk(r,this.#t,this.#e)}#s(t){const e=this.#i;let i=0,r=e.length-1;for(;i<=r;){const o=i+r>>1,c=e[o][0];if(c===t)return o;c<t?i=o+1:r=o-1}return r+1}#o([,t,e]){const i=this.#s(t);this.#i.splice(i,0,[t,e])}#r([,t,e]){const i=this.#s(t);for(let r=i;r<this.#i.length;r++){const[o,c]=this.#i[r];if(o!==t)break;if(o===t&&c===e){this.#i.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[o,c]=this.#i[r];if(o!==t)break;if(o===t&&c===e){this.#i.splice(r,1);return}}}#d(t){const[e,i,r]=t,o=[[e,i,r]],c=this.#s(r);for(let u=0;u<c;u++){const[h,f]=this.#i[u];for(let p=0,m=o.length;p<m;p++){const[,v,y]=o[p];if(!(f<=v||y<=h)){if(v>=h){if(y>f)o[p][1]=f;else{if(m===1)return[];o.splice(p,1),p--,m--}continue}o[p][2]=h,y>f&&o.push([e,f,y])}}}return o}}class gk extends ct{#t;#e;constructor(t,e,i){super(),this.#e=t,this.#t=e,this.lastPoint=i}toSVGPath(){const t=[];for(const e of this.#e){let[i,r]=e;t.push(`M${i} ${r}`);for(let o=2;o<e.length;o+=2){const c=e[o],u=e[o+1];c===i?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${c}`),i=c)}t.push("Z")}return t.join(" ")}serialize([t,e,i,r],o){const c=[],u=i-t,h=r-e;for(const f of this.#e){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=t+f[m]*u,p[m+1]=r-f[m+1]*h;c.push(p)}return c}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class lp extends ea{newFreeDrawOutline(t,e,i,r,o,c){return new mk(t,e,i,r,o,c)}}class mk extends Cx{newOutliner(t,e,i,r,o,c=0){return new lp(t,e,i,r,o,c)}}class Fn{#t=null;#e=null;#n;#i=null;#a=!1;#s=!1;#o=null;#r;#d=null;#l=null;#h;static#u=null;static get _keyboardManager(){return $t(this,"_keyboardManager",new ll([[["Escape","mac+Escape"],Fn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Fn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Fn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Fn.prototype._moveToPrevious],[["Home","mac+Home"],Fn.prototype._moveToBeginning],[["End","mac+End"],Fn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#h=It.HIGHLIGHT_COLOR,this.#o=t):(this.#s=!0,this.#h=It.HIGHLIGHT_DEFAULT_COLOR),this.#l=t?._uiManager||e,this.#r=this.#l._eventBus,this.#n=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Fn.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#o&&(t.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#c.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#n,t.append(i),t}renderMainDropdown(){const t=this.#i=this.#f();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#f(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Kn,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(t.id=`${this.#o.id}_colorpicker_dropdown`);for(const[i,r]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=i,o.setAttribute("data-l10n-id",Fn.#u[i]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=r,o.ariaSelected=r===this.#n,o.addEventListener("click",this.#p.bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#p(t,e){e.stopPropagation(),this.#r.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#c(t);return}const e=t.target.getAttribute("data-color");e&&this.#p(e,t)}_moveToNext(t){if(!this.#b){this.#c(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#b&&this._hideDropdownFromKeyboard();return}this.#b||this.#c(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#b){this.#c(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#b){this.#c(t);return}this.#i.lastChild?.focus()}#g(t){Fn._keyboardManager.exec(this,t)}#c(t){if(this.#b){this.hideDropdown();return}if(this.#a=t.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#l.combinedSignal(this.#d)})),this.#t.ariaExpanded="true",this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#f();this.#t.append(e)}#m(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#d?.abort(),this.#d=null}get#b(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#b){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#l.highlightColors.values();for(const i of this.#i.children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class ue extends bt{#t=null;#e=0;#n;#i=null;#a=null;#s=null;#o=null;#r=0;#d=null;#l=null;#h=null;#u=!1;#f=null;#p;#g=null;#c="";#m;#b="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Et.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=ue.prototype;return $t(this,"_keyboardManager",new ll([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||ue._defaultColor,this.#m=t.thickness||ue._defaultThickness,this.#p=t.opacity||ue._defaultOpacity,this.#n=t.boxes||null,this.#b=t.methodOfCreation||"",this.#c=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#w(t),this.#R()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#r=t.focusOffset,this.#v(),this.#R(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#b}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new op(this.#n,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new op(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{lastPoint:i}=this.#s;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#w({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#m/2+r,.0025),e>=0)this.#h=e,this.#i=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:ue.#S(this.#l.box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:ue.#S(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[o,c,u,h]=t.box;switch(this.rotation){case 0:this.x=o,this.y=c,this.width=u,this.height=h;break;case 90:{const[p,m]=this.parentDimensions;this.x=c,this.y=1-o,this.width=u*m/p,this.height=h*p/m;break}case 180:this.x=1-o,this.y=1-c,this.width=u,this.height=h;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-c,this.y=o,this.width=u*m/p,this.height=h*p/m;break}}const{lastPoint:f}=this.#s;this.#f=[(f[0]-o)/u,(f[1]-c)/h]}static initialize(t,e){bt.initialize(t,e),ue._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case It.HIGHLIGHT_DEFAULT_COLOR:ue._defaultColor=e;break;case It.HIGHLIGHT_THICKNESS:ue._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case It.HIGHLIGHT_COLOR:this.#x(e);break;case It.HIGHLIGHT_THICKNESS:this.#A(e);break}}static get defaultPropertiesToUpdate(){return[[It.HIGHLIGHT_DEFAULT_COLOR,ue._defaultColor],[It.HIGHLIGHT_THICKNESS,ue._defaultThickness]]}get propertiesToUpdate(){return[[It.HIGHLIGHT_COLOR,this.color||ue._defaultColor],[It.HIGHLIGHT_THICKNESS,this.#m||ue._defaultThickness],[It.HIGHLIGHT_FREE,this.#u]]}#x(t){const e=(o,c)=>{this.color=o,this.#p=c,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:o,"fill-opacity":c}}),this.#a?.updateColor(o)},i=this.color,r=this.#p;this.addCommands({cmd:e.bind(this,t,ue._defaultOpacity),undo:e.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#A(t){const e=this.#m,i=r=>{this.#m=r,this.#_(r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Fn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#k())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#k())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#R(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#T():t&&(this.#R(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#_(t){if(!this.#u)return;this.#w({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,i]=this.parentDimensions;this.setDims(this.width*e,this.height*i)}#T(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#R(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#p},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#g=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#i))}static#S([t,e,i,r],o){switch(o){case 90:return[1-e-r,t,r,i];case 180:return[1-t-i,1-e-r,i,r];case 270:return[e,1-t-i,r,i]}return[t,e,i,r]}rotate(t){const{drawLayer:e}=this.parent;let i;this.#u?(t=(t-this.rotation+360)%360,i=ue.#S(this.#l.box,t)):i=ue.#S([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#g,{bbox:ue.#S(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#c&&(t.setAttribute("aria-label",this.#c),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#M.bind(this),{signal:this._uiManager._signal});const e=this.#d=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),tx(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#M(t){ue._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#o,this.#r)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#u||this.#C(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!t}}))}#k(){return this.#u?this.rotation:0}#L(){if(this.#u)return null;const[t,e]=this.pageDimensions,[i,r]=this.pageTranslation,o=this.#n,c=new Float32Array(o.length*8);let u=0;for(const{x:h,y:f,width:p,height:m}of o){const v=h*t+i,y=(1-f)*e+r;c[u]=c[u+4]=v,c[u+1]=c[u+3]=y,c[u+2]=c[u+6]=v+p*t,c[u+5]=c[u+7]=y-m*e,u+=8}return c}#D(t){return this.#l.serialize(t,this.#k())}static startHighlighting(t,e,{target:i,x:r,y:o}){const{x:c,y:u,width:h,height:f}=i.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),v=y=>{p.abort(),this.#E(t,y)};window.addEventListener("blur",v,{signal:m}),window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("pointerdown",xe,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Kn,{signal:m}),i.addEventListener("pointermove",this.#B.bind(this,t),{signal:m}),this._freeHighlight=new lp({x:r,y:o},[c,u,h,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#B(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#E(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,i){let r=null;if(t instanceof Ex){const{data:{quadPoints:w,rect:x,rotation:E,id:S,color:k,opacity:M,popupRef:N},parent:{page:{pageNumber:D}}}=t;r=t={annotationType:Et.HIGHLIGHT,color:Array.from(k),opacity:M,quadPoints:w,boxes:null,pageIndex:D-1,rect:x.slice(0),rotation:E,annotationElementId:S,id:S,deleted:!1,popupRef:N}}else if(t instanceof Jp){const{data:{inkLists:w,rect:x,rotation:E,id:S,color:k,borderStyle:{rawWidth:M},popupRef:N},parent:{page:{pageNumber:D}}}=t;r=t={annotationType:Et.HIGHLIGHT,color:Array.from(k),thickness:M,inkLists:w,boxes:null,pageIndex:D-1,rect:x.slice(0),rotation:E,annotationElementId:S,id:S,deleted:!1,popupRef:N}}const{color:o,quadPoints:c,inkLists:u,opacity:h}=t,f=await super.deserialize(t,e,i);f.color=mt.makeHexColor(...o),f.#p=h||1,u&&(f.#m=t.thickness),f._initialData=r;const[p,m]=f.pageDimensions,[v,y]=f.pageTranslation;if(c){const w=f.#n=[];for(let x=0;x<c.length;x+=8)w.push({x:(c[x]-v)/p,y:1-(c[x+1]-y)/m,width:(c[x+2]-c[x])/p,height:(c[x+1]-c[x+5])/m});f.#v(),f.#R(),f.rotate(f.rotation)}else if(u){f.#u=!0;const w=u[0],x={x:w[0]-v,y:m-(w[1]-y)},E=new lp(x,[0,0,p,m],1,f.#m/2,!0,.001);for(let M=0,N=w.length;M<N;M+=2)x.x=w[M]-v,x.y=m-(w[M+1]-y),E.add(x);const{id:S,clipPathId:k}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);f.#w({highlightOutlines:E.getOutlines(),highlightId:S,clipPathId:k}),f.#R(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),i=bt._colorManager.convert(this.color),r={annotationType:Et.HIGHLIGHT,color:i,opacity:this.#p,thickness:this.#m,quadPoints:this.#L(),outlines:this.#D(e),pageIndex:this.pageIndex,rect:e,rotation:this.#k(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#y(r)?null:(r.id=this.annotationElementId,r)}#y(t){const{color:e}=this._initialData;return t.color.some((i,r)=>i!==e[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Tx{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Xt("Not implemented")}}class wt extends bt{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#a=null;static#s=NaN;static#o=null;static#r=null;static#d=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#h(t,this.parent),this.#c(t.box)}#h(t,e){const{id:i}=e.drawLayer.draw(wt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,e){const i=new Set(Object.keys(t));for(const[r,o]of Object.entries(e))i.has(r)?Object.assign(t[r],o):t[r]=o;return t}static getDefaultDrawingOptions(t){Xt("Not implemented")}static get typesMap(){Xt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,e),this._currentParent&&(wt.#n.updateProperty(i,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)t.push([i,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[i,r]of this.constructor.typesMap)t.push([i,e[r]]);return t}_updateProperty(t,e,i){const r=this._drawingOptions,o=r[e],c=u=>{r.updateProperty(e,u);const h=this.#t.updateProperty(e,u);h&&this.#c(h),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:c.bind(this,i),undo:c.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#g()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#g()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#g(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#c(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#t,t)}}#p([t,e,i,r]){const{parentDimensions:[o,c],rotation:u}=this;switch(u){case 90:return[e,1-t,i*(c/o),r*(o/c)];case 180:return[1-t,1-e,i,r];case 270:return[1-e,t,i*(c/o),r*(o/c)];default:return[t,e,i,r]}}#g(){const{x:t,y:e,width:i,height:r,parentDimensions:[o,c],rotation:u}=this;switch(u){case 90:return[1-e,t,i*(o/c),r*(c/o)];case 180:return[1-t,1-e,i,r];case 270:return[e,1-t,i*(o/c),r*(c/o)];default:return[t,e,i,r]}}#c(t){if([this.x,this.y,this.width,this.height]=this.#p(t),this.div){this.fixAndSetPosition();const[e,i]=this.parentDimensions;this.setDims(this.width*e,this.height*i)}this._onResized()}#m(){const{x:t,y:e,width:i,height:r,rotation:o,parentRotation:c,parentDimensions:[u,h]}=this;switch((o*4+c)/90){case 1:return[1-e-r,t,r,i];case 2:return[1-t-i,1-e-r,i,r];case 3:return[e,1-t-i,r,i];case 4:return[t,e-i*(u/h),r*(h/u),i*(u/h)];case 5:return[1-e,t,i*(u/h),r*(h/u)];case 6:return[1-t-r*(h/u),1-e,r*(h/u),i*(u/h)];case 7:return[e-i*(u/h),1-t-r*(h/u),i*(u/h),r*(h/u)];case 8:return[t-i,e-r,i,r];case 9:return[1-e,t-i,r,i];case 10:return[1-t,1-e,i,r];case 11:return[e-r,1-t,r,i];case 12:return[t-r*(h/u),e,r*(h/u),i*(u/h)];case 13:return[1-e-i*(u/h),t-r*(h/u),i*(u/h),r*(h/u)];case 14:return[1-t,1-e-i*(u/h),r*(h/u),i*(u/h)];case 15:return[e,1-t,i*(u/h),r*(h/u)];default:return[t,e,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,wt._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[o,c]=this.parentDimensions;return this.setDims(this.width*o,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),i}static createDrawerInstance(t,e,i,r,o){Xt("Not implemented")}static startDrawing(t,e,i,r){const{target:o,offsetX:c,offsetY:u,pointerId:h,pointerType:f}=r;if(wt.#o&&wt.#o!==f)return;const{viewport:{rotation:p}}=t,{width:m,height:v}=o.getBoundingClientRect(),y=wt.#i=new AbortController,w=t.combinedSignal(y);if(wt.#s||=h,wt.#o??=f,window.addEventListener("pointerup",x=>{wt.#s===x.pointerId?this._endDraw(x):wt.#r?.delete(x.pointerId)},{signal:w}),window.addEventListener("pointercancel",x=>{wt.#s===x.pointerId?this._currentParent.endDrawingSession():wt.#r?.delete(x.pointerId)},{signal:w}),window.addEventListener("pointerdown",x=>{wt.#o===x.pointerType&&((wt.#r||=new Set).add(x.pointerId),wt.#n.isCancellable()&&(wt.#n.removeLastElement(),wt.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",Kn,{signal:w}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),o.addEventListener("touchmove",x=>{x.timeStamp===wt.#d&&xe(x)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),wt.#n){t.drawLayer.updateProperties(this._currentDrawId,wt.#n.startNew(c,u,m,v,p));return}e.updateUIForDefaultProperties(this),wt.#n=this.createDrawerInstance(c,u,m,v,p),wt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(wt.#a.toSVGProperties(),wt.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(wt.#d=-1,!wt.#n)return;const{offsetX:e,offsetY:i,pointerId:r}=t;if(wt.#s===r){if(wt.#r?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,wt.#n.add(e,i)),wt.#d=t.timeStamp,xe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,wt.#n=null,wt.#a=null,wt.#o=null,wt.#d=NaN),wt.#i&&(wt.#i.abort(),wt.#i=null,wt.#s=NaN,wt.#r=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,wt.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=wt.#n,r=this._currentDrawId,o=i.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,i.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:It.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(It.DRAW_STEP),!wt.#n.isEmpty()){const{pageDimensions:[i,r],scale:o}=e,c=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:wt.#n.getOutlines(i*o,r*o,o,this._INNER_MARGIN),drawingOptions:wt.#a,mustBeCommitted:!t});return this._cleanup(!0),c}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,i,r,o,c){Xt("Not implemented")}static async deserialize(t,e,i){const{rawDims:{pageWidth:r,pageHeight:o,pageX:c,pageY:u}}=e.viewport,h=this.deserializeDraw(c,u,r,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,i);return f.createDrawingOptions(t),f.#l({drawOutlines:h}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,i]=this.pageTranslation,[r,o]=this.pageDimensions;return this.#t.serialize([e,i,r,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class bk{#t=new Float64Array(6);#e;#n;#i;#a;#s;#o="";#r=0;#d=new ul;#l;#h;constructor(t,e,i,r,o,c){this.#l=i,this.#h=r,this.#i=o,this.#a=c,[t,e]=this.#u(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#n=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#u(t,e){return ct._normalizePoint(t,e,this.#l,this.#h,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#u(t,e);const[i,r,o,c]=this.#t.subarray(2,6),u=t-o,h=e-c;return Math.hypot(this.#l*u,this.#h*h)<=2?null:(this.#s.push(t,e),isNaN(i)?(this.#t.set([o,c,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,r,o,c,t,e],0),this.#e.push(...ct.createBezierPoints(i,r,o,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,o){this.#l=i,this.#h=r,this.#i=o,[t,e]=this.#u(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#n.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#n.push({line:c,points:this.#s}),this.#t.set(c,0),this.#r=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#s=t.points,this.#r=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#d.removeLastElement();this.#n.pop(),this.#o="";for(let t=0,e=this.#n.length;t<e;t++){const{line:i,points:r}=this.#n[t];this.#e=i,this.#s=r,this.#r=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const t=ct.svgRound(this.#e[4]),e=ct.svgRound(this.#e[5]);if(this.#s.length===2)return this.#o=`${this.#o} M ${t} ${e} Z`,this.#o;if(this.#s.length<=6){const r=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,r)} M ${t} ${e}`,this.#r=6}if(this.#s.length===4){const r=ct.svgRound(this.#e[10]),o=ct.svgRound(this.#e[11]);return this.#o=`${this.#o} L ${r} ${o}`,this.#r=12,this.#o}const i=[];this.#r===0&&(i.push(`M ${t} ${e}`),this.#r=6);for(let r=this.#r,o=this.#e.length;r<o;r+=6){const[c,u,h,f,p,m]=this.#e.slice(r,r+6).map(ct.svgRound);i.push(`C${c} ${u} ${h} ${f} ${p} ${m}`)}return this.#o+=i.join(" "),this.#r=this.#e.length,this.#o}getOutlines(t,e,i,r){const o=this.#n.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#d.build(this.#n,t,e,i,this.#i,this.#a,r),this.#t=null,this.#e=null,this.#n=null,this.#o=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class ul extends ct{#t;#e=0;#n;#i;#a;#s;#o;#r;#d;build(t,e,i,r,o,c,u){this.#a=e,this.#s=i,this.#o=r,this.#r=o,this.#d=c,this.#n=u??0,this.#i=t,this.#u()}get thickness(){return this.#d}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${ct.svgRound(e[4])} ${ct.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${ct.svgRound(e[10])} ${ct.svgRound(e[11])}`);continue}for(let i=6,r=e.length;i<r;i+=6){const[o,c,u,h,f,p]=e.subarray(i,i+6).map(ct.svgRound);t.push(`C${o} ${c} ${u} ${h} ${f} ${p}`)}}return t.join("")}serialize([t,e,i,r],o){const c=[],u=[],[h,f,p,m]=this.#h();let v,y,w,x,E,S,k,M,N;switch(this.#r){case 0:N=ct._rescale,v=t,y=e+r,w=i,x=-r,E=t+h*i,S=e+(1-f-m)*r,k=t+(h+p)*i,M=e+(1-f)*r;break;case 90:N=ct._rescaleAndSwap,v=t,y=e,w=i,x=r,E=t+f*i,S=e+h*r,k=t+(f+m)*i,M=e+(h+p)*r;break;case 180:N=ct._rescale,v=t+i,y=e,w=-i,x=r,E=t+(1-h-p)*i,S=e+f*r,k=t+(1-h)*i,M=e+(f+m)*r;break;case 270:N=ct._rescaleAndSwap,v=t+i,y=e+r,w=-i,x=-r,E=t+(1-f-m)*i,S=e+(1-h-p)*r,k=t+(1-f)*i,M=e+(1-h)*r;break}for(const{line:D,points:z}of this.#i)c.push(N(D,v,y,w,x,o?new Array(D.length):null)),u.push(N(z,v,y,w,x,o?new Array(z.length):null));return{lines:c,points:u,rect:[E,S,k,M]}}static deserialize(t,e,i,r,o,{paths:{lines:c,points:u},rotation:h,thickness:f}){const p=[];let m,v,y,w,x;switch(h){case 0:x=ct._rescale,m=-t/i,v=e/r+1,y=1/i,w=-1/r;break;case 90:x=ct._rescaleAndSwap,m=-e/r,v=-t/i,y=1/r,w=1/i;break;case 180:x=ct._rescale,m=t/i+1,v=-e/r,y=-1/i,w=1/r;break;case 270:x=ct._rescaleAndSwap,m=e/r+1,v=t/i+1,y=-1/r,w=-1/i;break}if(!c){c=[];for(const S of u){const k=S.length;if(k===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(k===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const M=new Float32Array(3*(k-2));c.push(M);let[N,D,z,B]=S.subarray(0,4);M.set([NaN,NaN,NaN,NaN,N,D],0);for(let U=4;U<k;U+=2){const Q=S[U],it=S[U+1];M.set(ct.createBezierPoints(N,D,z,B,Q,it),(U-2)*3),[N,D,z,B]=[z,B,Q,it]}}}for(let S=0,k=c.length;S<k;S++)p.push({line:x(c[S].map(M=>M??NaN),m,v,y,w),points:x(u[S].map(M=>M??NaN),m,v,y,w)});const E=new this.prototype.constructor;return E.build(p,i,r,1,h,f,o),E}#l(t=this.#d){const e=this.#n+t/2*this.#o;return this.#r%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#h(){const[t,e,i,r]=this.#t,[o,c]=this.#l(0);return[t+o,e+c,i-2*o,r-2*c]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#i){if(r.length<=12){for(let u=4,h=r.length;u<h;u+=6)mt.pointBoundingBox(r[u],r[u+1],t);continue}let o=r[4],c=r[5];for(let u=6,h=r.length;u<h;u+=6){const[f,p,m,v,y,w]=r.subarray(u,u+6);mt.bezierBoundingBox(o,c,f,p,m,v,y,w,t),o=y,c=w}}const[e,i]=this.#l();t[0]=tn(t[0]-e,0,1),t[1]=tn(t[1]-i,0,1),t[2]=tn(t[2]+e,0,1),t[3]=tn(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,i]=this.#l();this.#d=t;const[r,o]=this.#l(),[c,u]=[r-e,o-i],h=this.#t;return h[0]-=c,h[1]-=u,h[2]+=2*c,h[3]+=2*u,h}updateParentDimensions([t,e],i){const[r,o]=this.#l();this.#a=t,this.#s=e,this.#o=i;const[c,u]=this.#l(),h=c-r,f=u-o,p=this.#t;return p[0]-=h,p[1]-=f,p[2]+=2*h,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(ct.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let i=0,r=0,o=0,c=0,u=0,h=0;switch(this.#e){case 90:r=e/t,o=-t/e,u=t;break;case 180:i=-1,c=-1,u=t,h=e;break;case 270:r=-e/t,o=t/e,h=e;break;default:return""}return`matrix(${i} ${r} ${o} ${c} ${ct.svgRound(u)} ${ct.svgRound(h)})`}getPathResizingSVGProperties([t,e,i,r]){const[o,c]=this.#l(),[u,h,f,p]=this.#t;if(Math.abs(f-o)<=ct.PRECISION||Math.abs(p-c)<=ct.PRECISION){const x=t+i/2-(u+f/2),E=e+r/2-(h+p/2);return{path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:`${this.rotationTransform} translate(${x} ${E})`}}}const m=(i-2*o)/(f-2*o),v=(r-2*c)/(p-2*c),y=f/i,w=p/r;return{path:{"transform-origin":`${ct.svgRound(u)} ${ct.svgRound(h)}`,transform:`${this.rotationTransform} scale(${y} ${w}) translate(${ct.svgRound(o)} ${ct.svgRound(c)}) scale(${m} ${v}) translate(${ct.svgRound(-o)} ${ct.svgRound(-c)})`}}}getPathResizedSVGProperties([t,e,i,r]){const[o,c]=this.#l(),u=this.#t,[h,f,p,m]=u;if(u[0]=t,u[1]=e,u[2]=i,u[3]=r,Math.abs(p-o)<=ct.PRECISION||Math.abs(m-c)<=ct.PRECISION){const E=t+i/2-(h+p/2),S=e+r/2-(f+m/2);for(const{line:k,points:M}of this.#i)ct._translate(k,E,S,k),ct._translate(M,E,S,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*o)/(p-2*o),y=(r-2*c)/(m-2*c),w=-v*(h+o)+t+o,x=-y*(f+c)+e+c;if(v!==1||y!==1||w!==0||x!==0)for(const{line:E,points:S}of this.#i)ct._rescale(E,w,x,v,y,E),ct._rescale(S,w,x,v,y,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){const[r,o]=i,c=this.#t,u=t-c[0],h=e-c[1];if(this.#a===r&&this.#s===o)for(const{line:f,points:p}of this.#i)ct._translate(f,u,h,f),ct._translate(p,u,h,p);else{const f=this.#a/r,p=this.#s/o;this.#a=r,this.#s=o;for(const{line:m,points:v}of this.#i)ct._rescale(m,u,h,f,p,m),ct._rescale(v,u,h,f,p,v);c[2]*=f,c[3]*=p}return c[0]=t,c[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ct.svgRound(t[0])} ${ct.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Fu extends Tx{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:bt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Fu(this._viewParameters);return t.updateAll(this),t}}class eg extends wt{static _type="ink";static _editorType=Et.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){bt.initialize(t,e),this._defaultDrawingOptions=new Fu(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return $t(this,"typesMap",new Map([[It.INK_THICKNESS,"stroke-width"],[It.INK_COLOR,"stroke"],[It.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,r,o){return new bk(t,e,i,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,r,o,c){return ul.deserialize(t,e,i,r,o,c)}static async deserialize(t,e,i){let r=null;if(t instanceof Jp){const{data:{inkLists:c,rect:u,rotation:h,id:f,color:p,opacity:m,borderStyle:{rawWidth:v},popupRef:y},parent:{page:{pageNumber:w}}}=t;r=t={annotationType:Et.INK,color:Array.from(p),thickness:v,opacity:m,paths:{points:c},boxes:null,pageIndex:w-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:y}}const o=await super.deserialize(t,e,i);return o._initialData=r,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=eg.getDefaultDrawingOptions({stroke:mt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:i,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":c,"stroke-width":u}}=this,h={annotationType:Et.INK,color:bt._colorManager.convert(o),opacity:c,thickness:u,paths:{lines:e,points:i},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(h.isCopy=!0,h):this.annotationElementId&&!this.#t(h)?null:(h.id=this.annotationElementId,h)}#t(t){const{color:e,thickness:i,opacity:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((c,u)=>c!==e[u])||t.thickness!==i||t.opacity!==r||t.pageIndex!==o}renderAnnotationElement(t){const{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class cp extends ul{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Xc=8,Oo=3;class or{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,i,r){return i-=t,r-=e,i===0?r>0?0:4:i===1?r+6:2-r}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,i,r,o,c,u){const h=this.#e(i,r,o,c);for(let f=0;f<8;f++){const p=(-f+h-u+16)%8,m=this.#n[2*p],v=this.#n[2*p+1];if(t[(i+m)*e+(r+v)]!==0)return p}return-1}static#a(t,e,i,r,o,c,u){const h=this.#e(i,r,o,c);for(let f=0;f<8;f++){const p=(f+h+u+16)%8,m=this.#n[2*p],v=this.#n[2*p+1];if(t[(i+m)*e+(r+v)]!==0)return p}return-1}static#s(t,e,i,r){const o=t.length,c=new Int32Array(o);for(let p=0;p<o;p++)c[p]=t[p]<=r?1:0;for(let p=1;p<i-1;p++)c[p*e]=c[p*e+e-1]=0;for(let p=0;p<e;p++)c[p]=c[e*i-1-p]=0;let u=1,h;const f=[];for(let p=1;p<i-1;p++){h=1;for(let m=1;m<e-1;m++){const v=p*e+m,y=c[v];if(y===0)continue;let w=p,x=m;if(y===1&&c[v-1]===0)u+=1,x-=1;else if(y>=1&&c[v+1]===0)u+=1,x+=1,y>1&&(h=y);else{y!==1&&(h=Math.abs(y));continue}const E=[m,p],S=x===m+1,k={isHole:S,points:E,id:u,parent:0};f.push(k);let M;for(const I of f)if(I.id===h){M=I;break}M?M.isHole?k.parent=S?M.parent:h:k.parent=S?h:M.parent:k.parent=S?h:0;const N=this.#i(c,e,p,m,w,x,0);if(N===-1){c[v]=-u,c[v]!==1&&(h=Math.abs(c[v]));continue}let D=this.#n[2*N],z=this.#n[2*N+1];const B=p+D,U=m+z;w=B,x=U;let Q=p,it=m;for(;;){const I=this.#a(c,e,Q,it,w,x,1);D=this.#n[2*I],z=this.#n[2*I+1];const j=Q+D,Z=it+z;E.push(Z,j);const $=Q*e+it;if(c[$+1]===0?c[$]=-u:c[$]===1&&(c[$]=u),j===p&&Z===m&&Q===B&&it===U){c[v]!==1&&(h=Math.abs(c[v]));break}else w=Q,x=it,Q=j,it=Z}}}return f}static#o(t,e,i,r){if(i-e<=4){for(let B=e;B<i-2;B+=2)r.push(t[B],t[B+1]);return}const o=t[e],c=t[e+1],u=t[i-4]-o,h=t[i-3]-c,f=Math.hypot(u,h),p=u/f,m=h/f,v=p*c-m*o,y=h/u,w=1/f,x=Math.atan(y),E=Math.cos(x),S=Math.sin(x),k=w*(Math.abs(E)+Math.abs(S)),M=w*(1-k+k**2),N=Math.max(Math.atan(Math.abs(S+E)*M),Math.atan(Math.abs(S-E)*M));let D=0,z=e;for(let B=e+2;B<i-2;B+=2){const U=Math.abs(v-p*t[B+1]+m*t[B]);U>D&&(z=B,D=U)}D>(f*N)**2?(this.#o(t,e,z+2,r),this.#o(t,z,i,r)):r.push(o,c)}static#r(t){const e=[],i=t.length;return this.#o(t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e}static#d(t,e,i,r,o,c){const u=new Float32Array(c**2),h=-2*r**2,f=c>>1;for(let x=0;x<c;x++){const E=(x-f)**2;for(let S=0;S<c;S++)u[x*c+S]=Math.exp((E+(S-f)**2)/h)}const p=new Float32Array(256),m=-2*o**2;for(let x=0;x<256;x++)p[x]=Math.exp(x**2/m);const v=t.length,y=new Uint8Array(v),w=new Uint32Array(256);for(let x=0;x<i;x++)for(let E=0;E<e;E++){const S=x*e+E,k=t[S];let M=0,N=0;for(let z=0;z<c;z++){const B=x+z-f;if(!(B<0||B>=i))for(let U=0;U<c;U++){const Q=E+U-f;if(Q<0||Q>=e)continue;const it=t[B*e+Q],I=u[z*c+U]*p[Math.abs(it-k)];M+=it*I,N+=I}}const D=y[S]=Math.round(M/N);w[D]++}return[y,w]}static#l(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e}static#h(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let r=-1/0,o=1/0;for(let u=0,h=i.length;u<h;u++){if(t[(u<<2)+3]===0){r=i[u]=255;continue}const p=i[u]=t[u<<2];p>r&&(r=p),p<o&&(o=p)}const c=255/(r-o);for(let u=0;u<e;u++)i[u]=(i[u]-o)*c;return i}static#u(t){let e,i=-1/0,r=-1/0;const o=t.findIndex(h=>h!==0);let c=o,u=o;for(e=o;e<256;e++){const h=t[e];h>i&&(e-c>r&&(r=e-c,u=e-1),i=h,c=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:i,height:r}=t,{maxDim:o}=this.#t;let c=i,u=r;if(i>o||r>o){let v=i,y=r,w=Math.log2(Math.max(i,r)/o);const x=Math.floor(w);w=w===x?x-1:x;for(let S=0;S<w;S++){c=Math.ceil(v/2),u=Math.ceil(y/2);const k=new OffscreenCanvas(c,u);k.getContext("2d").drawImage(t,0,0,v,y,0,0,c,u),v=c,y=u,t!==e&&t.close(),t=k.transferToImageBitmap()}const E=Math.min(o/c,o/u);c=Math.round(c*E),u=Math.round(u*E)}const f=new OffscreenCanvas(c,u).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,c,u);const p=f.getImageData(0,0,c,u).data;return[this.#h(p),c,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:r},o,c,u,h){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const m=200,v=p.font=`${i} ${r} ${m}px ${e}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:w,actualBoundingBoxAscent:x,actualBoundingBoxDescent:E,fontBoundingBoxAscent:S,fontBoundingBoxDescent:k,width:M}=p.measureText(t),N=1.5,D=Math.ceil(Math.max(Math.abs(y)+Math.abs(w)||0,M)*N),z=Math.ceil(Math.max(Math.abs(x)+Math.abs(E)||m,Math.abs(S)+Math.abs(k)||m)*N);f=new OffscreenCanvas(D,z),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=v,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,D,z),p.fillStyle="black",p.fillText(t,D*(N-1)/2,z*(3-N)/2);const B=this.#h(p.getImageData(0,0,D,z).data),U=this.#l(B),Q=this.#u(U),it=this.#s(B,D,z,Q);return this.processDrawnLines({lines:{curves:it,width:D,height:z},pageWidth:o,pageHeight:c,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,i,r,o){const[c,u,h]=this.#f(t),[f,p]=this.#d(c,u,h,Math.hypot(u,h)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#u(p),v=this.#s(f,u,h,m);return this.processDrawnLines({lines:{curves:v,width:u,height:h},pageWidth:e,pageHeight:i,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:o,mustSmooth:c,areContours:u}){r%180!==0&&([e,i]=[i,e]);const{curves:h,width:f,height:p}=t,m=t.thickness??0,v=[],y=Math.min(e/f,i/p),w=y/e,x=y/i,E=[];for(const{points:k}of h){const M=c?this.#r(k):k;if(!M)continue;E.push(M);const N=M.length,D=new Float32Array(N),z=new Float32Array(3*(N===2?2:N-2));if(v.push({line:z,points:D}),N===2){D[0]=M[0]*w,D[1]=M[1]*x,z.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[B,U,Q,it]=M;B*=w,U*=x,Q*=w,it*=x,D.set([B,U,Q,it],0),z.set([NaN,NaN,NaN,NaN,B,U],0);for(let I=4;I<N;I+=2){const j=D[I]=M[I]*w,Z=D[I+1]=M[I+1]*x;z.set(ct.createBezierPoints(B,U,Q,it,j,Z),(I-2)*3),[B,U,Q,it]=[Q,it,j,Z]}}if(v.length===0)return null;const S=u?new cp:new ul;return S.build(v,e,i,1,r,u?0:m,o),{outline:S,newCurves:E,areContours:u,thickness:m,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:r,height:o}){let c=1/0,u=-1/0,h=0;for(const M of t){h+=M.length;for(let N=2,D=M.length;N<D;N++){const z=M[N]-M[N-2];c=Math.min(c,z),u=Math.max(u,z)}}let f;c>=-128&&u<=127?f=Int8Array:c>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,m=Xc+Oo*p,v=new Uint32Array(m);let y=0;v[y++]=m*Uint32Array.BYTES_PER_ELEMENT+(h-2*p)*f.BYTES_PER_ELEMENT,v[y++]=0,v[y++]=r,v[y++]=o,v[y++]=e?0:1,v[y++]=Math.max(0,Math.floor(i??0)),v[y++]=p,v[y++]=f.BYTES_PER_ELEMENT;for(const M of t)v[y++]=M.length-2,v[y++]=M[0],v[y++]=M[1];const w=new CompressionStream("deflate-raw"),x=w.writable.getWriter();await x.ready,x.write(v);const E=f.prototype.constructor;for(const M of t){const N=new E(M.length-2);for(let D=2,z=M.length;D<z;D++)N[D-2]=M[D]-M[D-2];x.write(N)}x.close();const S=await new Response(w.readable).arrayBuffer(),k=new Uint8Array(S);return Zw(k)}static async decompressSignature(t){try{const e=HR(t),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let c=null,u=0;for await(const M of i)c||=new Uint8Array(new Uint32Array(M.buffer,0,4)[0]),c.set(M,u),u+=M.length;const h=new Uint32Array(c.buffer,0,c.length>>2),f=h[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=h[2],m=h[3],v=h[4]===0,y=h[5],w=h[6],x=h[7],E=[],S=(Xc+Oo*w)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(x){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(c.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(c.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(c.buffer,S);break}u=0;for(let M=0;M<w;M++){const N=h[Oo*M+Xc],D=new Float32Array(N+2);E.push(D);for(let z=0;z<Oo-1;z++)D[z]=h[Oo*M+Xc+z+1];for(let z=0;z<N;z++)D[z+2]=D[z]+k[u++]}return{areContours:v,thickness:y,outlines:E,width:p,height:m}}catch(e){return _t(`decompressSignature: ${e}`),null}}}class ng extends Tx{constructor(){super(),super.updateProperties({fill:bt._defaultLineColor,"stroke-width":0})}clone(){const t=new ng;return t.updateAll(this),t}}class ig extends Fu{constructor(t){super(t),super.updateProperties({stroke:bt._defaultLineColor,"stroke-width":1})}clone(){const t=new ig(this._viewParameters);return t.updateAll(this),t}}class hi extends wt{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=Et.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){bt.initialize(t,e),this._defaultDrawingOptions=new ng,this._defaultDrawnSignatureOptions=new ig(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return $t(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:r,mustSmooth:o,areContours:c,description:u,uuid:h,heightInPage:f}=this.#n,{rawDims:{pageWidth:p,pageHeight:m},rotation:v}=this.parent.viewport,y=or.processDrawnLines({lines:r,pageWidth:p,pageHeight:m,rotation:v,innerMargin:hi._INNER_MARGIN,mustSmooth:o,areContours:c});this.addSignature(y,f,u,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:i,width:r,height:o}=this.#n,c=Math.max(r,o),u=or.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:i,width:r,height:o},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,i,r){const{x:o,y:c}=this,{outline:u}=this.#n=t;this.#t=u instanceof cp,this.description=i,this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let h;this.#t?h=hi.getDefaultDrawingOptions():(h=hi._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:h});const[f,p]=this.parentDimensions,[,m]=this.pageDimensions;let v=e/m;v=v>=1?.5:v,this.width*=v/this.height,this.width>=1&&(v*=.9/this.width,this.width=.9),this.height=v,this.setDims(f*this.width,p*this.height),this.x=o,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return or.process(t,e,i,r,hi._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:o}=this.parent.viewport;return or.extractContoursFromText(t,e,i,r,o,hi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return or.processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:hi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=hi.getDefaultDrawingOptions():(this._drawingOptions=hi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:i,rect:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,c={annotationType:Et.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:o,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.paths={lines:e,points:i},c.uuid=this.#i,c.isCopy=!0):c.lines=e,this.#e&&(c.accessibilityData={type:"Figure",alt:this.#e}),c}static deserializeDraw(t,e,i,r,o,c){return c.areContours?cp.deserialize(t,e,i,r,o,c):ul.deserialize(t,e,i,r,o,c)}static async deserialize(t,e,i){const r=await super.deserialize(t,e,i);return r.#t=t.areContours,r.#e=t.accessibilityData?.alt||"",r.#i=t.uuid,r}}class vk extends bt{#t=null;#e=null;#n=null;#i=null;#a=null;#s="";#o=null;#r=!1;#d=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Et.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){bt.initialize(t,e)}static isHandlingMimeForPasting(t){return np.includes(t)}static paste(t,e){e.pasteEditor({mode:Et.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#g()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:c}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:r,width:o,height:c,channels:r.length/(o*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const h=u.output;return await this.setGuessedAltText(h),e&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#p(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#u(i,!0)).finally(()=>this.#f());return}if(this.#i){const i=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#u(r)).finally(()=>this.#f());return}if(this.#a){const i=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(r=>this.#u(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=np.join(",");const e=this._uiManager._signal;this.#n=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(r)}i()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#p();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#a||this.#e||this.#r)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#r||(this.#t?this.#g():this.#p()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,r&&(this.#t=r),this.#r=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const t=200;this.#d=setTimeout(()=>{this.#d=null,this.#m()},t)}#g(){const{div:t}=this;let{width:e,height:i}=this.#t;const[r,o]=this.pageDimensions,c=.75;if(this.width)e=this.width*r,i=this.height*o;else if(e>c*r||i>c*o){const p=Math.min(c*r/e,c*o/i);e*=p,i*=p}const[u,h]=this.parentDimensions;this.setDims(e*u/r,i*h/o),this._uiManager.enableWaiting(!1);const f=this.#o=document.createElement("canvas");f.setAttribute("role","img"),this.addContainer(f),this.width=e/r,this.height=i/o,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,i=!1){t||(t=224);const{width:r,height:o}=this.#t,c=new mi;let u=this.#t,h=r,f=o,p=null;if(e){if(r>e||o>e){const z=Math.min(e/r,e/o);h=Math.floor(r*z),f=Math.floor(o*z)}p=document.createElement("canvas");const v=p.width=Math.ceil(h*c.sx),y=p.height=Math.ceil(f*c.sy);this.#l||(u=this.#c(v,y));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let x="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",E="#42414d");const S=15,k=S*c.sx,M=S*c.sy,N=new OffscreenCanvas(k*2,M*2),D=N.getContext("2d");D.fillStyle=x,D.fillRect(0,0,k*2,M*2),D.fillStyle=E,D.fillRect(0,0,k,M),D.fillRect(k,M,k,M),w.fillStyle=w.createPattern(N,"repeat"),w.fillRect(0,0,v,y),w.drawImage(u,0,0,u.width,u.height,0,0,v,y)}let m=null;if(i){let v,y;if(c.symmetric&&u.width<t&&u.height<t)v=u.width,y=u.height;else if(u=this.#t,r>t||o>t){const E=Math.min(t/r,t/o);v=Math.floor(r*E),y=Math.floor(o*E),this.#l||(u=this.#c(v,y))}const x=new OffscreenCanvas(v,y).getContext("2d",{willReadFrequently:!0});x.drawImage(u,0,0,u.width,u.height,0,0,v,y),m={width:v,height:y,data:x.getImageData(0,0,v,y).data}}return{canvas:p,width:h,height:f,imageData:m}}#c(t,e){const{width:i,height:r}=this.#t;let o=i,c=r,u=this.#t;for(;o>2*t||c>2*e;){const h=o,f=c;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(o,c);p.getContext("2d").drawImage(u,0,0,h,f,0,0,o,c),u=p.transferToImageBitmap()}return u}#m(){const[t,e]=this.parentDimensions,{width:i,height:r}=this,o=new mi,c=Math.ceil(i*t*o.sx),u=Math.ceil(r*e*o.sy),h=this.#o;if(!h||h.width===c&&h.height===u)return;h.width=c,h.height=u;const f=this.#l?this.#t:this.#c(c,u),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,c,u)}#b(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,i]=this.pageDimensions,r=Math.round(this.width*e*Sr.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Sr.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(r,o);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,o),c.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,i){let r=null,o=!1;if(t instanceof _x){const{data:{rect:x,rotation:E,id:S,structParent:k,popupRef:M},container:N,parent:{page:{pageNumber:D}},canvas:z}=t;let B,U;z?(delete t.canvas,{id:B,bitmap:U}=i.imageManager.getFromCanvas(N.id,z),z.remove()):(o=!0,t._hasNoCanvas=!0);const Q=(await e._structTree.getAriaAttributes(`${jp}${S}`))?.get("aria-label")||"";r=t={annotationType:Et.STAMP,bitmapId:B,bitmap:U,pageIndex:D-1,rect:x.slice(0),rotation:E,annotationElementId:S,id:S,deleted:!1,accessibilityData:{decorative:!1,altText:Q},isSvg:!1,structParent:k,popupRef:M}}const c=await super.deserialize(t,e,i),{rect:u,bitmap:h,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:v}=t;o?(i.addMissingCanvas(t.id,c),c.#r=!0):p&&i.imageManager.isValidId(p)?(c.#e=p,h&&(c.#t=h)):c.#i=f,c.#l=m;const[y,w]=c.pageDimensions;return c.width=(u[2]-u[0])/y,c.height=(u[3]-u[1])/w,v&&(c.altTextData=v),c._initialData=r,c.#h=!!r,c}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Et.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=this.#b(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#v(i);if(u.isSame)return null;u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,e===null)return i;e.stamps||=new Map;const c=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:c,serialized:i}),i.bitmap=this.#b(!1);else if(this.#l){const u=e.stamps.get(this.#e);c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=this.#b(!1))}return i}#v(t){const{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Fi{#t;#e=!1;#n=null;#i=null;#a=null;#s=new Map;#o=!1;#r=!1;#d=!1;#l=null;#h=null;#u=null;#f=null;#p=null;#g=-1;#c;static _initialized=!1;static#m=new Map([Te,eg,vk,ue,hi].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:o,annotationLayer:c,drawLayer:u,textLayer:h,viewport:f,l10n:p}){const m=[...Fi.#m.values()];if(!Fi._initialized){Fi._initialized=!0;for(const v of m)v.initialize(p,t)}t.registerEditorTypes(m),this.#c=t,this.pageIndex=e,this.div=i,this.#t=o,this.#n=c,this.viewport=f,this.#u=h,this.drawLayer=u,this._structTree=r,this.#c.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===Et.NONE}updateToolbar(t){this.#c.updateToolbar(t)}updateMode(t=this.#c.getMode()){switch(this.#A(),t){case Et.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Et.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Et.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of Fi.#m.values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#c.setEditingState(t)}addCommands(t){this.#c.addCommands(t)}cleanUndoStack(t){this.#c.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#p?.abort(),this.#p=null;const t=new Set;for(const i of this.#s.values())i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#c.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!this.#n){this.#d=!1;return}const e=this.#n.getEditableAnnotations();for(const i of e){if(i.hide(),this.#c.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#d=!1}disable(){if(this.#r=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#p){this.#p=new AbortController;const r=this.#c.combinedSignal(this.#p);this.#u.div.addEventListener("pointerdown",o=>{const{clientX:u,clientY:h,timeStamp:f}=o,p=this.#g;if(f-p>500){this.#g=f;return}this.#g=-1;const{classList:m}=this.div;m.toggle("getElements",!0);const v=document.elementsFromPoint(u,h);if(m.toggle("getElements",!1),!this.div.contains(v[0]))return;let y;const w=new RegExp(`^${Yw}[0-9]+$`);for(const E of v)if(w.test(E.id)){y=E.id;break}if(!y)return;const x=this.#s.get(y);x?.annotationElementId===null&&(o.stopPropagation(),o.preventDefault(),x.dblclick())},{signal:r,capture:!0})}const t=new Map,e=new Map;for(const r of this.#s.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#n){const r=this.#n.getEditableAnnotations();for(const o of r){const{id:c}=o.data;if(this.#c.isDeletedAnnotationElement(c))continue;let u=e.get(c);if(u){u.resetAnnotationElement(o),u.show(!1),o.show();continue}u=t.get(c),u&&(this.#c.addChangedExistingAnnotation(u),u.renderAnnotationElement(o)&&u.show(!1)),o.show()}}this.#A(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of Fi.#m.values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#r=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#c.getActive()!==t&&this.#c.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#c.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#b(t){this.#c.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:i}=je.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),ue.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#c.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#c.isDeletedAnnotationElement(e)&&this.#c.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#r&&t.annotationElementId&&this.#c.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#c.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#c.addDeletedAnnotationElement(t.annotationElementId),bt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#c.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#d),this.#c.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return this.#c.getId()}get#v(){return Fi.#m.get(this.#c.getMode())}combinedSignal(t){return this.#c.combinedSignal(t)}#w(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#c.updateMode(t.mode);const{offsetX:i,offsetY:r}=this.#x(),o=this.getNextId(),c=this.#w({parent:this,id:o,x:i,y:r,uiManager:this.#c,isCentered:!0,...e});c&&this.add(c)}async deserialize(t){return await Fi.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#c)||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),o=this.#w({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#c,isCentered:e,...i});return o&&this.add(o),o}#x(){const{x:t,y:e,width:i,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,t),c=Math.max(0,e),u=Math.min(window.innerWidth,t+i),h=Math.min(window.innerHeight,e+r),f=(o+u)/2-t,p=(c+h)/2-e,[m,v]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:m,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#x(),!0,t)}setSelected(t){this.#c.setSelected(t)}toggleSelected(t){this.#c.toggleSelected(t)}unselect(t){this.#c.unselect(t)}pointerup(t){const{isMac:e}=je.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#o||(this.#o=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#c.getMode();if(i===Et.STAMP||i===Et.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#c.getMode()===Et.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:e}=je.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#o=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const i=this.#c.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#c,!1,t);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#h=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#c,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#h=e);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#v.endDrawing(t)):null}findNewParent(t,e,i){const r=this.#c.findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#c.removeLayer(this)}#A(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,ca(this.div,t);for(const e of this.#c.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#c.commitOrRemove(),this.#A();const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,ca(this.div,{rotation:i}),e!==i)for(const r of this.#s.values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#c.viewParameters.realScale}}class ze{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return $t(this,"_svgFactory",new vu)}static#a(t,[e,i,r,o]){const{style:c}=t;c.top=`${100*i}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*o}%`}#s(){const t=ze._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#o(t,e){const i=ze._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const o=ze._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r}#r(t,e){for(const[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)}draw(t,e=!1,i=!1){const r=ze.#i++,o=this.#s(),c=ze._svgFactory.createElement("defs");o.append(c);const u=ze._svgFactory.createElement("path");c.append(u);const h=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(r,u);const f=i?this.#o(c,h):null,p=ze._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${h}`),this.updateProperties(o,t),this.#e.set(r,o),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const i=ze.#i++,r=this.#s(),o=ze._svgFactory.createElement("defs");r.append(o);const c=ze._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const m=ze._svgFactory.createElement("mask");o.append(m),h=`mask_p${this.pageIndex}_${i}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const v=ze._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const y=ze._svgFactory.createElement("use");m.append(y),y.setAttribute("href",`#${u}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=ze._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${u}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(i,r),i}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:i,bbox:r,rootClass:o,path:c}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(i&&this.#r(u,i),r&&ze.#a(u,r),o){const{classList:h}=u;for(const[f,p]of Object.entries(o))h.toggle(f,p)}if(c){const f=u.firstChild.firstChild;this.#r(f,c)}}}updateParent(t,e){if(e===this)return;const i=this.#e.get(t);i&&(e.#t.append(i),this.#e.delete(t),e.#e.set(t,i))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:op};globalThis.pdfjsLib={AbortException:xs,AnnotationEditorLayer:Fi,AnnotationEditorParamsType:It,AnnotationEditorType:Et,AnnotationEditorUIManager:As,AnnotationLayer:tg,AnnotationMode:vs,AnnotationType:ye,build:KN,ColorPicker:Fn,createValidAbsoluteUrl:Xw,DOMSVGFactory:vu,DrawLayer:ze,FeatureTest:je,fetchData:rl,getDocument:GN,getFilenameFromUrl:jR,getPdfFilenameFromUrl:UR,getUuid:Qw,getXfaPageViewport:GR,GlobalWorkerOptions:gr,ImageKind:eu,InvalidPDFException:ep,isDataScheme:$u,isPdfFile:Vp,isValidExplicitDest:nN,MathClamp:tn,noContextMenu:Kn,normalizeUnicode:FR,OPS:mu,OutputScale:mi,PasswordResponses:NR,PDFDataRangeTransport:gx,PDFDateString:Jw,PDFWorker:Qo,PermissionFlag:RR,PixelsPerInch:Sr,RenderingCancelledException:Up,ResponseException:bu,setLayerDimensions:ca,shadow:$t,SignatureExtractor:or,stopEvent:xe,SupportedImageMimeTypes:np,TextLayer:Ze,TouchManager:Iu,updateUrlHash:Ww,Util:mt,VerbosityLevel:Du,version:vx,XfaLayer:yx};var yk=(a=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(a,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):a)(function(a){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')}),x0=a=>a===!1?"false":a===!0?"true":a===0?"0":a,Qe=a=>{if(!a||typeof a!="object")return!0;for(let t in a)return!1;return!0},wk=(a,t)=>{if(a===t)return!0;if(!a||!t)return!1;let e=Object.keys(a),i=Object.keys(t);if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!i.includes(o)||a[o]!==t[o])return!1}return!0};function Mx(a,t){for(let e=0;e<a.length;e++){let i=a[e];Array.isArray(i)?Mx(i,t):t.push(i)}}var Rx=(...a)=>{let t=[];Mx(a,t);let e=[];for(let i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e},Nx=(a,t)=>{let e={};for(let i in a){let r=a[i];if(i in t){let o=t[i];Array.isArray(r)||Array.isArray(o)?e[i]=Rx(o,r):typeof r=="object"&&typeof o=="object"&&r&&o?e[i]=Nx(r,o):e[i]=o+" "+r}else e[i]=r}for(let i in t)i in a||(e[i]=t[i]);return e},xk=/\s+/g,A0=a=>!a||typeof a!="string"?a:a.replace(xk," ").trim(),dr=null,su=null,Ak=async()=>dr||su||(su=Lu(()=>Promise.resolve().then(()=>oM),[]).then(a=>(dr=a,a)).catch(()=>null),su),Sk=a=>t=>{if(su&&!dr)return t;if(dr){let{twMerge:e,extendTailwindMerge:i}=dr;return(Qe(a)?e:i({...a,extend:{theme:a.theme,classGroups:a.classGroups,conflictingClassGroupModifiers:a.conflictingClassGroupModifiers,conflictingClassGroups:a.conflictingClassGroups,...a.extend}}))(t)}try{let{twMerge:e,extendTailwindMerge:i}=yk("tailwind-merge");return dr={twMerge:e,extendTailwindMerge:i},(Qe(a)?e:i({...a,extend:{theme:a.theme,classGroups:a.classGroups,conflictingClassGroupModifiers:a.conflictingClassGroupModifiers,conflictingClassGroups:a.conflictingClassGroups,...a.extend}}))(t)}catch{return Ak(),t}},Ek={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},yu=(...a)=>{let t=[];kx(a,t);let e="";for(let i=0;i<t.length;i++)t[i]&&(e&&(e+=" "),e+=t[i]);return e||void 0};function kx(a,t){for(let e=0;e<a.length;e++){let i=a[e];Array.isArray(i)?kx(i,t):i&&t.push(i)}}var _f=null,up={},dp=!1,Wc=(...a)=>t=>{let e=yu(a);return!e||!t.twMerge?e:((!_f||dp)&&(dp=!1,_f=Sk(up)),_f(e)||void 0)},S0=(a,t)=>{for(let e in t)e in a?a[e]=yu(a[e],t[e]):a[e]=t[e];return a},Lx=(a,t)=>{let{extend:e=null,slots:i={},variants:r={},compoundVariants:o=[],compoundSlots:c=[],defaultVariants:u={}}=a,h={...Ek,...t},f=e?.base?yu(e.base,a?.base):a?.base,p=e?.variants&&!Qe(e.variants)?Nx(r,e.variants):r,m=e?.defaultVariants&&!Qe(e.defaultVariants)?{...e.defaultVariants,...u}:u;!Qe(h.twMergeConfig)&&!wk(h.twMergeConfig,up)&&(dp=!0,up=h.twMergeConfig);let v=Qe(e?.slots),y=Qe(i)?{}:{base:yu(a?.base,v&&e?.base),...i},w=v?y:S0({...e?.slots},Qe(y)?{base:a?.base}:y),x=Qe(e?.compoundVariants)?o:Rx(e?.compoundVariants,o),E=k=>{if(Qe(p)&&Qe(i)&&v)return Wc(f,k?.class,k?.className)(h);if(x&&!Array.isArray(x))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof x}`);if(c&&!Array.isArray(c))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof c}`);let M=(j,Z,$=[],J)=>{let T=$;if(typeof Z=="string"){let P=A0(Z).split(" ");for(let H=0;H<P.length;H++)T.push(`${j}:${P[H]}`)}else if(Array.isArray(Z))for(let P=0;P<Z.length;P++)T.push(`${j}:${Z[P]}`);else if(typeof Z=="object"&&typeof J=="string"&&J in Z){let P=Z[J];if(P&&typeof P=="string"){let H=A0(P).split(" "),rt=[];for(let R=0;R<H.length;R++)rt.push(`${j}:${H[R]}`);T[J]=T[J]?T[J].concat(rt):rt}else if(Array.isArray(P)&&P.length>0){let H=[];for(let rt=0;rt<P.length;rt++)H.push(`${j}:${P[rt]}`);T[J]=H}}return T},N=(j,Z=p,$=null,J=null)=>{let T=Z[j];if(!T||Qe(T))return null;let P=J?.[j]??k?.[j];if(P===null)return null;let H=x0(P),rt=Array.isArray(h.responsiveVariants)&&h.responsiveVariants.length>0||h.responsiveVariants===!0,R=m?.[j],G=[];if(typeof H=="object"&&rt)for(let[at,lt]of Object.entries(H)){let ot=T[lt];if(at==="initial"){R=lt;continue}Array.isArray(h.responsiveVariants)&&!h.responsiveVariants.includes(at)||(G=M(at,ot,G,$))}let tt=H!=null&&typeof H!="object"?H:x0(R),X=T[tt||"false"];return typeof G=="object"&&typeof $=="string"&&G[$]?S0(G,X):G.length>0?(G.push(X),$==="base"?G.join(" "):G):X},D=()=>{if(!p)return null;let j=Object.keys(p),Z=[];for(let $=0;$<j.length;$++){let J=N(j[$],p);J&&Z.push(J)}return Z},z=(j,Z)=>{if(!p||typeof p!="object")return null;let $=[];for(let J in p){let T=N(J,p,j,Z),P=j==="base"&&typeof T=="string"?T:T&&T[j];P&&$.push(P)}return $},B={};for(let j in k){let Z=k[j];Z!==void 0&&(B[j]=Z)}let U=(j,Z)=>{let $=typeof k?.[j]=="object"?{[j]:k[j]?.initial}:{};return{...m,...B,...$,...Z}},Q=(j=[],Z)=>{let $=[],J=j.length;for(let T=0;T<J;T++){let{class:P,className:H,...rt}=j[T],R=!0,G=U(null,Z);for(let tt in rt){let X=rt[tt],at=G[tt];if(Array.isArray(X)){if(!X.includes(at)){R=!1;break}}else{if((X==null||X===!1)&&(at==null||at===!1))continue;if(at!==X){R=!1;break}}}R&&(P&&$.push(P),H&&$.push(H))}return $},it=j=>{let Z=Q(x,j);if(!Array.isArray(Z))return Z;let $={},J=Wc;for(let T=0;T<Z.length;T++){let P=Z[T];if(typeof P=="string")$.base=J($.base,P)(h);else if(typeof P=="object")for(let H in P)$[H]=J($[H],P[H])(h)}return $},I=j=>{if(c.length<1)return null;let Z={},$=U(null,j);for(let J=0;J<c.length;J++){let{slots:T=[],class:P,className:H,...rt}=c[J];if(!Qe(rt)){let R=!0;for(let G in rt){let tt=$[G],X=rt[G];if(tt===void 0||(Array.isArray(X)?!X.includes(tt):X!==tt)){R=!1;break}}if(!R)continue}for(let R=0;R<T.length;R++){let G=T[R];Z[G]||(Z[G]=[]),Z[G].push([P,H])}}return Z};if(!Qe(i)||!v){let j={};if(typeof w=="object"&&!Qe(w)){let Z=Wc;for(let $ in w)j[$]=J=>{let T=it(J),P=I(J);return Z(w[$],z($,J),T?T[$]:void 0,P?P[$]:void 0,J?.class,J?.className)(h)}}return j}return Wc(f,D(),Q(x),k?.class,k?.className)(h)},S=()=>{if(!(!p||typeof p!="object"))return Object.keys(p)};return E.variantKeys=S(),E.extend=e,E.base=f,E.slots=w,E.variants=p,E.defaultVariants=m,E.compoundSlots=c,E.compoundVariants=x,E};const Bu=Lx({base:"tracking-tight inline font-semibold",variants:{color:{violet:"from-[#FF1CF7] to-[#b249f8]",yellow:"from-[#FF705B] to-[#FFB457]",blue:"from-[#5EA2EF] to-[#0072F5]",cyan:"from-[#00b7fa] to-[#01cfea]",green:"from-[#6FEE8D] to-[#17c964]",pink:"from-[#FF72E1] to-[#F54C7A]",foreground:"dark:from-[#FFFFFF] dark:to-[#4B4B4B]"},size:{sm:"text-3xl lg:text-4xl",md:"text-[2.3rem] lg:text-5xl",lg:"text-4xl lg:text-6xl"},fullWidth:{true:"w-full block"}},defaultVariants:{size:"md"},compoundVariants:[{color:["violet","yellow","blue","cyan","green","pink","foreground"],class:"bg-clip-text text-transparent bg-gradient-to-b"}]});Lx({base:"w-full md:w-1/2 my-2 text-lg lg:text-xl text-default-600 block max-w-full",variants:{fullWidth:{true:"!w-full"}},defaultVariants:{fullWidth:!0}});gr.workerSrc=`//unpkg.com/pdfjs-dist@${vx}/build/pdf.worker.min.mjs`;const _k=()=>{const[a,t]=_.useState([]),[e,i]=_.useState(!0),r=a[a.length-1];return _.useEffect(()=>{fetch(`${Bn.links.github.api}/calendar.json`).then(o=>o.json()).then(o=>{o.forEach(c=>{c.link=`${Bn.links.github.api}/calendar/${c.year}/${c.title}.pdf`}),t(o),i(!1)}).catch(()=>i(!1))},[]),L.jsx(Rr,{children:L.jsxs("section",{className:"flex flex-col items-center justify-center gap-4 py-8 md:py-10",children:[L.jsx("h1",{className:Bu(),children:r?.title||""}),L.jsx(MR,{color:"primary",variant:"ghost",children:""}),e?L.jsx(Hp,{}):L.jsx(L.Fragment,{})]})})};function Ck(){return L.jsx(Rr,{children:L.jsx("section",{className:"flex flex-col items-center justify-center gap-4 py-8 md:py-10",children:L.jsxs("div",{className:"inline-block max-w-lg text-center justify-center",children:[L.jsx("h1",{className:Bu(),children:""}),L.jsx("p",{children:""})]})})})}function Tk(){return L.jsx(Rr,{children:L.jsx("section",{className:"flex flex-col items-center justify-center gap-4 py-8 md:py-10",children:L.jsxs("div",{className:"inline-block max-w-lg text-center justify-center",children:[L.jsx("h1",{className:Bu(),children:""}),L.jsx("p",{children:""})]})})})}function Mk(){return L.jsx(Rr,{children:L.jsx("section",{className:"flex flex-col items-center justify-center gap-4 py-8 md:py-10",children:L.jsxs("div",{className:"inline-block max-w-lg text-center justify-center",children:[L.jsx("h1",{className:Bu(),children:""}),L.jsx("p",{children:""})]})})})}function Rk(){return L.jsx(Rr,{children:L.jsx("section",{className:"flex flex-col items-center justify-center gap-4 py-8 md:py-10",children:L.jsxs("div",{className:"text-center",children:[L.jsx("h1",{className:"text-4xl font-bold",children:"404"}),L.jsx("p",{className:"text-xl mt-2",children:"Page Not Found"}),L.jsx("p",{className:"text-default-500 mt-2",children:"The page you are looking for does not exist."}),L.jsx(pi,{className:"mt-6",href:"/",children:"Go back to Home"})]})})})}function Nk(){const a=gp();return _.useEffect(()=>{const t=sessionStorage.getItem("redirect");if(t){sessionStorage.removeItem("redirect");const e=new URL(t);a(e.pathname,{replace:!0})}},[a]),L.jsxs(FE,{children:[L.jsx(Ks,{element:L.jsx(_R,{}),path:"/"}),L.jsx(Ks,{element:L.jsx(_k,{}),path:"/calendar"}),L.jsx(Ks,{element:L.jsx(Ck,{}),path:"/search"}),L.jsx(Ks,{element:L.jsx(Tk,{}),path:"/teacher-schedule"}),L.jsx(Ks,{element:L.jsx(Mk,{}),path:"/class-schedule"}),L.jsx(Ks,{element:L.jsx(Rk,{}),path:"*"})]})}function kk({children:a}){const t=gp();return L.jsx(w2,{navigate:t,useHref:L0,children:a})}KS.createRoot(document.getElementById("root")).render(L.jsx(Ft.StrictMode,{children:L.jsx(l_,{children:L.jsx(kk,{children:L.jsx(Nk,{})})})}));export{E1 as A,_ as B,ET as C,Lf as D,XC as E,y1 as F,YC as G,LC as M,Nf as a,St as b,kC as c,Xs as d,Pk as e,p1 as f,zC as g,u1 as h,Dk as i,ra as j,Lp as k,WC as l,f1 as m,Rp as n,lu as o,of as p,PC as q,fT as r,x1 as s,Ru as t,C1 as u,Ok as v,AT as w,vT as x,lT as y,cT as z};
